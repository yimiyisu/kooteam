(()=>{var e={23:(e,t,n)=>{"use strict";t.X=function(e,t,n,r,a,i){const l=(0,o.resolveComponent)("el-cascader"),u=(0,o.resolveComponent)("el-form-item");return(0,o.openBlock)(),(0,o.createBlock)(u,{label:"api\u5217\u8868"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{options:a.options,props:a.cascaderProps,onChange:i.handleCascaderChange,clearable:"",filterable:"","show-all-levels":!1},null,8,["options","props","onChange"])]),_:1})};var o=n(4061)},206:(e,t,n)=>{var o=n(4061);Object.keys(o).forEach(function(e){t[e]=o[e]}),t.set=function(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)},t.del=function(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]},t.Vue=o,t.Vue2=void 0,t.isVue2=!1,t.isVue3=!0,t.install=function(){}},244:(e,t,n)=>{"use strict";var o=n(206);function r(e,t){var n;const r=o.shallowRef();return o.watchEffect(()=>{r.value=e()},{...t,flush:null!=(n=null==t?void 0:t.flush)?n:"sync"}),o.readonly(r)}function a(e,t){let n,r,a;const i=o.ref(!0),l=()=>{i.value=!0,a()};o.watch(e,l,{flush:"sync"});const u="function"==typeof t?t:t.get,s="function"==typeof t?void 0:t.set,c=o.customRef((e,t)=>(r=e,a=t,{get:()=>(i.value&&(n=u(),i.value=!1),r(),n),set(e){null==s||s(e)}}));return Object.isExtensible(c)&&(c.trigger=l),c}function i(e){return!!o.getCurrentScope()&&(o.onScopeDispose(e),!0)}const l=new WeakMap,u=(e,t)=>{var n;const r=null==(n=o.getCurrentInstance())?void 0:n.proxy;if(null==r)throw new Error("provideLocal must be called in setup");l.has(r)||l.set(r,Object.create(null));l.get(r)[e]=t,o.provide(e,t)},s=(...e)=>{var t;const n=e[0],r=null==(t=o.getCurrentInstance())?void 0:t.proxy;if(null==r)throw new Error("injectLocal must be called in setup");return l.has(r)&&n in l.get(r)?l.get(r)[n]:o.inject(...e)};function c(e,t,{enumerable:n=!1,unwrap:r=!0}={}){if(o.isVue3||o.version.startsWith("2.7.")){for(const[a,i]of Object.entries(t))"value"!==a&&(o.isRef(i)&&r?Object.defineProperty(e,a,{get:()=>i.value,set(e){i.value=e},enumerable:n}):Object.defineProperty(e,a,{value:i,enumerable:n}));return e}}function d(e){return"function"==typeof e?e():o.unref(e)}const f=d;function v(e,t){const n=!1===(null==t?void 0:t.computedGetter)?o.unref:d;return function(...t){return o.computed(()=>e.apply(this,t.map(e=>n(e))))}}function p(e){if(!o.isRef(e))return o.reactive(e);const t=new Proxy({},{get:(t,n,r)=>o.unref(Reflect.get(e.value,n,r)),set:(t,n,r)=>(o.isRef(e.value[n])&&!o.isRef(r)?e.value[n].value=r:e.value[n]=r,!0),deleteProperty:(t,n)=>Reflect.deleteProperty(e.value,n),has:(t,n)=>Reflect.has(e.value,n),ownKeys:()=>Object.keys(e.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})});return o.reactive(t)}function h(e){return p(o.computed(e))}const m="undefined"!=typeof window&&"undefined"!=typeof document,g="undefined"!=typeof WorkerGlobalScope&&globalThis instanceof WorkerGlobalScope,y=Object.prototype.toString,w=e=>"[object Object]"===y.call(e),b=()=>+Date.now(),x=()=>{},S=_();function _(){var e,t;return m&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=null==window?void 0:window.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==window?void 0:window.navigator.userAgent))}function E(e,t){return function(...n){return new Promise((o,r)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(o).catch(r)})}}const k=e=>e();function N(e,t={}){let n,o,r=x;const a=e=>{clearTimeout(e),r(),r=x};return i=>{const l=d(e),u=d(t.maxWait);return n&&a(n),l<=0||void 0!==u&&u<=0?(o&&(a(o),o=null),Promise.resolve(i())):new Promise((e,s)=>{r=t.rejectOnCancel?s:e,u&&!o&&(o=setTimeout(()=>{n&&a(n),o=null,e(i())},u)),n=setTimeout(()=>{o&&a(o),o=null,e(i())},l)})}}function C(...e){let t,n,r,a,i,l,u=0,s=!0,c=x;o.isRef(e[0])||"object"!=typeof e[0]?[r,a=!0,i=!0,l=!1]=e:({delay:r,trailing:a=!0,leading:i=!0,rejectOnCancel:l=!1}=e[0]);const f=()=>{t&&(clearTimeout(t),t=void 0,c(),c=x)};return e=>{const o=d(r),v=Date.now()-u,p=()=>n=e();return f(),o<=0?(u=Date.now(),p()):(v>o&&(i||!s)?(u=Date.now(),p()):a&&(n=new Promise((e,n)=>{c=l?n:e,t=setTimeout(()=>{u=Date.now(),s=!0,e(p()),f()},Math.max(0,o-v))})),i||t||(t=setTimeout(()=>s=!0,o)),s=!1,n)}}function T(e=k){const t=o.ref(!0);return{isActive:o.readonly(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}const A={mounted:o.isVue3?"mounted":"inserted",updated:o.isVue3?"updated":"componentUpdated",unmounted:o.isVue3?"unmounted":"unbind"};function M(e){const t=Object.create(null);return n=>t[n]||(t[n]=e(n))}const O=/\B([A-Z])/g,I=M(e=>e.replace(O,"-$1").toLowerCase()),P=/-(\w)/g,V=M(e=>e.replace(P,(e,t)=>t?t.toUpperCase():""));function D(e,t=!1,n="Timeout"){return new Promise((o,r)=>{t?setTimeout(()=>r(n),e):setTimeout(o,e)})}function B(e,...t){return t.some(t=>t in e)}function R(e){return e||o.getCurrentInstance()}function z(...e){if(1!==e.length)return o.toRef(...e);const t=e[0];return"function"==typeof t?o.readonly(o.customRef(()=>({get:t,set:x}))):o.ref(t)}const F=z;function L(e,t=1e4){return o.customRef((n,o)=>{let r,a=d(e);return i(()=>{clearTimeout(r)}),{get:()=>(n(),a),set(n){a=n,o(),clearTimeout(r),r=setTimeout(()=>{a=d(e),o()},d(t))}}})}function H(e,t=200,n={}){return E(N(t,n),e)}function j(e,t=200,n={}){const r=o.ref(e.value),a=H(()=>{r.value=e.value},t,n);return o.watch(e,()=>a()),r}function Y(e,t=200,n=!1,o=!0,r=!1){return E(C(t,n,o,r),e)}function G(e,t=200,n=!0,r=!0){if(t<=0)return e;const a=o.ref(e.value),i=Y(()=>{a.value=e.value},t,n,r);return o.watch(e,()=>i()),a}function U(e,t={}){let n,r,a=e;function i(e=!0){return e&&n(),a}function l(e,n=!0){var o,i;if(e===a)return;const l=a;!1!==(null==(o=t.onBeforeChange)?void 0:o.call(t,e,l))&&(a=e,null==(i=t.onChanged)||i.call(t,e,l),n&&r())}return c(o.customRef((e,t)=>(n=e,r=t,{get:()=>i(),set(e){l(e)}})),{get:i,set:l,untrackedGet:()=>i(!1),silentSet:e=>l(e,!1),peek:()=>i(!1),lay:e=>l(e,!1)},{enumerable:!0})}const X=U;function W(e,t,n={}){const{eventFilter:r=k,...a}=n;return o.watch(e,E(r,t),a)}function q(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:a,pause:i,resume:l,isActive:u}=T(o);return{stop:W(e,t,{...r,eventFilter:a}),pause:i,resume:l,isActive:u}}function Z(e,t=!1){function n(n,{flush:r="sync",deep:a=!1,timeout:i,throwOnTimeout:l}={}){let u=null;const s=[new Promise(i=>{u=o.watch(e,e=>{n(e)!==t&&(null==u||u(),i(e))},{flush:r,deep:a,immediate:!0})})];return null!=i&&s.push(D(i,l).then(()=>d(e)).finally(()=>null==u?void 0:u())),Promise.race(s)}function r(r,a){if(!o.isRef(r))return n(e=>e===r,a);const{flush:i="sync",deep:l=!1,timeout:u,throwOnTimeout:s}=null!=a?a:{};let c=null;const f=[new Promise(n=>{c=o.watch([e,r],([e,o])=>{t!==(e===o)&&(null==c||c(),n(e))},{flush:i,deep:l,immediate:!0})})];return null!=u&&f.push(D(u,s).then(()=>d(e)).finally(()=>(null==c||c(),d(e)))),Promise.race(f)}function a(e){return i(1,e)}function i(e=1,t){let o=-1;return n(()=>(o+=1,o>=e),t)}if(Array.isArray(d(e))){return{toMatch:n,toContains:function(e,t){return n(t=>{const n=Array.from(t);return n.includes(e)||n.includes(d(e))},t)},changed:a,changedTimes:i,get not(){return Z(e,!t)}}}return{toMatch:n,toBe:r,toBeTruthy:function(e){return n(e=>Boolean(e),e)},toBeNull:function(e){return r(null,e)},toBeNaN:function(e){return n(Number.isNaN,e)},toBeUndefined:function(e){return r(void 0,e)},changed:a,changedTimes:i,get not(){return Z(e,!t)}}}function K(e,t){return e===t}const J=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,Q=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function ee(e,t,n,o){let r=e<12?"AM":"PM";return o&&(r=r.split("").reduce((e,t)=>e+`${t}.`,"")),n?r.toLowerCase():r}function te(e){const t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}function ne(e,t,n={}){var o;const r=e.getFullYear(),a=e.getMonth(),i=e.getDate(),l=e.getHours(),u=e.getMinutes(),s=e.getSeconds(),c=e.getMilliseconds(),d=e.getDay(),f=null!=(o=n.customMeridiem)?o:ee,v={Yo:()=>te(r),YY:()=>String(r).slice(-2),YYYY:()=>r,M:()=>a+1,Mo:()=>te(a+1),MM:()=>`${a+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(n.locales,{month:"short"}),MMMM:()=>e.toLocaleDateString(n.locales,{month:"long"}),D:()=>String(i),Do:()=>te(i),DD:()=>`${i}`.padStart(2,"0"),H:()=>String(l),Ho:()=>te(l),HH:()=>`${l}`.padStart(2,"0"),h:()=>`${l%12||12}`.padStart(1,"0"),ho:()=>te(l%12||12),hh:()=>`${l%12||12}`.padStart(2,"0"),m:()=>String(u),mo:()=>te(u),mm:()=>`${u}`.padStart(2,"0"),s:()=>String(s),so:()=>te(s),ss:()=>`${s}`.padStart(2,"0"),SSS:()=>`${c}`.padStart(3,"0"),d:()=>d,dd:()=>e.toLocaleDateString(n.locales,{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(n.locales,{weekday:"short"}),dddd:()=>e.toLocaleDateString(n.locales,{weekday:"long"}),A:()=>f(l,u),AA:()=>f(l,u,!1,!0),a:()=>f(l,u,!0),aa:()=>f(l,u,!0,!0)};return t.replace(Q,(e,t)=>{var n,o;return null!=(o=null!=t?t:null==(n=v[e])?void 0:n.call(v))?o:e})}function oe(e){if(null===e)return new Date(Number.NaN);if(void 0===e)return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){const t=e.match(J);if(t){const e=t[2]-1||0,n=(t[7]||"0").substring(0,3);return new Date(t[1],e,t[3]||1,t[4]||0,t[5]||0,t[6]||0,n)}}return new Date(e)}function re(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:a=!1}=n;let l=null;const u=o.ref(!1);function s(){l&&(clearInterval(l),l=null)}function c(){u.value=!1,s()}function f(){const n=d(t);n<=0||(u.value=!0,a&&e(),s(),l=setInterval(e,n))}if(r&&m&&f(),o.isRef(t)||"function"==typeof t){i(o.watch(t,()=>{u.value&&m&&f()}))}return i(c),{isActive:u,pause:c,resume:f}}function ae(e,t,n={}){const{immediate:r=!0}=n,a=o.ref(!1);let l=null;function u(){l&&(clearTimeout(l),l=null)}function s(){a.value=!1,u()}function c(...n){u(),a.value=!0,l=setTimeout(()=>{a.value=!1,l=null,e(...n)},d(t))}return r&&(a.value=!0,m&&c()),i(s),{isPending:o.readonly(a),start:c,stop:s}}function ie(e,t,n={}){const{debounce:o=0,maxWait:r,...a}=n;return W(e,t,{...a,eventFilter:N(o,{maxWait:r})})}function le(e,t,n={}){const{eventFilter:r=k,...a}=n,i=E(r,t);let l,u,s;if("sync"===a.flush){const t=o.ref(!1);u=()=>{},l=e=>{t.value=!0,e(),t.value=!1},s=o.watch(e,(...e)=>{t.value||i(...e)},a)}else{const t=[],n=o.ref(0),r=o.ref(0);u=()=>{n.value=r.value},t.push(o.watch(e,()=>{r.value++},{...a,flush:"sync"})),l=e=>{const t=r.value;e(),n.value+=r.value-t},t.push(o.watch(e,(...e)=>{const t=n.value>0&&n.value===r.value;n.value=0,r.value=0,t||i(...e)},a)),s=()=>{t.forEach(e=>e())}}return{stop:s,ignoreUpdates:l,ignorePrevAsyncUpdates:u}}function ue(e,t,n={}){const{throttle:o=0,trailing:r=!0,leading:a=!0,...i}=n;return W(e,t,{...i,eventFilter:C(o,r,a)})}t.assert=(e,...t)=>{},t.autoResetRef=L,t.bypassFilter=k,t.camelize=V,t.clamp=(e,t,n)=>Math.min(n,Math.max(t,e)),t.computedEager=r,t.computedWithControl=a,t.containsProp=B,t.controlledComputed=a,t.controlledRef=X,t.createEventHook=function(){const e=new Set,t=t=>{e.delete(t)};return{on:n=>{e.add(n);const o=()=>t(n);return i(o),{off:o}},off:t,trigger:(...t)=>Promise.all(Array.from(e).map(e=>e(...t)))}},t.createFilterWrapper=E,t.createGlobalState=function(e){let t,n=!1;const r=o.effectScope(!0);return(...o)=>(n||(t=r.run(()=>e(...o)),n=!0),t)},t.createInjectionState=function(e,t){const n=(null==t?void 0:t.injectionKey)||Symbol(e.name||"InjectionState"),o=null==t?void 0:t.defaultValue;return[(...t)=>{const o=e(...t);return u(n,o),o},()=>s(n,o)]},t.createReactiveFn=v,t.createSharedComposable=function(e){let t,n,r=0;const a=()=>{r-=1,n&&r<=0&&(n.stop(),t=void 0,n=void 0)};return(...l)=>(r+=1,t||(n=o.effectScope(!0),t=n.run(()=>e(...l))),i(a),t)},t.createSingletonPromise=function(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const e=t;t=void 0,e&&await e},n},t.debounceFilter=N,t.debouncedRef=j,t.debouncedWatch=ie,t.directiveHooks=A,t.eagerComputed=r,t.extendRef=c,t.formatDate=ne,t.get=function(e,t){return null==t?o.unref(e):o.unref(e)[t]},t.getLifeCycleTarget=R,t.hasOwn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.hyphenate=I,t.identity=function(e){return e},t.ignorableWatch=le,t.increaseWithUnit=function(e,t){var n;if("number"==typeof e)return e+t;const o=(null==(n=e.match(/^-?\d+\.?\d*/))?void 0:n[0])||"",r=e.slice(o.length),a=Number.parseFloat(o)+t;return Number.isNaN(a)?e:a+r},t.injectLocal=s,t.invoke=function(e){return e()},t.isClient=m,t.isDef=e=>void 0!==e,t.isDefined=function(e){return null!=o.unref(e)},t.isIOS=S,t.isObject=w,t.isWorker=g,t.makeDestructurable=function(e,t){if("undefined"!=typeof Symbol){const n={...e};return Object.defineProperty(n,Symbol.iterator,{enumerable:!1,value(){let e=0;return{next:()=>({value:t[e++],done:e>t.length})}}}),n}return Object.assign([...t],e)},t.noop=x,t.normalizeDate=oe,t.notNullish=e=>null!=e,t.now=()=>Date.now(),t.objectEntries=function(e){return Object.entries(e)},t.objectOmit=function(e,t,n=!1){return Object.fromEntries(Object.entries(e).filter(([e,o])=>!(n&&void 0===o||t.includes(e))))},t.objectPick=function(e,t,n=!1){return t.reduce((t,o)=>(o in e&&(n&&void 0===e[o]||(t[o]=e[o])),t),{})},t.pausableFilter=T,t.pausableWatch=q,t.promiseTimeout=D,t.provideLocal=u,t.rand=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),t.reactify=v,t.reactifyObject=function(e,t={}){let n,o=[];if(Array.isArray(t))o=t;else{n=t;const{includeOwnProperties:r=!0}=t;o.push(...Object.keys(e)),r&&o.push(...Object.getOwnPropertyNames(e))}return Object.fromEntries(o.map(t=>{const o=e[t];return[t,"function"==typeof o?v(o.bind(e),n):o]}))},t.reactiveComputed=h,t.reactiveOmit=function(e,...t){const n=t.flat(),r=n[0];return h(()=>"function"==typeof r?Object.fromEntries(Object.entries(o.toRefs(e)).filter(([e,t])=>!r(d(t),e))):Object.fromEntries(Object.entries(o.toRefs(e)).filter(e=>!n.includes(e[0]))))},t.reactivePick=function(e,...t){const n=t.flat(),r=n[0];return h(()=>"function"==typeof r?Object.fromEntries(Object.entries(o.toRefs(e)).filter(([e,t])=>r(d(t),e))):Object.fromEntries(n.map(t=>[t,z(e,t)])))},t.refAutoReset=L,t.refDebounced=j,t.refDefault=function(e,t){return o.computed({get(){var n;return null!=(n=e.value)?n:t},set(t){e.value=t}})},t.refThrottled=G,t.refWithControl=U,t.resolveRef=F,t.resolveUnref=f,t.set=function(...e){if(2===e.length){const[t,n]=e;t.value=n}if(3===e.length)if(o.isVue2)o.set(...e);else{const[t,n,o]=e;t[n]=o}},t.syncRef=function(e,t,...[n]){const{flush:o="sync",deep:r=!1,immediate:a=!0,direction:i="both",transform:l={}}=n||{},u=[],s="ltr"in l&&l.ltr||(e=>e),c="rtl"in l&&l.rtl||(e=>e);return"both"!==i&&"ltr"!==i||u.push(q(e,e=>{u.forEach(e=>e.pause()),t.value=s(e),u.forEach(e=>e.resume())},{flush:o,deep:r,immediate:a})),"both"!==i&&"rtl"!==i||u.push(q(t,t=>{u.forEach(e=>e.pause()),e.value=c(t),u.forEach(e=>e.resume())},{flush:o,deep:r,immediate:a})),()=>{u.forEach(e=>e.stop())}},t.syncRefs=function(e,t,n={}){const{flush:r="sync",deep:a=!1,immediate:i=!0}=n;return Array.isArray(t)||(t=[t]),o.watch(e,e=>t.forEach(t=>t.value=e),{flush:r,deep:a,immediate:i})},t.throttleFilter=C,t.throttledRef=G,t.throttledWatch=ue,t.timestamp=b,t.toReactive=p,t.toRef=z,t.toRefs=function(e,t={}){if(!o.isRef(e))return o.toRefs(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=o.customRef(()=>({get:()=>e.value[r],set(n){var o;if(null==(o=d(t.replaceRef))||o)if(Array.isArray(e.value)){const t=[...e.value];t[r]=n,e.value=t}else{const t={...e.value,[r]:n};Object.setPrototypeOf(t,Object.getPrototypeOf(e.value)),e.value=t}else e.value[r]=n}}));return n},t.toValue=d,t.tryOnBeforeMount=function(e,t=!0,n){R(n)?o.onBeforeMount(e,n):t?e():o.nextTick(e)},t.tryOnBeforeUnmount=function(e,t){R(t)&&o.onBeforeUnmount(e,t)},t.tryOnMounted=function(e,t=!0,n){R()?o.onMounted(e,n):t?e():o.nextTick(e)},t.tryOnScopeDispose=i,t.tryOnUnmounted=function(e,t){R(t)&&o.onUnmounted(e,t)},t.until=function(e){return Z(e)},t.useArrayDifference=function(...e){var t;const n=e[0],r=e[1];let a=null!=(t=e[2])?t:K;if("string"==typeof a){const e=a;a=(t,n)=>t[e]===n[e]}return o.computed(()=>d(n).filter(e=>-1===d(r).findIndex(t=>a(e,t))))},t.useArrayEvery=function(e,t){return o.computed(()=>d(e).every((e,n,o)=>t(d(e),n,o)))},t.useArrayFilter=function(e,t){return o.computed(()=>d(e).map(e=>d(e)).filter(t))},t.useArrayFind=function(e,t){return o.computed(()=>d(d(e).find((e,n,o)=>t(d(e),n,o))))},t.useArrayFindIndex=function(e,t){return o.computed(()=>d(e).findIndex((e,n,o)=>t(d(e),n,o)))},t.useArrayFindLast=function(e,t){return o.computed(()=>d(Array.prototype.findLast?d(e).findLast((e,n,o)=>t(d(e),n,o)):function(e,t){let n=e.length;for(;n-- >0;)if(t(e[n],n,e))return e[n]}(d(e),(e,n,o)=>t(d(e),n,o))))},t.useArrayIncludes=function(...e){var t;const n=e[0],r=e[1];let a=e[2],i=0;var l;if(w(l=a)&&B(l,"formIndex","comparator")&&(i=null!=(t=a.fromIndex)?t:0,a=a.comparator),"string"==typeof a){const e=a;a=(t,n)=>t[e]===d(n)}return a=null!=a?a:(e,t)=>e===d(t),o.computed(()=>d(n).slice(i).some((e,t,n)=>a(d(e),d(r),t,d(n))))},t.useArrayJoin=function(e,t){return o.computed(()=>d(e).map(e=>d(e)).join(d(t)))},t.useArrayMap=function(e,t){return o.computed(()=>d(e).map(e=>d(e)).map(t))},t.useArrayReduce=function(e,t,...n){const r=(e,n,o)=>t(d(e),d(n),o);return o.computed(()=>{const t=d(e);return n.length?t.reduce(r,d(n[0])):t.reduce(r)})},t.useArraySome=function(e,t){return o.computed(()=>d(e).some((e,n,o)=>t(d(e),n,o)))},t.useArrayUnique=function(e,t){return o.computed(()=>{const n=d(e).map(e=>d(e));return t?(r=t,(o=n).reduce((e,t)=>(e.some(e=>r(t,e,o))||e.push(t),e),[])):function(e){return Array.from(new Set(e))}(n);var o,r})},t.useCounter=function(e=0,t={}){let n=o.unref(e);const r=o.ref(e),{max:a=Number.POSITIVE_INFINITY,min:i=Number.NEGATIVE_INFINITY}=t,l=e=>r.value=Math.max(i,Math.min(a,e));return{count:r,inc:(e=1)=>r.value=Math.max(Math.min(a,r.value+e),i),dec:(e=1)=>r.value=Math.min(Math.max(i,r.value-e),a),get:()=>r.value,set:l,reset:(e=n)=>(n=e,l(e))}},t.useDateFormat=function(e,t="HH:mm:ss",n={}){return o.computed(()=>ne(oe(d(e)),d(t),n))},t.useDebounce=j,t.useDebounceFn=H,t.useInterval=function(e=1e3,t={}){const{controls:n=!1,immediate:r=!0,callback:a}=t,i=o.ref(0),l=()=>i.value+=1,u=()=>{i.value=0},s=re(a?()=>{l(),a(i.value)}:l,e,{immediate:r});return n?{counter:i,reset:u,...s}:i},t.useIntervalFn=re,t.useLastChanged=function(e,t={}){var n;const r=o.ref(null!=(n=t.initialValue)?n:null);return o.watch(e,()=>r.value=b(),t),r},t.useThrottle=G,t.useThrottleFn=Y,t.useTimeout=function(e=1e3,t={}){const{controls:n=!1,callback:r}=t,a=ae(null!=r?r:x,e,t),i=o.computed(()=>!a.isPending.value);return n?{ready:i,...a}:i},t.useTimeoutFn=ae,t.useToNumber=function(e,t={}){const{method:n="parseFloat",radix:r,nanToZero:a}=t;return o.computed(()=>{let t=d(e);return"string"==typeof t&&(t=Number[n](t,r)),a&&Number.isNaN(t)&&(t=0),t})},t.useToString=function(e){return o.computed(()=>`${d(e)}`)},t.useToggle=function(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,a=o.isRef(e),i=o.ref(e);function l(e){if(arguments.length)return i.value=e,i.value;{const e=d(n);return i.value=i.value===e?d(r):e,i.value}}return a?l:[i,l]},t.watchArray=function(e,t,n){let r=(null==n?void 0:n.immediate)?[]:[...e instanceof Function?e():Array.isArray(e)?e:d(e)];return o.watch(e,(e,n,o)=>{const a=Array.from({length:r.length}),i=[];for(const t of e){let e=!1;for(let n=0;n<r.length;n++)if(!a[n]&&t===r[n]){a[n]=!0,e=!0;break}e||i.push(t)}const l=r.filter((e,t)=>!a[t]);t(e,r,i,l,o),r=[...e]},n)},t.watchAtMost=function(e,t,n){const{count:r,...a}=n,i=o.ref(0),l=W(e,(...e)=>{i.value+=1,i.value>=d(r)&&o.nextTick(()=>l()),t(...e)},a);return{count:i,stop:l}},t.watchDebounced=ie,t.watchDeep=function(e,t,n){return o.watch(e,t,{...n,deep:!0})},t.watchIgnorable=le,t.watchImmediate=function(e,t,n){return o.watch(e,t,{...n,immediate:!0})},t.watchOnce=function(e,t,n){const r=o.watch(e,(...e)=>(o.nextTick(()=>r()),t(...e)),n);return r},t.watchPausable=q,t.watchThrottled=ue,t.watchTriggerable=function(e,t,n={}){let r;function a(e){r=e}const i=(e,n)=>(function(){if(!r)return;const e=r;r=void 0,e()}(),t(e,n,a)),l=le(e,i,n),{ignoreUpdates:u}=l;return{...l,trigger:()=>{let t;return u(()=>{var n;t=i((n=e,o.isReactive(n)?n:Array.isArray(n)?n.map(e=>d(e)):d(n)),function(e){return Array.isArray(e)?e.map(()=>{}):void 0}(e))}),t}}},t.watchWithFilter=W,t.whenever=function(e,t,n){const r=o.watch(e,(e,a,i)=>{e&&((null==n?void 0:n.once)&&o.nextTick(()=>r()),t(e,a,i))},{...n,once:!1});return r}},419:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>r.B,default:()=>a});var o=n(449),r=n(3594);const a=(0,n(6262).A)(r.A,[["render",o.X]])},449:(e,t,n)=>{"use strict";t.X=function(e,t,n,r,a,i){const l=(0,o.resolveComponent)("api"),u=(0,o.resolveComponent)("z-form"),s=(0,o.resolveComponent)("z-action");return(0,o.openBlock)(),(0,o.createBlock)(s,{ref:"action",mode:"drawer",title:"\u8282\u70b9\u914d\u7f6e",width:"720px"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(u,{data:a.data,beforeSubmit:i.submit,fields:a.fields},{api:(0,o.withCtx)(e=>[(0,o.createVNode)(l,{data:e},null,8,["data"])]),_:1},8,["data","beforeSubmit","fields"])]),_:1},512)};var o=n(4061)},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},627:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a),l=n(6539),u=i()(r());u.i(l.A),u.push([e.id,".vue-flow{position:relative;width:100%;height:100%;overflow:hidden;z-index:0;direction:ltr}.vue-flow__container{position:absolute;height:100%;width:100%;left:0;top:0}.vue-flow__pane{z-index:1}.vue-flow__pane.draggable{cursor:grab}.vue-flow__pane.selection{cursor:pointer}.vue-flow__pane.dragging{cursor:grabbing}.vue-flow__transformationpane{transform-origin:0 0;z-index:2;pointer-events:none}.vue-flow__viewport{z-index:4;overflow:clip}.vue-flow__selection{z-index:6}.vue-flow__edge-labels{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.vue-flow__nodesselection-rect:focus,.vue-flow__nodesselection-rect:focus-visible{outline:none}.vue-flow .vue-flow__edges{pointer-events:none;overflow:visible}.vue-flow__edge-path,.vue-flow__connection-path{stroke:#b1b1b7;stroke-width:1;fill:none}.vue-flow__edge{pointer-events:visibleStroke;cursor:pointer}.vue-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.vue-flow__edge.animated path.vue-flow__edge-interaction{stroke-dasharray:none;animation:none}.vue-flow__edge.inactive{pointer-events:none}.vue-flow__edge.selected,.vue-flow__edge:focus,.vue-flow__edge:focus-visible{outline:none}.vue-flow__edge.selected .vue-flow__edge-path,.vue-flow__edge:focus .vue-flow__edge-path,.vue-flow__edge:focus-visible .vue-flow__edge-path{stroke:#555}.vue-flow__edge-textwrapper{pointer-events:all}.vue-flow__edge-textbg{fill:#fff}.vue-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.vue-flow__connection{pointer-events:none}.vue-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.vue-flow__connectionline{z-index:1001}.vue-flow__nodes{pointer-events:none;transform-origin:0 0}.vue-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box}.vue-flow__node.draggable{cursor:grab;pointer-events:all}.vue-flow__node.draggable.dragging{cursor:grabbing}.vue-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.vue-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:grab}.vue-flow__nodesselection-rect.dragging{cursor:grabbing}.vue-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px}.vue-flow__handle.connectable{pointer-events:all;cursor:crosshair}.vue-flow__handle-bottom{left:50%;bottom:0;transform:translate(-50%, 50%)}.vue-flow__handle-top{left:50%;top:0;transform:translate(-50%, -50%)}.vue-flow__handle-left{top:50%;left:0;transform:translate(-50%, -50%)}.vue-flow__handle-right{top:50%;right:0;transform:translate(50%, -50%)}.vue-flow__edgeupdater{cursor:move;pointer-events:all}.vue-flow__panel{position:absolute;z-index:5;margin:15px}.vue-flow__panel.top{top:0}.vue-flow__panel.bottom{bottom:0}.vue-flow__panel.left{left:0}.vue-flow__panel.right{right:0}.vue-flow__panel.center{left:50%;transform:translateX(-50%)}@keyframes dashdraw{from{stroke-dashoffset:10}}.vue-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.vue-flow__controls-button{background:var(--a-fill-color-extra-light);border:none;border-bottom:1px solid var(--a-border-color-light);box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;user-select:none;padding:5px}.vue-flow__controls-button svg{width:100%;max-width:12px;max-height:12px}.vue-flow__controls-button:hover{background:var(--a-fill-color)}.vue-flow__controls-button:disabled{pointer-events:none}.vue-flow__controls-button:disabled svg{fill-opacity:.4}.vue-flow__edge.updating .vue-flow__edge-path{stroke:var(--a-text-color-placeholder)}.vue-flow__edge-text{font-size:10px}.vue-flow__edge-textbg{fill:var(--a-bg-color)}.vue-flow__connection-path{stroke:var(--a-border-color)}.vue-flow__node{border:0;background:none}.vue-flow__node.selectable:focus,.vue-flow__node.selectable:focus-visible{outline:none}.vue-flow__node .label{white-space:nowrap;font-size:12px}.vue-flow__handle{background:var(--a-text-color-placeholder)}.vue-flow__node.selectable:hover .vue-flow__handle{background-color:var(--a-color-primary-dark-2)}.vue-flow__node.selected .vue-flow__handle,.vue-flow__node:focus .vue-flow__handle,.vue-flow__node:focus-visible .vue-flow__handle{background-color:var(--a-color-primary)}.vue-flow__nodesselection-rect:focus,.vue-flow__nodesselection-rect:focus-visible,.vue-flow__selection:focus,.vue-flow__selection:focus-visible{outline:none}.vue-flow__handle{width:6px;height:6px;background:var(--a-text-color-placeholder);border:1px solid var(--a-bg-color);border-radius:100%}.basic-flow .vue-flow__controls{display:flex;flex-wrap:wrap;justify-content:center}.basic-flow .vue-flow__controls .vue-flow__controls-button{border:none;border-right:1px solid var(--a-border-color-light)}.basic-flow .vue-flow__controls .vue-flow__controls-button svg{height:100%;width:100%}.dropzone-background{position:relative;height:100%;width:100%}.dropzone-background .overlay{position:absolute;top:0;left:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;z-index:1;pointer-events:none}.vue-flow__sidebar{position:absolute;border-radius:6px;top:100px;left:30px;z-index:5;border:1px solid var(--a-border-color);background-color:var(--a-fill-color-lighter)}.vue-flow__sidebar .a-icon{display:block;margin-bottom:4px}.vue-flow__sidebar .item{padding-top:8px;border-radius:6px;text-align:center;width:56px;height:60px;cursor:pointer;color:var(--a-text-color-regular)}.vue-flow__sidebar .item:hover{color:var(--a-color-primary-dark-2);background-color:var(--a-bg-color)}",""]);const s=u},1048:(e,t,n)=>{var o=n(4061);Object.keys(o).forEach(function(e){t[e]=o[e]}),t.set=function(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)},t.del=function(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]},t.Vue=o,t.Vue2=void 0,t.isVue2=!1,t.isVue3=!0,t.install=function(){}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(3690),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(6458),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-77b190fe"]])},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1775:(e,t)=>{"use strict";t.B=!0,t.A=void 0;t.A={props:{data:Object},data(){return{options:[],cascaderProps:{lazy:!0,lazyLoad:this.loadChildren}}},async created(){const e=await $.get({url:"https://thor.zeto.me/do/select/table",data:{app:"kooteam",pageSize:100}});this.options=e.list.map(e=>({value:e.name,label:e.name,leaf:!1}))},methods:{async loadChildren(e,t){if(0===e.level)t(this.options);else if(1===e.level){const n=await this.loadApiList(e.value);if(n?.list){t(n.list.map(e=>({value:`/do/${e.type}/${e.name}`,label:`/do/${e.type}/${e.name}`,leaf:!0})))}else t([])}},loadApiList:async e=>await $.get({url:"https://thor.zeto.me/do/select/api",data:{app:"kooteam",tableName:e}}),handleCascaderChange(e){this.data.api=e[1]}}}},2195:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>r.B,default:()=>a});var o=n(23),r=n(1775);const a=(0,n(6262).A)(r.A,[["render",o.X]])},2372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(8952),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(8473),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-338f305b"]])},2439:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(7568),a=n(8250),i=n(9614),l=v(n(5982)),u=v(n(419)),s=v(n(2479)),c=v(n(9820)),d=v(n(2372)),f=v(n(4013));function v(e){return e&&e.__esModule?e:{default:e}}const p={class:"wrap"};t.A={__name:"app",emits:["update:modelValue"],setup(e,{emit:t}){const{addEdges:n,onInit:v,onNodesChange:h,onConnect:m,applyNodeChanges:g,updateEdge:y,toObject:w,onEdgeClick:b,setNodes:x,setEdges:S,removeNodes:_,removeEdges:E}=(0,a.useVueFlow)(),{onDragOver:k,onDrop:N,onDragLeave:C,isDragOver:T}=(0,f.default)(),A=t,M=(0,o.ref)([]),O=(0,o.ref)([]),I=((0,a.useVueFlow)(),{id:"67ecf97330dfe1"}),P=()=>{const e=localStorage.getItem("savedFlow");if(e){const t=JSON.parse(e);x(t.nodes),S(t.edges)}};async function V(){const e=w();localStorage.setItem("savedFlow",JSON.stringify(e));const t=e.nodes.some(e=>"start"===e.type),n=e.nodes.some(e=>"end"===e.type);if(!t||!n)return void $.fail("\u5fc5\u987b\u5305\u542b\u81f3\u5c11\u4e00\u4e2a\u5f00\u59cb\u8282\u70b9\uff08start\uff09\u548c\u4e00\u4e2a\u7ed3\u675f\u8282\u70b9\uff08end\uff09");const o=D(e.nodes,e.edges);if(!o.valid)return void $.fail(`\u5b58\u5728\u672a\u6b63\u786e\u8fde\u7ebf\u7684\u8282\u70b9\uff1a${o.invalidNodes.join(", ")}`);const r=new Map;e.edges.forEach(e=>{r.set(e.target,e.source)});const a=[];e.nodes.forEach(e=>{const t={};t.id=e.id,t.title=e.data.title,t.parentId=r.get(e.id)||"0",a.push(t)}),await $.post({url:"/api/approval/putApprove",data:{nodesData:a,approvalId:I.id}}),A("update:modelValue",e)}v(e=>{e.fitView({maxZoom:3,minZoom:.5,padding:30}),e.zoomTo(1)}),h(async e=>{const t=[];for(const n of e)g(t)});const D=(e,t)=>{const n=new Set(t.map(e=>e.source)),o=new Set(t.map(e=>e.target)),r=[];return e.forEach(e=>{const a="start"===e.type,i="end"===e.type,l=e.data?.title||e.id+"\u8282\u70b9";if(a){1!==t.filter(t=>t.source===e.id).length&&r.push("[\u5f00\u59cb\u8282\u70b9] \u5fc5\u987b\u6709\u4e00\u4e2a\u8f93\u51fa\u8fde\u7ebf")}else if(i){1!==t.filter(t=>t.target===e.id).length&&r.push("[\u7ed3\u675f\u8282\u70b9] \u5fc5\u987b\u6709\u4e00\u4e2a\u8f93\u5165\u8fde\u7ebf")}else{const t=o.has(e.id),a=n.has(e.id);t&&a||r.push(`[${l}] \u9700\u8981\u540c\u65f6\u6709\u8f93\u5165\u548c\u8f93\u51fa\u8fde\u7ebf`)}}),{valid:0===r.length,invalidNodes:r}};function B({edge:e,connection:t}){y(e,t)}return b(({edge:e})=>{O.value=O.value.map(t=>({...t,selected:t.id===e.id&&!t.selected})),$.emit("lineEditor",e)}),m(e=>{e.id=$.uid(),e.markerEnd=a.MarkerType.ArrowClosed,e.type="smoothstep",O.value.push(e),n(e)}),(0,i.onKeyStroke)(["Delete","Backspace"],e=>{e.preventDefault();const t=M.value.filter(e=>e.selected),n=O.value.filter(e=>e.selected),o=t.filter(e=>["start","end"].includes(e.type));if(o.length>0){const e=o.map(e=>e.data?.title||"\u7cfb\u7edf\u8282\u70b9").join(", ");return void $.fail(`\u5173\u952e\u8282\u70b9\u4e0d\u53ef\u5220\u9664\uff1a${e}`,"warning")}0===t.length&&0===n.length||$.confirm("\u786e\u5b9a\u5220\u9664\u5417\uff1f",()=>{const e=t.filter(e=>!["start","end"].includes(e.type)).map(e=>e.id),o=[...n.map(e=>e.id),...O.value.filter(t=>e.includes(t.source)||e.includes(t.target)).map(e=>e.id)];_(e),E([...new Set(o)])})}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createVNode)(d.default,{onSave:V,onLoad:P}),(0,o.createVNode)(u.default),(0,o.createVNode)(s.default),(0,o.createVNode)((0,o.unref)(a.VueFlow),{nodeTypes:(0,o.unref)(c.default),"connection-mode":(0,o.unref)(a.ConnectionMode).Strict,"connection-line-type":"smoothstep",edges:O.value,onDrop:(0,o.unref)(N),nodes:M.value,"onUpdate:nodes":t[0]||(t[0]=e=>M.value=e),onDragover:(0,o.unref)(k),onEdgeUpdate:B,onDragleave:(0,o.unref)(C),"apply-default":!0,"delete-key-code":null,"edges-selectable":!0},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(l.default,{style:(0,o.normalizeStyle)({backgroundColor:(0,o.unref)(T)?"#e7f3ff":"transparent",transition:"background-color 0.2s ease"})},null,8,["style"]),(0,o.createVNode)((0,o.unref)(r.Controls),{position:"top-right"})]),_:1},8,["nodeTypes","connection-mode","edges","onDrop","nodes","onDragover","onDragleave"])]))}}},2479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>r.B,default:()=>a});var o=n(4057),r=n(9996);const a=(0,n(6262).A)(r.A,[["render",o.X]])},2762:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(8250);const a=["id"];t.A={__name:"user",props:{id:String,data:Object,type:String},setup(e){const t=e,n=function(){$.emit("nodeEditor",t)};return(e,i)=>{const l=(0,o.resolveComponent)("z-icon");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"biz-node user",onDblclick:n,id:t.id},[(0,o.createVNode)(l,{value:"userPlus",size:"12px"}),i[0]||(i[0]=(0,o.createElementVNode)("div",{class:"label"},"\u7528\u6237\u8282\u70b9",-1)),(0,o.createVNode)((0,o.unref)(r.Handle),{position:"top",id:t.id+"top",type:"target"},null,8,["id"]),(0,o.createVNode)((0,o.unref)(r.Handle),{position:"bottom",id:t.id+"bottom",type:"source"},null,8,["id"])],40,a)}}}},3074:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".self[data-v-a42568f0]{min-width:100px;max-width:280px;min-height:28px;border-radius:3px;background:var(--a-fill-color-extra-light);border:1px solid var(--a-border-color)}.self[data-v-a42568f0]:hover{background:var(--a-bg-color);border-color:var(--a-border-color-dark);box-shadow:var(--a-box-shadow)}",""]);const l=i},3594:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o,r=(o=n(2195))&&o.__esModule?o:{default:o};t.A={components:{api:r.default},data:()=>({data:{},fields:[{name:"title",label:"\u8282\u70b9\u540d\u79f0"},{name:"color",label:"\u8282\u70b9\u989c\u8272"},{name:"border",label:"\u8fb9\u6846\u6837\u5f0f"},{name:"api",label:"\u63a5\u53e3\u5217\u8868"}],node:null}),created(){$.on("nodeEditor",this.show)},methods:{show(e){this.node=e,this.data={title:e.data?.title||"",color:e.data?.color||"",border:e.data?.border||"",api:e.data?.api||""},this.$refs.action.show()},submit(){return this.node&&Object.assign(this.node.data,this.data),!1}}}},3690:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(8250);const a=["id"];t.A={__name:"ifNode",props:{id:String,data:Object,type:String},setup(e){const t=e,n=function(){$.emit("nodeEditor",t)};return(e,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"if",onDblclick:n,id:t.id},[i[0]||(i[0]=(0,o.createElementVNode)("div",{class:"polygon"},[(0,o.createElementVNode)("div",{class:"shadow"})],-1)),i[1]||(i[1]=(0,o.createElementVNode)("div",{class:"label"},"\u5224\u65ad",-1)),(0,o.createVNode)((0,o.unref)(r.Handle),{position:(0,o.unref)(r.Position).Top,id:t.id+"_top",type:"target"},null,8,["position","id"]),(0,o.createVNode)((0,o.unref)(r.Handle),{position:(0,o.unref)(r.Position).Left,id:t.id+"_no",type:"source"},null,8,["position","id"]),(0,o.createVNode)((0,o.unref)(r.Handle),{position:(0,o.unref)(r.Position).Right,id:t.id+"_yes",type:"source"},null,8,["position","id"])],40,a))}}},3700:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(8250);const a=["id"],i={class:"label"};t.A={__name:"end",props:{id:String,data:Object,type:String},setup(e){const t=e,n=(0,o.computed)(()=>({backgroundColor:t.data?.color||"var(--a-fill-color-extra-light, #f0f0f0)",border:t.data?.border||"2px solid var(--a-text-color-regular, #666)"})),l=function(){$.emit("nodeEditor",t)};return(u,s)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"end",onDblclick:l,id:t.id,style:(0,o.normalizeStyle)(n.value)},[(0,o.createElementVNode)("div",i,(0,o.toDisplayString)(e.data.title?e.data.title:"\u6d41\u7a0b\u7ed3\u675f"),1),(0,o.createVNode)((0,o.unref)(r.Handle),{position:"top",id:t.id+"_top",type:"target"},null,8,["id"])],44,a))}}},3769:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(8250);const a=["id"],i={class:"label"};t.A={__name:"start",props:{id:String,data:Object,type:String},setup(e){const t=e,n=(0,o.computed)(()=>({backgroundColor:t.data?.color||"var(--a-fill-color-extra-light, #f0f0f0)",border:t.data?.border||"2px solid var(--a-text-color-regular, #666)"})),l=function(){$.emit("nodeEditor",t)};return(u,s)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"start",onDblclick:l,id:t.id,style:(0,o.normalizeStyle)(n.value)},[(0,o.createElementVNode)("div",i,(0,o.toDisplayString)(e.data.title?e.data.title:"\u5f00\u59cb"),1),(0,o.createVNode)((0,o.unref)(r.Handle),{position:(0,o.unref)(r.Position).Bottom,id:t.id+"_bottom",type:"source"},null,8,["position","id"])],44,a))}}},4013:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(){const{draggedType:e,isDragOver:t,isDragging:n}=a,{addNodes:i,screenToFlowCoordinate:l,onNodesInitialized:u,updateNode:s,nodes:c}=(0,o.useVueFlow)();function d(){n.value=!1,t.value=!1,e.value=null,document.removeEventListener("drop",d)}return(0,r.watch)(n,e=>{document.body.style.userSelect=e?"none":""}),{draggedType:e,isDragOver:t,isDragging:n,onDragStart:function(t,o){t.dataTransfer&&(t.dataTransfer.setData("application/vueflow",o),t.dataTransfer.effectAllowed="move");e.value=o,n.value=!0,document.addEventListener("drop",d)},onDragLeave:function(){t.value=!1},onDragOver:function(n){n.preventDefault(),e.value&&(t.value=!0,n.dataTransfer&&(n.dataTransfer.dropEffect="move"))},onDrop:function(t){const n=e.value;if("start"===n||"end"===n){if(c.value.find(e=>e.type===n))return alert(`\u53ea\u80fd\u6709\u4e00\u4e2a${"start"===n?"\u5f00\u59cb":"\u7ed3\u675f"}\u8282\u70b9\uff01`),void d()}const o=l({x:t.clientX,y:t.clientY}),r=$.uid(),a={id:r,type:e.value,position:o,data:{label:r}},{off:f}=u(()=>{s(r,e=>({position:{x:e.position.x-e.dimensions.width/2,y:e.position.y-e.dimensions.height/2}})),f()});i(a)}}};var o=n(8250),r=n(4061);const a={draggedType:(0,r.ref)(null),isDragOver:(0,r.ref)(!1),isDragging:(0,r.ref)(!1)}},4057:(e,t,n)=>{"use strict";t.X=function(e,t,n,r,a,i){const l=(0,o.resolveComponent)("z-form"),u=(0,o.resolveComponent)("z-action");return(0,o.openBlock)(),(0,o.createBlock)(u,{ref:"action",title:"\u8fde\u7ebf\u5c5e\u6027"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{data:a.data,beforeSubmit:i.submit,fields:a.fields},null,8,["data","beforeSubmit","fields"])]),_:1},512)};var o=n(4061)},4061:e=>{"use strict";e.exports=Vue},4239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(9336),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(4476),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-a884a478"]])},4440:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const o=n(4061),r=n(8250);var a=(e=>(e.Lines="lines",e.Dots="dots",e))(a||{});const i=function({dimensions:e,size:t,color:n}){return o.h("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},l=function({radius:e,color:t}){return o.h("circle",{cx:e,cy:e,r:e,fill:t})};a.Lines,a.Dots;const u={[a.Dots]:"#81818a",[a.Lines]:"#eee"},s=["id","x","y","width","height","patternTransform"],c={key:2,height:"100",width:"100"},d=["fill"],f=["x","y","fill"],v=o.defineComponent({name:"Background",compatConfig:{MODE:3},props:{id:{},variant:{default:()=>a.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=r.useVueFlow(),v=o.computed(()=>{const t=n.value.zoom,[o,r]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],a=[o*t||1,r*t||1],i=e.size*t,[l,u]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset];return{scaledGap:a,offset:[l*t||1+a[0]/2,u*t||1+a[1]/2],size:i}}),p=o.toRef(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),h=o.toRef(()=>e.color||e.patternColor||u[e.variant||a.Dots]);return(e,t)=>(o.openBlock(),o.createElementBlock("svg",{class:"vue-flow__background vue-flow__container",style:o.normalizeStyle({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[o.renderSlot(e.$slots,"pattern-container",{id:p.value},()=>[o.createElementVNode("pattern",{id:p.value,x:o.unref(n).x%v.value.scaledGap[0],y:o.unref(n).y%v.value.scaledGap[1],width:v.value.scaledGap[0],height:v.value.scaledGap[1],patternTransform:`translate(-${v.value.offset[0]},-${v.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[o.renderSlot(e.$slots,"pattern",{},()=>[e.variant===o.unref(a).Lines?(o.openBlock(),o.createBlock(o.unref(i),{key:0,size:e.lineWidth,color:h.value,dimensions:v.value.scaledGap},null,8,["size","color","dimensions"])):e.variant===o.unref(a).Dots?(o.openBlock(),o.createBlock(o.unref(l),{key:1,color:h.value,radius:v.value.size/2},null,8,["color","radius"])):o.createCommentVNode("",!0),e.bgColor?(o.openBlock(),o.createElementBlock("svg",c,[o.createElementVNode("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,d)])):o.createCommentVNode("",!0)])],8,s)]),o.createElementVNode("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${p.value})`},null,8,f),o.renderSlot(e.$slots,"default",{id:p.value})],4))}});t.Background=v,t.BackgroundVariant=a},4476:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".system[data-v-a884a478]{width:100px;border-radius:3px;background:var(--a-fill-color-extra-light);border:1px solid var(--a-border-color)}.system[data-v-a884a478]:hover{background:var(--a-bg-color);border-color:var(--a-border-color-dark);box-shadow:var(--a-box-shadow)}.a-icon[data-v-a884a478]{position:absolute;top:4px;left:4px}.label[data-v-a884a478]{text-align:center;line-height:28px}",""]);const l=i},4660:(e,t)=>{"use strict";t.B=!0,t.A=void 0;t.A={props:{id:String,data:Object}}},4711:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(2439),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(5398),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-9cab7b16"]])},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],l=0;l<e.length;l++){var u=e[l],s=o.base?u[0]+o.base:u[0],c=a[s]||0,d="".concat(s," ").concat(c);a[s]=c+1;var f=n(d),v={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)t[f].references++,t[f].updater(v);else{var p=r(v,o);o.byIndex=l,t.splice(l,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=n(a[i]);t[l].references--}for(var u=o(e,r),s=0;s<a.length;s++){var c=n(a[s]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=u}}},5398:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,"\n.wrap[data-v-9cab7b16] {\n  height: 90vh;\n  width: 100%;\n}\n",""]);const l=i},5982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>r});var o=n(7165);const r=o.A},6262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var l=0;l<this.length;l++){var u=this[l][0];null!=u&&(i[u]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},6458:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".if[data-v-77b190fe]{width:60px;height:60px;padding:4px}.if .polygon[data-v-77b190fe]{width:50px;height:50px;margin:4px;position:relative;transform:rotate(45deg);border:1px solid var(--a-border-color);background:var(--a-fill-color-extra-light)}.if .shadow[data-v-77b190fe]{position:absolute;left:0;top:0;height:100%;width:100%}.if:hover .polygon[data-v-77b190fe]{background-color:var(--a-bg-color);border-color:var(--a-border-color-dark)}.if:hover .shadow[data-v-77b190fe]{box-shadow:var(--a-box-shadow)}.label[data-v-77b190fe]{position:absolute;top:26px;left:22px}",""]);const l=i},6539:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".vue-flow__resize-control {\n  position: absolute;\n}\n\n.vue-flow__resize-control.left,\n.vue-flow__resize-control.right {\n  cursor: ew-resize;\n}\n\n.vue-flow__resize-control.top,\n.vue-flow__resize-control.bottom {\n  cursor: ns-resize;\n}\n\n.vue-flow__resize-control.top.left,\n.vue-flow__resize-control.bottom.right {\n  cursor: nwse-resize;\n}\n\n.vue-flow__resize-control.bottom.left,\n.vue-flow__resize-control.top.right {\n  cursor: nesw-resize;\n}\n\n/* handle styles */\n.vue-flow__resize-control.handle {\n  width: 5px;\n  height: 5px;\n  border: 1px solid #fff;\n  border-radius: 1px;\n  background-color: #3367d9;\n  transform: translate(-50%, -50%);\n}\n\n.vue-flow__resize-control.handle.left {\n  left: 0;\n  top: 50%;\n}\n.vue-flow__resize-control.handle.right {\n  left: 100%;\n  top: 50%;\n}\n.vue-flow__resize-control.handle.top {\n  left: 50%;\n  top: 0;\n}\n.vue-flow__resize-control.handle.bottom {\n  left: 50%;\n  top: 100%;\n}\n.vue-flow__resize-control.handle.top.left {\n  left: 0;\n}\n.vue-flow__resize-control.handle.bottom.left {\n  left: 0;\n}\n.vue-flow__resize-control.handle.top.right {\n  left: 100%;\n}\n.vue-flow__resize-control.handle.bottom.right {\n  left: 100%;\n}\n\n/* line styles */\n.vue-flow__resize-control.line {\n  border-color: #3367d9;\n  border-width: 0;\n  border-style: solid;\n}\n\n.vue-flow__resize-control.line.left,\n.vue-flow__resize-control.line.right {\n  width: 1px;\n  transform: translate(-50%, 0);\n  top: 0;\n  height: 100%;\n}\n\n.vue-flow__resize-control.line.left {\n  left: 0;\n  border-left-width: 1px;\n}\n.vue-flow__resize-control.line.right {\n  left: 100%;\n  border-right-width: 1px;\n}\n\n.vue-flow__resize-control.line.top,\n.vue-flow__resize-control.line.bottom {\n  height: 1px;\n  transform: translate(0, -50%);\n  left: 0;\n  width: 100%;\n}\n\n.vue-flow__resize-control.line.top {\n  top: 0;\n  border-top-width: 1px;\n}\n.vue-flow__resize-control.line.bottom {\n  border-bottom-width: 1px;\n  top: 100%;\n}\n",""]);const l=i},6656:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".user[data-v-2108cf7b]{width:100px;border-radius:3px;background:var(--a-fill-color-extra-light);border:1px solid var(--a-border-color)}.user[data-v-2108cf7b]:hover{background:var(--a-bg-color);border-color:var(--a-border-color-dark);box-shadow:var(--a-box-shadow)}.a-icon[data-v-2108cf7b]{position:absolute;top:4px;left:4px}.label[data-v-2108cf7b]{text-align:center;line-height:28px}",""]);const l=i},6684:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var o=n(5072),r=n.n(o),a=n(7825),i=n.n(a),l=n(7659),u=n.n(l),s=n(5056),c=n.n(s),d=n(540),f=n.n(d),v=n(1113),p=n.n(v),h=n(627),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=u().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=f();r()(h.A,m);const g=h.A&&h.A.locals?h.A.locals:void 0},6747:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".start[data-v-98038fde]{width:36px;height:36px;border-radius:50%;overflow:hidden;padding:4px}.start[data-v-98038fde]:hover{background:var(--a-bg-color);border-color:var(--a-text-color-primary);box-shadow:var(--a-box-shadow)}.label[data-v-98038fde]{position:absolute;left:12px;top:16px}",""]);const l=i},6969:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>r.B,default:()=>w});var o=n(8535),r=n(4660),a=n(5072),i=n.n(a),l=n(7825),u=n.n(l),s=n(7659),c=n.n(s),d=n(5056),f=n.n(d),v=n(540),p=n.n(v),h=n(1113),m=n.n(h),g=n(8155),y={};y.styleTagTransform=m(),y.setAttributes=f(),y.insert=c().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=p();i()(g.A,y);g.A&&g.A.locals&&g.A.locals;const w=(0,n(6262).A)(r.A,[["render",o.X],["__scopeId","data-v-ae92fd2c"]])},7165:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(4440);const a={class:"dropzone-background"},i={class:"overlay"};t.A={__name:"dropzoneBackground",setup:e=>(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)((0,o.unref)(r.Background),{size:2,gap:20,"pattern-color":"#BDBDBD"}),(0,o.createElementVNode)("div",i,[(0,o.renderSlot)(e.$slots,"default")])]))}},7568:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const o=n(4061),r=n(8250),a={class:"vue-flow__controls-button"};const i=((e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n})({name:"ControlButton",compatConfig:{MODE:3}},[["render",function(e,t,n,r,i,l){return o.openBlock(),o.createElementBlock("button",a,[o.renderSlot(e.$slots,"default")])}]]),l={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},u=[o.createElementVNode("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1)];const s={render:function(e,t){return o.openBlock(),o.createElementBlock("svg",l,u)}},c={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},d=[o.createElementVNode("path",{d:"M0 0h32v4.2H0z"},null,-1)];const f={render:function(e,t){return o.openBlock(),o.createElementBlock("svg",c,d)}},v={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},p=[o.createElementVNode("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1)];const h={render:function(e,t){return o.openBlock(),o.createElementBlock("svg",v,p)}},m={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},g=[o.createElementVNode("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1)];const y={render:function(e,t){return o.openBlock(),o.createElementBlock("svg",m,g)}},w={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},b=[o.createElementVNode("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1)];const x={render:function(e,t){return o.openBlock(),o.createElementBlock("svg",w,b)}},S=o.defineComponent({name:"Controls",compatConfig:{MODE:3},props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>r.PanelPosition.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:a,elementsSelectable:l,setInteractive:u,zoomIn:c,zoomOut:d,fitView:v,viewport:p,minZoom:m,maxZoom:g}=r.useVueFlow(),w=o.toRef(()=>n.value||a.value||l.value),b=o.toRef(()=>p.value.zoom<=m.value),S=o.toRef(()=>p.value.zoom>=g.value);function _(){c(),t("zoomIn")}function E(){d(),t("zoomOut")}function k(){v(e.fitViewParams),t("fitView")}function N(){u(!w.value),t("interactionChange",!w.value)}return(e,t)=>(o.openBlock(),o.createBlock(o.unref(r.Panel),{class:"vue-flow__controls",position:e.position},{default:o.withCtx(()=>[o.renderSlot(e.$slots,"top"),e.showZoom?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[o.renderSlot(e.$slots,"control-zoom-in",{},()=>[o.createVNode(i,{class:"vue-flow__controls-zoomin",disabled:S.value,onClick:_},{default:o.withCtx(()=>[o.renderSlot(e.$slots,"icon-zoom-in",{},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(o.unref(s))))])]),_:3},8,["disabled"])]),o.renderSlot(e.$slots,"control-zoom-out",{},()=>[o.createVNode(i,{class:"vue-flow__controls-zoomout",disabled:b.value,onClick:E},{default:o.withCtx(()=>[o.renderSlot(e.$slots,"icon-zoom-out",{},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(o.unref(f))))])]),_:3},8,["disabled"])])],64)):o.createCommentVNode("",!0),e.showFitView?o.renderSlot(e.$slots,"control-fit-view",{key:1},()=>[o.createVNode(i,{class:"vue-flow__controls-fitview",onClick:k},{default:o.withCtx(()=>[o.renderSlot(e.$slots,"icon-fit-view",{},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(o.unref(h))))])]),_:3})]):o.createCommentVNode("",!0),e.showInteractive?o.renderSlot(e.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(o.openBlock(),o.createBlock(i,{key:0,class:"vue-flow__controls-interactive",onClick:N},{default:o.withCtx(()=>[w.value?o.renderSlot(e.$slots,"icon-unlock",{key:0},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(o.unref(x))))]):o.createCommentVNode("",!0),w.value?o.createCommentVNode("",!0):o.renderSlot(e.$slots,"icon-lock",{key:1},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(o.unref(y))))])]),_:3})):o.createCommentVNode("",!0)]):o.createCommentVNode("",!0),o.renderSlot(e.$slots,"default")]),_:3},8,["position"]))}});t.ControlButton=i,t.Controls=S},7659:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(3769),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(6747),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-98038fde"]])},8155:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".container[data-v-ae92fd2c]{min-width:90px;max-width:280px;min-height:36px;border-radius:3px;background:var(--a-fill-color-extra-light);border:1px solid var(--a-border-color)}.container[data-v-ae92fd2c]:hover{background:var(--a-bg-color);border-color:var(--a-border-color-dark);box-shadow:var(--a-box-shadow)}.container .biz-node[data-v-ae92fd2c]{margin-bottom:4px}",""]);const l=i},8219:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(8250);const a=["id"];t.A={__name:"self",props:{id:String,data:Object,type:String},setup(e){const t=e,n=function(){$.emit("nodeEditor",t)};return(e,i)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"biz-node self",onClick:n,id:t.id},[(0,o.createVNode)((0,o.unref)(r.Handle),{position:(0,o.unref)(r.Position).Top,id:t.id+"_top",type:"target"},null,8,["position","id"]),(0,o.createVNode)((0,o.unref)(r.Handle),{position:(0,o.unref)(r.Position).Bottom,id:t.id+"_bottom",type:"source"},null,8,["position","id"])],8,a))}}},8250:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const o=n(4061);function r(e){return!!o.getCurrentScope()&&(o.onScopeDispose(e),!0)}function a(e){return"function"==typeof e?e():o.unref(e)}const i="undefined"!=typeof window&&"undefined"!=typeof document,l=Object.prototype.toString,u=()=>{};const s=e=>e();function c(e,t=!1,n="Timeout"){return new Promise((o,r)=>{t?setTimeout(()=>r(n),e):setTimeout(o,e)})}function d(e,t,n={}){const{eventFilter:r=s,...a}=n;return o.watch(e,(i=r,l=t,function(...e){return new Promise((t,n)=>{Promise.resolve(i(()=>l.apply(this,e),{fn:l,thisArg:this,args:e})).then(t).catch(n)})}),a);var i,l}function f(e,t,n={}){const{eventFilter:r,...a}=n,{eventFilter:i,pause:l,resume:u,isActive:c}=function(e=s){const t=o.ref(!0);return{isActive:o.readonly(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(r);return{stop:d(e,t,{...a,eventFilter:i}),pause:l,resume:u,isActive:c}}function v(e,t={}){if(!o.isRef(e))return o.toRefs(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=o.customRef(()=>({get:()=>e.value[r],set(n){var o;if(null==(o=a(t.replaceRef))||o)if(Array.isArray(e.value)){const t=[...e.value];t[r]=n,e.value=t}else{const t={...e.value,[r]:n};Object.setPrototypeOf(t,Object.getPrototypeOf(e.value)),e.value=t}else e.value[r]=n}}));return n}function p(e,t=!1){function n(n,{flush:r="sync",deep:i=!1,timeout:l,throwOnTimeout:u}={}){let s=null;const d=[new Promise(a=>{s=o.watch(e,e=>{n(e)!==t&&(null==s||s(),a(e))},{flush:r,deep:i,immediate:!0})})];return null!=l&&d.push(c(l,u).then(()=>a(e)).finally(()=>null==s?void 0:s())),Promise.race(d)}function r(r,i){if(!o.isRef(r))return n(e=>e===r,i);const{flush:l="sync",deep:u=!1,timeout:s,throwOnTimeout:d}=null!=i?i:{};let f=null;const v=[new Promise(n=>{f=o.watch([e,r],([e,o])=>{t!==(e===o)&&(null==f||f(),n(e))},{flush:l,deep:u,immediate:!0})})];return null!=s&&v.push(c(s,d).then(()=>a(e)).finally(()=>(null==f||f(),a(e)))),Promise.race(v)}function i(e){return l(1,e)}function l(e=1,t){let o=-1;return n(()=>(o+=1,o>=e),t)}if(Array.isArray(a(e))){return{toMatch:n,toContains:function(e,t){return n(t=>{const n=Array.from(t);return n.includes(e)||n.includes(a(e))},t)},changed:i,changedTimes:l,get not(){return p(e,!t)}}}return{toMatch:n,toBe:r,toBeTruthy:function(e){return n(e=>Boolean(e),e)},toBeNull:function(e){return r(null,e)},toBeNaN:function(e){return n(Number.isNaN,e)},toBeUndefined:function(e){return r(void 0,e)},changed:i,changedTimes:l,get not(){return p(e,!t)}}}function h(e){return p(e)}function m(e){var t;const n=a(e);return null!=(t=null==n?void 0:n.$el)?t:n}const g=i?window:void 0;function y(...e){let t,n,i,s;if("string"==typeof e[0]||Array.isArray(e[0])?([n,i,s]=e,t=g):[t,n,i,s]=e,!t)return u;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const c=[],d=()=>{c.forEach(e=>e()),c.length=0},f=o.watch(()=>[m(t),a(s)],([e,t])=>{if(d(),!e)return;const o=(r=t,"[object Object]"===l.call(r)?{...t}:t);var r;c.push(...n.flatMap(t=>i.map(n=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,n,o))))},{immediate:!0,flush:"post"}),v=()=>{f(),d()};return r(v),v}function w(...e){let t,n,o={};3===e.length?(t=e[0],n=e[1],o=e[2]):2===e.length?"object"==typeof e[1]?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=g,eventName:i="keydown",passive:l=!1,dedupe:u=!1}=o,s="function"==typeof(c=t)?c:"string"==typeof c?e=>e.key===c:Array.isArray(c)?e=>c.includes(e.key):()=>!0;var c;return y(r,i,e=>{e.repeat&&a(u)||s(e)&&n(e)},l)}function b(e,t,n,r={}){var a,i,l;const{clone:u=!1,passive:s=!1,eventName:c,deep:d=!1,defaultValue:f,shouldEmit:v}=r,p=o.getCurrentInstance(),h=n||(null==p?void 0:p.emit)||(null==(a=null==p?void 0:p.$emit)?void 0:a.bind(p))||(null==(l=null==(i=null==p?void 0:p.proxy)?void 0:i.$emit)?void 0:l.bind(null==p?void 0:p.proxy));let m=c;t||(t="modelValue"),m=m||`update:${t.toString()}`;const g=e=>{return u?"function"==typeof u?u(e):(t=e,JSON.parse(JSON.stringify(t))):e;var t},y=()=>void 0!==e[t]?g(e[t]):f,w=e=>{v?v(e)&&h(m,e):h(m,e)};if(s){const n=y(),r=o.ref(n);let a=!1;return o.watch(()=>e[t],e=>{a||(a=!0,r.value=g(e),o.nextTick(()=>a=!1))}),o.watch(r,n=>{a||n===e[t]&&!d||w(n)},{deep:d}),r}return o.computed({get:()=>y(),set(e){w(e)}})}var x={value:()=>{}};function S(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new _(o)}function _(e){this._=e}function E(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function k(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=x,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}_.prototype=S.prototype={constructor:_,on:function(e,t){var n,o,r=this._,a=(o=r,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),i=-1,l=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<l;)if(n=(e=a[i]).type)r[n]=k(r[n],e.name,t);else if(null==t)for(n in r)r[n]=k(r[n],e.name,null);return this}for(;++i<l;)if((n=(e=a[i]).type)&&(n=E(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(o=this._[e]).length;a<n;++a)o[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)}};var N="http://www.w3.org/1999/xhtml";const C={svg:"http://www.w3.org/2000/svg",xhtml:N,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function T(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),C.hasOwnProperty(t)?{space:C[t],local:e}:e}function A(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===N&&t.documentElement.namespaceURI===N?t.createElement(e):t.createElementNS(n,e)}}function M(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function O(e){var t=T(e);return(t.local?M:A)(t)}function I(){}function P(e){return null==e?I:function(){return this.querySelector(e)}}function V(){return[]}function D(e){return null==e?V:function(){return this.querySelectorAll(e)}}function B(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function R(e){return function(){return this.matches(e)}}function z(e){return function(t){return t.matches(e)}}var F=Array.prototype.find;function L(){return this.firstElementChild}var H=Array.prototype.filter;function j(){return Array.from(this.children)}function Y(e){return new Array(e.length)}function G(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function U(e,t,n,o,r,a){for(var i,l=0,u=t.length,s=a.length;l<s;++l)(i=t[l])?(i.__data__=a[l],o[l]=i):n[l]=new G(e,a[l]);for(;l<u;++l)(i=t[l])&&(r[l]=i)}function X(e,t,n,o,r,a,i){var l,u,s,c=new Map,d=t.length,f=a.length,v=new Array(d);for(l=0;l<d;++l)(u=t[l])&&(v[l]=s=i.call(u,u.__data__,l,t)+"",c.has(s)?r[l]=u:c.set(s,u));for(l=0;l<f;++l)s=i.call(e,a[l],l,a)+"",(u=c.get(s))?(o[l]=u,u.__data__=a[l],c.delete(s)):n[l]=new G(e,a[l]);for(l=0;l<d;++l)(u=t[l])&&c.get(v[l])===u&&(r[l]=u)}function W(e){return e.__data__}function q(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Z(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function K(e){return function(){this.removeAttribute(e)}}function J(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Q(e,t){return function(){this.setAttribute(e,t)}}function ee(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function te(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ne(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function oe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function re(e){return function(){this.style.removeProperty(e)}}function ae(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ie(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function le(e,t){return e.style.getPropertyValue(t)||oe(e).getComputedStyle(e,null).getPropertyValue(t)}function ue(e){return function(){delete this[e]}}function se(e,t){return function(){this[e]=t}}function ce(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function de(e){return e.trim().split(/^|\s+/)}function fe(e){return e.classList||new ve(e)}function ve(e){this._node=e,this._names=de(e.getAttribute("class")||"")}function pe(e,t){for(var n=fe(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function he(e,t){for(var n=fe(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function me(e){return function(){pe(this,e)}}function ge(e){return function(){he(this,e)}}function ye(e,t){return function(){(t.apply(this,arguments)?pe:he)(this,e)}}function we(){this.textContent=""}function be(e){return function(){this.textContent=e}}function xe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Se(){this.innerHTML=""}function _e(e){return function(){this.innerHTML=e}}function Ee(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ke(){this.nextSibling&&this.parentNode.appendChild(this)}function Ne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ce(){return null}function Te(){var e=this.parentNode;e&&e.removeChild(this)}function Ae(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Me(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Oe(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,a=t.length;o<a;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Ie(e,t,n){return function(){var o,r=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),void(o.value=t);this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function Pe(e,t,n){var o=oe(e),r=o.CustomEvent;"function"==typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Ve(e,t){return function(){return Pe(this,e,t)}}function De(e,t){return function(){return Pe(this,e,t.apply(this,arguments))}}G.prototype={constructor:G,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},ve.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Be=[null];function Re(e,t){this._groups=e,this._parents=t}function ze(){return new Re([[document.documentElement]],Be)}function $e(e){return"string"==typeof e?new Re([[document.querySelector(e)]],[document.documentElement]):new Re([[e]],Be)}function Fe(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}Re.prototype=ze.prototype={constructor:Re,select:function(e){"function"!=typeof e&&(e=P(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i,l=t[r],u=l.length,s=o[r]=new Array(u),c=0;c<u;++c)(a=l[c])&&(i=e.call(a,a.__data__,c,l))&&("__data__"in a&&(i.__data__=a.__data__),s[c]=i);return new Re(o,this._parents)},selectAll:function(e){e="function"==typeof e?B(e):D(e);for(var t=this._groups,n=t.length,o=[],r=[],a=0;a<n;++a)for(var i,l=t[a],u=l.length,s=0;s<u;++s)(i=l[s])&&(o.push(e.call(i,i.__data__,s,l)),r.push(i));return new Re(o,r)},selectChild:function(e){return this.select(null==e?L:function(e){return function(){return F.call(this.children,e)}}("function"==typeof e?e:z(e)))},selectChildren:function(e){return this.selectAll(null==e?j:function(e){return function(){return H.call(this.children,e)}}("function"==typeof e?e:z(e)))},filter:function(e){"function"!=typeof e&&(e=R(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i=t[r],l=i.length,u=o[r]=[],s=0;s<l;++s)(a=i[s])&&e.call(a,a.__data__,s,i)&&u.push(a);return new Re(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,W);var n,o=t?X:U,r=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var i=a.length,l=new Array(i),u=new Array(i),s=new Array(i),c=0;c<i;++c){var d=r[c],f=a[c],v=f.length,p=q(e.call(d,d&&d.__data__,c,r)),h=p.length,m=u[c]=new Array(h),g=l[c]=new Array(h);o(d,f,m,g,s[c]=new Array(v),p,t);for(var y,w,b=0,x=0;b<h;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(w=g[x])&&++x<h;);y._next=w||null}}return(l=new Re(l,r))._enter=u,l._exit=s,l},enter:function(){return new Re(this._enter||this._groups.map(Y),this._parents)},exit:function(){return new Re(this._exit||this._groups.map(Y),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,a=this.exit();return"function"==typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?a.remove():n(a),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,a=o.length,i=Math.min(r,a),l=new Array(r),u=0;u<i;++u)for(var s,c=n[u],d=o[u],f=c.length,v=l[u]=new Array(f),p=0;p<f;++p)(s=c[p]||d[p])&&(v[p]=s);for(;u<r;++u)l[u]=n[u];return new Re(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],a=r.length-1,i=r[a];--a>=0;)(o=r[a])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Z);for(var n=this._groups,o=n.length,r=new Array(o),a=0;a<o;++a){for(var i,l=n[a],u=l.length,s=r[a]=new Array(u),c=0;c<u;++c)(i=l[c])&&(s[c]=i);s.sort(t)}return new Re(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,a=o.length;r<a;++r){var i=o[r];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,a=t[n],i=0,l=a.length;i<l;++i)(r=a[i])&&e.call(r,r.__data__,i,a);return this},attr:function(e,t){var n=T(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?J:K:"function"==typeof t?n.local?ne:te:n.local?ee:Q)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?re:"function"==typeof t?ie:ae)(e,t,null==n?"":n)):le(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ue:"function"==typeof t?ce:se)(e,t)):this.node()[e]},classed:function(e,t){var n=de(e+"");if(arguments.length<2){for(var o=fe(this.node()),r=-1,a=n.length;++r<a;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?ye:t?me:ge)(n,t))},text:function(e){return arguments.length?this.each(null==e?we:("function"==typeof e?xe:be)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Se:("function"==typeof e?Ee:_e)(e)):this.node().innerHTML},raise:function(){return this.each(ke)},lower:function(){return this.each(Ne)},append:function(e){var t="function"==typeof e?e:O(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:O(e),o=null==t?Ce:"function"==typeof t?t:P(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(Te)},clone:function(e){return this.select(e?Me:Ae)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),i=a.length;if(!(arguments.length<2)){for(l=t?Ie:Oe,o=0;o<i;++o)this.each(l(a[o],t,n));return this}var l=this.node().__on;if(l)for(var u,s=0,c=l.length;s<c;++s)for(o=0,u=l[s];o<i;++o)if((r=a[o]).type===u.type&&r.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?De:Ve)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],a=0,i=r.length;a<i;++a)(o=r[a])&&(yield o)}};const Le={passive:!1},He={capture:!0,passive:!1};function je(e){e.stopImmediatePropagation()}function Ye(e){e.preventDefault(),e.stopImmediatePropagation()}function Ge(e){var t=e.document.documentElement,n=$e(e).on("dragstart.drag",Ye,He);"onselectstart"in t?n.on("selectstart.drag",Ye,He):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ue(e,t){var n=e.document.documentElement,o=$e(e).on("dragstart.drag",null);t&&(o.on("click.drag",Ye,He),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Xe=e=>()=>e;function We(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:a,x:i,y:l,dx:u,dy:s,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:c}})}function qe(e){return!e.ctrlKey&&!e.button}function Ze(){return this.parentNode}function Ke(e,t){return null==t?{x:e.x,y:e.y}:t}function Je(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function et(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function tt(){}We.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var nt=.7,ot=1/nt,rt="\\s*([+-]?\\d+)\\s*",at="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lt=/^#([0-9a-f]{3,8})$/,ut=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),st=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),ct=new RegExp(`^rgba\\(${rt},${rt},${rt},${at}\\)$`),dt=new RegExp(`^rgba\\(${it},${it},${it},${at}\\)$`),ft=new RegExp(`^hsl\\(${at},${it},${it}\\)$`),vt=new RegExp(`^hsla\\(${at},${it},${it},${at}\\)$`),pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ht(){return this.rgb().formatHex()}function mt(){return this.rgb().formatRgb()}function gt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yt(t):3===n?new xt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?wt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?wt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ut.exec(e))?new xt(t[1],t[2],t[3],1):(t=st.exec(e))?new xt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ct.exec(e))?wt(t[1],t[2],t[3],t[4]):(t=dt.exec(e))?wt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ft.exec(e))?Ct(t[1],t[2]/100,t[3]/100,1):(t=vt.exec(e))?Ct(t[1],t[2]/100,t[3]/100,t[4]):pt.hasOwnProperty(e)?yt(pt[e]):"transparent"===e?new xt(NaN,NaN,NaN,0):null}function yt(e){return new xt(e>>16&255,e>>8&255,255&e,1)}function wt(e,t,n,o){return o<=0&&(e=t=n=NaN),new xt(e,t,n,o)}function bt(e,t,n,o){return 1===arguments.length?((r=e)instanceof tt||(r=gt(r)),r?new xt((r=r.rgb()).r,r.g,r.b,r.opacity):new xt):new xt(e,t,n,null==o?1:o);var r}function xt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function St(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function _t(){const e=Et(this.opacity);return`${1===e?"rgb(":"rgba("}${kt(this.r)}, ${kt(this.g)}, ${kt(this.b)}${1===e?")":`, ${e})`}`}function Et(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return((e=kt(e))<16?"0":"")+e.toString(16)}function Ct(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new At(e,t,n,o)}function Tt(e){if(e instanceof At)return new At(e.h,e.s,e.l,e.opacity);if(e instanceof tt||(e=gt(e)),!e)return new At;if(e instanceof At)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),a=Math.max(t,n,o),i=NaN,l=a-r,u=(a+r)/2;return l?(i=t===a?(n-o)/l+6*(n<o):n===a?(o-t)/l+2:(t-n)/l+4,l/=u<.5?a+r:2-a-r,i*=60):l=u>0&&u<1?0:i,new At(i,l,u,e.opacity)}function At(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Mt(e){return(e=(e||0)%360)<0?e+360:e}function Ot(e){return Math.max(0,Math.min(1,e||0))}function It(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Qe(tt,gt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ht,formatHex:ht,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Tt(this).formatHsl()},formatRgb:mt,toString:mt}),Qe(xt,bt,et(tt,{brighter(e){return e=null==e?ot:Math.pow(ot,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?nt:Math.pow(nt,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xt(kt(this.r),kt(this.g),kt(this.b),Et(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:St,formatHex:St,formatHex8:function(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:_t,toString:_t})),Qe(At,function(e,t,n,o){return 1===arguments.length?Tt(e):new At(e,t,n,null==o?1:o)},et(tt,{brighter(e){return e=null==e?ot:Math.pow(ot,e),new At(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?nt:Math.pow(nt,e),new At(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new xt(It(e>=240?e-240:e+120,r,o),It(e,r,o),It(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new At(Mt(this.h),Ot(this.s),Ot(this.l),Et(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Et(this.opacity);return`${1===e?"hsl(":"hsla("}${Mt(this.h)}, ${100*Ot(this.s)}%, ${100*Ot(this.l)}%${1===e?")":`, ${e})`}`}}));const Pt=e=>()=>e;function Vt(e){return 1===(e=+e)?Dt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}(t,n,e):Pt(isNaN(t)?n:t)}}function Dt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Pt(isNaN(e)?t:e)}const Bt=function e(t){var n=Vt(t);function o(e,t){var o=n((e=bt(e)).r,(t=bt(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),i=Dt(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return o.gamma=e,o}(1);function Rt(e,t){t||(t=[]);var n,o=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<o;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}}function zt(e,t){var n,o=t?t.length:0,r=e?Math.min(o,e.length):0,a=new Array(r),i=new Array(o);for(n=0;n<r;++n)a[n]=Gt(e[n],t[n]);for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<r;++n)i[n]=a[n](e);return i}}function $t(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Ft(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Lt(e,t){var n,o={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?o[n]=Gt(e[n],t[n]):r[n]=t[n];return function(e){for(n in o)r[n]=o[n](e);return r}}var Ht=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(Ht.source,"g");function Yt(e,t){var n,o,r,a=Ht.lastIndex=jt.lastIndex=0,i=-1,l=[],u=[];for(e+="",t+="";(n=Ht.exec(e))&&(o=jt.exec(t));)(r=o.index)>a&&(r=t.slice(a,r),l[i]?l[i]+=r:l[++i]=r),(n=n[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,u.push({i,x:Ft(n,o)})),a=jt.lastIndex;return a<t.length&&(r=t.slice(a),l[i]?l[i]+=r:l[++i]=r),l.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,o=0;o<t;++o)l[(n=u[o]).i]=n.x(e);return l.join("")})}function Gt(e,t){var n,o,r=typeof t;return null==t||"boolean"===r?Pt(t):("number"===r?Ft:"string"===r?(n=gt(t))?(t=n,Bt):Yt:t instanceof gt?Bt:t instanceof Date?$t:(o=t,!ArrayBuffer.isView(o)||o instanceof DataView?Array.isArray(t)?zt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Lt:Ft:Rt))(e,t)}var Ut,Xt=180/Math.PI,Wt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qt(e,t,n,o,r,a){var i,l,u;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(u=e*n+t*o)&&(n-=e*u,o-=t*u),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,u/=l),e*o<t*n&&(e=-e,t=-t,u=-u,i=-i),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*Xt,skewX:Math.atan(u)*Xt,scaleX:i,scaleY:l}}function Zt(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(a,i){var l=[],u=[];return a=e(a),i=e(i),function(e,o,r,a,i,l){if(e!==r||o!==a){var u=i.push("translate(",null,t,null,n);l.push({i:u-4,x:Ft(e,r)},{i:u-2,x:Ft(o,a)})}else(r||a)&&i.push("translate("+r+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,l,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(r(n)+"rotate(",null,o)-2,x:Ft(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(a.rotate,i.rotate,l,u),function(e,t,n,a){e!==t?a.push({i:n.push(r(n)+"skewX(",null,o)-2,x:Ft(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(a.skewX,i.skewX,l,u),function(e,t,n,o,a,i){if(e!==n||t!==o){var l=a.push(r(a)+"scale(",null,",",null,")");i.push({i:l-4,x:Ft(e,n)},{i:l-2,x:Ft(t,o)})}else 1===n&&1===o||a.push(r(a)+"scale("+n+","+o+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,l,u),a=i=null,function(e){for(var t,n=-1,o=u.length;++n<o;)l[(t=u[n]).i]=t.x(e);return l.join("")}}}var Kt=Zt(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wt:qt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Jt=Zt(function(e){return null==e?Wt:(Ut||(Ut=document.createElementNS("http://www.w3.org/2000/svg","g")),Ut.setAttribute("transform",e),(e=Ut.transform.baseVal.consolidate())?qt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Wt)},", ",")",")");function Qt(e){return((e=Math.exp(e))+1/e)/2}const en=function e(t,n,o){function r(e,r){var a,i,l=e[0],u=e[1],s=e[2],c=r[0],d=r[1],f=r[2],v=c-l,p=d-u,h=v*v+p*p;if(h<1e-12)i=Math.log(f/s)/t,a=function(e){return[l+e*v,u+e*p,s*Math.exp(t*e*i)]};else{var m=Math.sqrt(h),g=(f*f-s*s+o*h)/(2*s*n*m),y=(f*f-s*s-o*h)/(2*f*n*m),w=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(y*y+1)-y);i=(b-w)/t,a=function(e){var o,r=e*i,a=Qt(w),c=s/(n*m)*(a*(o=t*r+w,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[l+c*v,u+c*p,s*a/Qt(t*r+w)]}}return a.duration=1e3*i*t/Math.SQRT2,a}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4);var tn,nn,on=0,rn=0,an=0,ln=0,un=0,sn=0,cn="object"==typeof performance&&performance.now?performance:Date,dn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fn(){return un||(dn(vn),un=cn.now()+sn)}function vn(){un=0}function pn(){this._call=this._time=this._next=null}function hn(e,t,n){var o=new pn;return o.restart(e,t,n),o}function mn(){un=(ln=cn.now())+sn,on=rn=0;try{!function(){fn(),++on;for(var e,t=tn;t;)(e=un-t._time)>=0&&t._call.call(void 0,e),t=t._next;--on}()}finally{on=0,function(){var e,t,n=tn,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:tn=t);nn=e,yn(o)}(),un=0}}function gn(){var e=cn.now(),t=e-ln;t>1e3&&(sn-=t,ln=e)}function yn(e){on||(rn&&(rn=clearTimeout(rn)),e-un>24?(e<1/0&&(rn=setTimeout(mn,e-cn.now()-sn)),an&&(an=clearInterval(an))):(an||(ln=cn.now(),an=setInterval(gn,1e3)),on=1,dn(mn)))}function wn(e,t,n){var o=new pn;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}pn.prototype=hn.prototype={constructor:pn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?fn():+n)+(null==t?0:+t),this._next||nn===this||(nn?nn._next=this:tn=this,nn=this),this._call=e,this._time=n,yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,yn())}};var bn=S("start","end","cancel","interrupt"),xn=[];function Sn(e,t,n,o,r,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function a(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(a){var s,c,d,f;if(1!==n.state)return u();for(s in r)if((f=r[s]).name===n.name){if(3===f.state)return wn(i);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[s]):+s<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[s])}if(wn(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(d=n.tween.length),s=0,c=-1;s<d;++s)(f=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=f);o.length=c+1}}function l(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),a=-1,i=o.length;++a<i;)o[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=hn(a,0,n.time)}(e,n,{name:t,index:o,group:r,on:bn,tween:xn,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function _n(e,t){var n=kn(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function En(e,t){var n=kn(e,t);if(n.state>3)throw new Error("too late; already running");return n}function kn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Nn(e,t){var n,o,r,a=e.__transition,i=!0;if(a){for(r in t=null==t?null:t+"",a)(n=a[r]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]):i=!1;i&&delete e.__transition}}function Cn(e,t){var n,o;return function(){var r=En(this,e),a=r.tween;if(a!==n)for(var i=0,l=(o=n=a).length;i<l;++i)if(o[i].name===t){(o=o.slice()).splice(i,1);break}r.tween=o}}function Tn(e,t,n){var o,r;if("function"!=typeof n)throw new Error;return function(){var a=En(this,e),i=a.tween;if(i!==o){r=(o=i).slice();for(var l={name:t,value:n},u=0,s=r.length;u<s;++u)if(r[u].name===t){r[u]=l;break}u===s&&r.push(l)}a.tween=r}}function An(e,t,n){var o=e._id;return e.each(function(){var e=En(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return kn(e,o).value[t]}}function Mn(e,t){var n;return("number"==typeof t?Ft:t instanceof gt?Bt:(n=gt(t))?(t=n,Bt):Yt)(e,t)}function On(e){return function(){this.removeAttribute(e)}}function In(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pn(e,t,n){var o,r,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===o?r:r=t(o=i,n)}}function Vn(e,t,n){var o,r,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===o?r:r=t(o=i,n)}}function Dn(e,t,n){var o,r,a;return function(){var i,l,u=n(this);if(null!=u)return(i=this.getAttribute(e))===(l=u+"")?null:i===o&&l===r?a:(r=l,a=t(o=i,u));this.removeAttribute(e)}}function Bn(e,t,n){var o,r,a;return function(){var i,l,u=n(this);if(null!=u)return(i=this.getAttributeNS(e.space,e.local))===(l=u+"")?null:i===o&&l===r?a:(r=l,a=t(o=i,u));this.removeAttributeNS(e.space,e.local)}}function Rn(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function zn(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function $n(e,t){return function(){_n(this,e).delay=+t.apply(this,arguments)}}function Fn(e,t){return t=+t,function(){_n(this,e).delay=t}}function Ln(e,t){return function(){En(this,e).duration=+t.apply(this,arguments)}}function Hn(e,t){return t=+t,function(){En(this,e).duration=t}}var jn=ze.prototype.constructor;function Yn(e){return function(){this.style.removeProperty(e)}}var Gn=0;function Un(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Xn(){return++Gn}var Wn=ze.prototype;Un.prototype={constructor:Un,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=P(e));for(var o=this._groups,r=o.length,a=new Array(r),i=0;i<r;++i)for(var l,u,s=o[i],c=s.length,d=a[i]=new Array(c),f=0;f<c;++f)(l=s[f])&&(u=e.call(l,l.__data__,f,s))&&("__data__"in l&&(u.__data__=l.__data__),d[f]=u,Sn(d[f],t,n,f,d,kn(l,n)));return new Un(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=D(e));for(var o=this._groups,r=o.length,a=[],i=[],l=0;l<r;++l)for(var u,s=o[l],c=s.length,d=0;d<c;++d)if(u=s[d]){for(var f,v=e.call(u,u.__data__,d,s),p=kn(u,n),h=0,m=v.length;h<m;++h)(f=v[h])&&Sn(f,t,n,h,v,p);a.push(v),i.push(u)}return new Un(a,i,t,n)},selectChild:Wn.selectChild,selectChildren:Wn.selectChildren,filter:function(e){"function"!=typeof e&&(e=R(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,i=t[r],l=i.length,u=o[r]=[],s=0;s<l;++s)(a=i[s])&&e.call(a,a.__data__,s,i)&&u.push(a);return new Un(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,a=Math.min(o,r),i=new Array(o),l=0;l<a;++l)for(var u,s=t[l],c=n[l],d=s.length,f=i[l]=new Array(d),v=0;v<d;++v)(u=s[v]||c[v])&&(f[v]=u);for(;l<o;++l)i[l]=t[l];return new Un(i,this._parents,this._name,this._id)},selection:function(){return new jn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Xn(),o=this._groups,r=o.length,a=0;a<r;++a)for(var i,l=o[a],u=l.length,s=0;s<u;++s)if(i=l[s]){var c=kn(i,t);Sn(i,e,n,s,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Un(o,this._parents,e,n)},call:Wn.call,nodes:Wn.nodes,node:Wn.node,size:Wn.size,empty:Wn.empty,each:Wn.each,on:function(e,t){var n=this._id;return arguments.length<2?kn(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?_n:En;return function(){var i=a(this,e),l=i.on;l!==o&&(r=(o=l).copy()).on(t,n),i.on=r}}(n,e,t))},attr:function(e,t){var n=T(e),o="transform"===n?Jt:Mn;return this.attrTween(e,"function"==typeof t?(n.local?Bn:Dn)(n,o,An(this,"attr."+e,t)):null==t?(n.local?In:On)(n):(n.local?Vn:Pn)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var o=T(e);return this.tween(n,(o.local?Rn:zn)(o,t))},style:function(e,t,n){var o="transform"==(e+="")?Kt:Mn;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var a=le(this,e),i=(this.style.removeProperty(e),le(this,e));return a===i?null:a===n&&i===o?r:r=t(n=a,o=i)}}(e,o)).on("end.style."+e,Yn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var o,r,a;return function(){var i=le(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=le(this,e)),i===u?null:i===o&&u===r?a:(r=u,a=t(o=i,l))}}(e,o,An(this,"style."+e,t))).each(function(e,t){var n,o,r,a,i="style."+t,l="end."+i;return function(){var u=En(this,e),s=u.on,c=null==u.value[i]?a||(a=Yn(t)):void 0;s===n&&r===c||(o=(n=s).copy()).on(l,r=c),u.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,a=n+"";return function(){var i=le(this,e);return i===a?null:i===o?r:r=t(o=i,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw new Error;return this.tween(o,function(e,t,n){var o,r;function a(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&function(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}(e,a,n)),o}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(An(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return o._value=e,o}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=kn(this.node(),n).tween,a=0,i=r.length;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((null==t?Cn:Tn)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?$n:Fn)(t,e)):kn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ln:Hn)(t,e)):kn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){En(this,e).ease=t}}(t,e)):kn(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;En(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(a,i){var l={value:i},u={value:function(){0===--r&&a()}};n.each(function(){var n=En(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),n.on=t}),0===r&&a()})},[Symbol.iterator]:Wn[Symbol.iterator]};var qn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Zn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}ze.prototype.interrupt=function(e){return this.each(function(){Nn(this,e)})},ze.prototype.transition=function(e){var t,n;e instanceof Un?(t=e._id,e=e._name):(t=Xn(),(n=qn).time=fn(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,a=0;a<r;++a)for(var i,l=o[a],u=l.length,s=0;s<u;++s)(i=l[s])&&Sn(i,e,t,s,l,n||Zn(i,t));return new Un(o,this._parents,e,t)};const Kn=e=>()=>e;function Jn(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Qn(e,t,n){this.k=e,this.x=t,this.y=n}Qn.prototype={constructor:Qn,scale:function(e){return 1===e?this:new Qn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Qn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var eo=new Qn(1,0,0);function to(e){e.stopImmediatePropagation()}function no(e){e.preventDefault(),e.stopImmediatePropagation()}function oo(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function ro(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function ao(){return this.__zoom||eo}function io(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function lo(){return navigator.maxTouchPoints||"ontouchstart"in this}function uo(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}Qn.prototype;var so=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(so||{}),co=(e=>(e.Partial="partial",e.Full="full",e))(co||{}),fo=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(fo||{}),vo=(e=>(e.Strict="strict",e.Loose="loose",e))(vo||{}),po=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(po||{}),ho=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(ho||{}),mo=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(mo||{});const go=["INPUT","SELECT","TEXTAREA"],yo="undefined"!=typeof document?document:null;function wo(e){var t,n;const o=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target,r="function"==typeof(null==o?void 0:o.hasAttribute)&&o.hasAttribute("contenteditable"),a="function"==typeof(null==o?void 0:o.closest)?o.closest(".nokey"):null;return go.includes(null==o?void 0:o.nodeName)||r||!!a}function bo(e,t,n,o){const r=t.replace("+","\n").replace("\n\n","\n+").split("\n").map(e=>e.trim().toLowerCase());if(1===r.length)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const a=r.every((e,t)=>n.has(e)&&Array.from(n.values())[t]===r[t]);return o&&n.delete(e.toLowerCase()),a}function xo(e,t){const n=o.computed(()=>o.toValue(null==t?void 0:t.target)??yo),r=o.shallowRef(!0===o.toValue(e));let a=!1;const i=new Set;let l=s(o.toValue(e));function u(){a=!1,i.clear(),r.value=!0===o.toValue(e)}function s(e){return null===e?(u(),()=>!1):"boolean"==typeof e?(u(),r.value=e,()=>!1):Array.isArray(e)||"string"==typeof e?function(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=(r=n.code,e.includes(r)?"code":"key");var r;return Array.isArray(e)?e.some(e=>bo(n[o],e,t,"keyup"===n.type)):bo(n[o],e,t,"keyup"===n.type)}}(e,i):e}return o.watch(()=>o.toValue(e),(e,t)=>{"boolean"==typeof t&&"boolean"!=typeof e&&u(),l=s(e)},{immediate:!0}),y(["blur","contextmenu"],u),w((...e)=>l(...e),e=>{var n,i;const l=o.toValue(null==t?void 0:t.actInsideInputWithModifier)??!0,u=o.toValue(null==t?void 0:t.preventDefault)??!1;var s;a=(s=e).ctrlKey||s.metaKey||s.shiftKey||s.altKey;if((!a||a&&!l)&&wo(e))return;const c=(null==(i=null==(n=e.composedPath)?void 0:n.call(e))?void 0:i[0])||e.target,d="BUTTON"===(null==c?void 0:c.nodeName)||"A"===(null==c?void 0:c.nodeName);u||!a&&d||e.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),w((...e)=>l(...e),e=>{const n=o.toValue(null==t?void 0:t.actInsideInputWithModifier)??!0;if(r.value){if((!a||a&&!n)&&wo(e))return;a=!1,r.value=!1}},{eventName:"keyup",target:n}),r}const So="vue-flow__node-desc",_o="vue-flow__edge-desc",Eo=["Enter"," ","Escape"],ko={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function No(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Co(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function To(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Ao(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Mo(e,t){return{x:Ao(e.x,t[0][0],t[1][0]),y:Ao(e.y,t[0][1],t[1][1])}}function Oo(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Io(e){return e&&"object"==typeof e&&"id"in e&&"source"in e&&"target"in e}function Po(e){return e&&"object"==typeof e&&"id"in e&&"position"in e&&!Io(e)}function Vo(e){return Po(e)&&"computedPosition"in e}function Do(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Bo(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:o.markRaw({width:0,height:0}),computedPosition:o.markRaw({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Rr(e.data)?e.data:{},events:o.markRaw(Rr(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function Ro(e,t,n){var r,a;const i={id:e.id.toString(),type:e.type??(null==t?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:null==(r=e.sourceHandle)?void 0:r.toString(),targetHandle:null==(a=e.targetHandle)?void 0:a.toString(),updatable:e.updatable??(null==n?void 0:n.updatable),selectable:e.selectable??(null==n?void 0:n.selectable),focusable:e.focusable??(null==n?void 0:n.focusable),data:Rr(e.data)?e.data:{},events:o.markRaw(Rr(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(null==n?void 0:n.interactionWidth),...n??{}};return Object.assign(t??i,e,{id:e.id.toString()})}function zo(e,t,n,o){const r="string"==typeof e?e:e.id,a=new Set,i="source"===o?"target":"source";for(const e of n)e[i]===r&&a.add(e[o]);return t.filter(e=>a.has(e.id))}function $o(...e){if(3===e.length){const[t,n,o]=e;return zo(t,n,o,"target")}const[t,n]=e,o="string"==typeof t?t:t.id;return n.filter(e=>Io(e)&&e.source===o).map(e=>n.find(t=>Po(t)&&t.id===e.target))}function Fo(...e){if(3===e.length){const[t,n,o]=e;return zo(t,n,o,"source")}const[t,n]=e,o="string"==typeof t?t:t.id;return n.filter(e=>Io(e)&&e.target===o).map(e=>n.find(t=>Po(t)&&t.id===e.source))}function Lo({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function Ho(e,t){return t.some(t=>Io(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))}function jo({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Yo({x:e,y:t},{x:n,y:o,zoom:r},a=!1,i=[1,1]){const l={x:(e-n)/r,y:(t-o)/r};return a?kr(l,i):l}function Go(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Uo({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Xo({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Wo(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=Go(t,Uo({...o.computedPosition,...o.dimensions}))}return Xo(t)}function qo(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){const a={...Yo(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const t of e){const{dimensions:e,selectable:n=!0,hidden:l=!1}=t,u=e.width??t.width??null,s=e.height??t.height??null;if(r&&!n||l)continue;const c=Co(a,No(t));(null===u||null===s||o&&c>0||c>=(u??0)*(s??0)||t.dragging)&&i.push(t)}return i}function Zo(e,t){const n=new Set;if("string"==typeof e)n.add(e);else if(e.length>=1)for(const t of e)n.add(t.id);return t.filter(e=>n.has(e.source)||n.has(e.target))}function Ko(e,t,n,o,r,a=.1,i={x:0,y:0}){const l=t/(e.width*(1+a)),u=n/(e.height*(1+a)),s=Ao(Math.min(l,u),o,r),c=e.x+e.width/2,d=e.y+e.height/2;return{x:t/2-c*s+(i.x??0),y:n/2-d*s+(i.y??0),zoom:s}}function Jo(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||Jo(n,t))}function Qo(e,t){if(void 0===e)return"";if("string"==typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}function er(e,t,n){return e<t?Ao(Math.abs(e-t),1,t)/t:e>n?-Ao(Math.abs(e-n),1,t)/t:0}function tr(e,t,n=15,o=40){return[er(e.x,o,t.width-o)*n,er(e.y,o,t.height-o)*n]}function nr(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if("function"==typeof t.style?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if("string"==typeof r.width){const e=Number(r.width.replace("px",""));r.width=`${e+n}px`}else r.width+=n;if(o>0)if("string"==typeof r.height){const e=Number(r.height.replace("px",""));r.height=`${e+o}px`}else r.height+=o;if(e.position.x<0){const n=Math.abs(e.position.x);if(t.position.x=t.position.x-n,"string"==typeof r.width){const e=Number(r.width.replace("px",""));r.width=`${e+n}px`}else r.width+=n;e.position.x=0}if(e.position.y<0){const n=Math.abs(e.position.y);if(t.position.y=t.position.y-n,"string"==typeof r.height){const e=Number(r.height.replace("px",""));r.height=`${e+n}px`}else r.height+=n;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),"function"==typeof t.style?t.style=e=>({...(0,t.style)(e),...r}):t.style={...t.style,...r}}}}function or(e,t){var n,r;const a=e.filter(e=>"add"===e.type||"remove"===e.type);for(const e of a)if("add"===e.type){-1===t.findIndex(t=>t.id===e.item.id)&&t.push(e.item)}else if("remove"===e.type){const n=t.findIndex(t=>t.id===e.id);-1!==n&&t.splice(n,1)}const i=t.map(e=>e.id);for(const a of t)for(const l of e)if(l.id===a.id)switch(l.type){case"select":a.selected=l.selected;break;case"position":if(Vo(a)&&(void 0!==l.position&&(a.position=l.position),void 0!==l.dragging&&(a.dragging=l.dragging),a.expandParent&&a.parentNode)){const e=t[i.indexOf(a.parentNode)];e&&Vo(e)&&nr(a,e)}break;case"dimensions":if(Vo(a)&&(void 0!==l.dimensions&&(a.dimensions=l.dimensions),void 0!==l.updateStyle&&l.updateStyle&&(a.style={...a.style||{},width:`${null==(n=l.dimensions)?void 0:n.width}px`,height:`${null==(r=l.dimensions)?void 0:r.height}px`}),void 0!==l.resizing&&(a.resizing=l.resizing),a.expandParent&&a.parentNode)){const e=t[i.indexOf(a.parentNode)];if(e&&Vo(e)){!!e.dimensions.width&&!!e.dimensions.height?nr(a,e):o.nextTick(()=>{nr(a,e)})}}}return t}function rr(e,t){return{id:e,type:"select",selected:t}}function ar(e){return{item:e,type:"add"}}function ir(e){return{id:e,type:"remove"}}function lr(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function ur(e,t=new Set,n=!1){const o=[];for(const[r,a]of e){const e=t.has(r);void 0===a.selected&&!e||a.selected===e||(n&&(a.selected=e),o.push(rr(a.id,e)))}return o}function sr(e){const t=new Set;let n=!1;e&&(n=!0,t.add(e));const o=e=>{t.delete(e)};return{on:a=>{e&&n&&t.delete(e),t.add(a);const i=()=>{o(a),e&&n&&t.add(e)};return r(i),{off:i}},off:o,trigger:e=>Promise.all(Array.from(t).map(t=>t(e))),hasListeners:()=>t.size>0,fns:t}}function cr(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function dr({id:e,dragItems:t,findNode:n}){const o=[];for(const e of t){const t=n(e.id);t&&o.push(t)}return[e?o.find(t=>t.id===e):o[0],o]}function fr(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function vr(e,t,n,o){let r=e.extent||n;if("parent"!==r&&(Array.isArray(r)||"parent"!==(null==r?void 0:r.range))||e.expandParent){if(Array.isArray(r)){const e=(null==o?void 0:o.computedPosition.x)||0,t=(null==o?void 0:o.computedPosition.y)||0;r=[[r[0][0]+e,r[0][1]+t],[r[1][0]+e,r[1][1]+t]]}else if("parent"!==r&&(null==r?void 0:r.range)&&Array.isArray(r.range)){const[e,t,n,a]=fr(r.padding),i=(null==o?void 0:o.computedPosition.x)||0,l=(null==o?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+i+a,r.range[0][1]+l+e],[r.range[1][0]+i-t,r.range[1][1]+l-n]]}}else if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const e=function(e,t,n){const[o,r,a,i]="string"!=typeof e?fr(e.padding):[0,0,0,0];return!(!n||void 0===n.computedPosition.x||void 0===n.computedPosition.y||void 0===n.dimensions.width||void 0===n.dimensions.height)&&[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-a]]}(r,0,o);e&&(r=e)}else t(new xr(wr.NODE_EXTENT_INVALID,e.id)),r=n;return"parent"===r?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function pr(e,t,n,o,r){const a=Mo(t,function({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}(e.dimensions,vr(e,n,o,r)));return{position:{x:a.x-((null==r?void 0:r.computedPosition.x)||0),y:a.y-((null==r?void 0:r.computedPosition.y)||0)},computedPosition:a}}function hr(e,t,n=so.Left,o=!1){const r=((null==t?void 0:t.x)??0)+e.computedPosition.x,a=((null==t?void 0:t.y)??0)+e.computedPosition.y,{width:i,height:l}=t??function(e){var t,n;return{width:(null==(t=e.dimensions)?void 0:t.width)??e.width??0,height:(null==(n=e.dimensions)?void 0:n.height)??e.height??0}}(e);if(o)return{x:r+i/2,y:a+l/2};switch((null==t?void 0:t.position)??n){case so.Top:return{x:r+i/2,y:a};case so.Right:return{x:r+i,y:a+l/2};case so.Bottom:return{x:r+i/2,y:a+l};case so.Left:return{x:r,y:a+l/2}}}function mr(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function gr({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:a,width:i,height:l,viewport:u}){const s={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+a)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c=Uo({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:i/u.zoom,height:l/u.zoom}),d=Math.max(0,Math.min(c.x2,s.x2)-Math.max(c.x,s.x)),f=Math.max(0,Math.min(c.y2,s.y2)-Math.max(c.y,s.y));return Math.ceil(d*f)>0}function yr(e,t,n=!1){const o="number"==typeof e.zIndex;let r=o?e.zIndex:0;const a=t(e.source),i=t(e.target);return a&&i?(n&&(r=o?e.zIndex:Math.max(a.computedPosition.z||0,i.computedPosition.z||0)),r):0}var wr=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(wr||{});const br={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid\nNode: ${e}`,NODE_NOT_FOUND:e=>`Node not found\nNode: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent\nNode: ${e}\nParent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing\nType: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent\nNode: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target\nEdge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing\nEdge: ${e} \nSource: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing\nEdge: ${e} \nTarget: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing\nType: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same\nEdge: ${e} \nSource: ${t} \nTarget: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing\nEdge: ${e} \nSource: ${t} \nTarget: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found\nEdge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class xr extends Error{constructor(e,...t){var n;super(null==(n=br[e])?void 0:n.call(br,...t)),this.name="VueFlowError",this.code=e,this.args=t}}function Sr(e){return"clientX"in e}function _r(e,t){let n,o;return Sr(e)?(n=e.clientX,o=e.clientY):"touches"in e&&e.touches.length>0?(n=e.touches[0].clientX,o=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(n=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):(n=0,o=0),{x:n-((null==t?void 0:t.left)??0),y:o-((null==t?void 0:t.top)??0)}}const Er=()=>{var e;return"undefined"!=typeof navigator&&(null==(e=null==navigator?void 0:navigator.userAgent)?void 0:e.indexOf("Mac"))>=0};function kr(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Nr=()=>!0;function Cr(e){null==e||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Tr(e,t,n,o){var r,a;let i=[],l=Number.POSITIVE_INFINITY;const u=function(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const e of t.values())Co(r,No(e))>0&&o.push(e);return o}(e,n,t+250);for(const n of u){const u=[...(null==(r=n.handleBounds)?void 0:r.source)??[],...(null==(a=n.handleBounds)?void 0:a.target)??[]];for(const r of u){if(o.nodeId===r.nodeId&&o.type===r.type&&o.id===r.id)continue;const{x:a,y:u}=hr(n,r,r.position,!0),s=Math.sqrt((a-e.x)**2+(u-e.y)**2);s>t||(s<l?(i=[{...r,x:a,y:u}],l=s):s===l&&i.push({...r,x:a,y:u}))}}if(!i.length)return null;if(i.length>1){const e="source"===o.type?"target":"source";return i.find(t=>t.type===e)??i[0]}return i[0]}function Ar(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:a,doc:i,lib:l,flowId:u,isValidConnection:s=Nr},c,d,f){const v="target"===a,p=t?i.querySelector(`.${l}-flow__handle[data-id="${u}-${null==t?void 0:t.nodeId}-${null==t?void 0:t.id}-${null==t?void 0:t.type}"]`):null,{x:h,y:m}=_r(e),g=i.elementFromPoint(h,m),y=(null==g?void 0:g.classList.contains(`${l}-flow__handle`))?g:p,w={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const e=Mr(void 0,y),a=y.getAttribute("data-nodeid"),i=y.getAttribute("data-handleid"),l=y.classList.contains("connectable"),u=y.classList.contains("connectableend");if(!a||!e)return w;const p={source:v?a:o,sourceHandle:v?i:r,target:v?o:a,targetHandle:v?r:i};w.connection=p;const h=l&&u&&(n===vo.Strict?v&&"source"===e||!v&&"target"===e:a!==o||i!==r);w.isValid=h&&s(p,{nodes:d,edges:c,sourceNode:f(o),targetNode:f(a)}),w.toHandle=t}return w}function Mr(e,t){return e||((null==t?void 0:t.classList.contains("target"))?"target":(null==t?void 0:t.classList.contains("source"))?"source":null)}const Or={[so.Left]:so.Right,[so.Right]:so.Left,[so.Top]:so.Bottom,[so.Bottom]:so.Top},Ir=["production","prod"];function Pr(e,...t){Vr()}function Vr(){return!Ir.includes("production")}function Dr(e,t,n,o,r){const a=t.querySelectorAll(`.vue-flow__handle.${e}`);return(null==a?void 0:a.length)?Array.from(a).map(t=>{const a=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:r,position:t.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...To(t)}}):null}function Br(e,t,n,r,a,i=!1,l){a.value=!1,e.selected?(i||e.selected&&t)&&(r([e]),o.nextTick(()=>{l.blur()})):n([e])}function Rr(e){return void 0!==o.unref(e)}function zr(e,t,n,o){if(!e||!e.source||!e.target)return n(new xr(wr.EDGE_INVALID,(null==e?void 0:e.id)??"[ID UNKNOWN]")),!1;let r;return r=Io(e)?e:{...e,id:Lo(e)},r=Ro(r,void 0,o),!Ho(r,t)&&r}function $r(e,t,n){const o={},r=[];for(let a=0;a<e.length;++a){const i=e[a];if(!Po(i)){n(new xr(wr.NODE_INVALID,null==i?void 0:i.id)||`[ID UNKNOWN|INDEX ${a}]`);continue}const l=Bo(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),r[a]=l}for(const e of r){const a=t(e.parentNode)||r.find(t=>t.id===e.parentNode);e.parentNode&&!a&&n(new xr(wr.NODE_MISSING_PARENT,e.id,e.parentNode)),(e.parentNode||o[e.id])&&(o[e.id]&&(e.isParent=!0),a&&(a.isParent=!0))}return r}function Fr(e,t,n,o,r,a){let i=r;const l=o.get(i)||new Map;o.set(i,l.set(n,t)),i=`${r}-${e}`;const u=o.get(i)||new Map;if(o.set(i,u.set(n,t)),a){i=`${r}-${e}-${a}`;const l=o.get(i)||new Map;o.set(i,l.set(n,t))}}function Lr(e,t,n){e.clear();for(const t of n){const{source:n,target:o,sourceHandle:r=null,targetHandle:a=null}=t,i={edgeId:t.id,source:n,target:o,sourceHandle:r,targetHandle:a},l=`${n}-${r}--${o}-${a}`;Fr("source",i,`${o}-${a}--${n}-${r}`,e,n,r),Fr("target",i,l,e,o,a)}}function Hr(e,t,n){if(!n)return;const o=[];for(const n of e.keys())t.has(n)||o.push(e.get(n));o.length&&n(o)}function jr(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function Yr(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Gr(e,t,n,o,r,a,i,l){const u=[];for(const s of e){const e=Io(s)?s:zr(s,l,r,a);if(!e)continue;const c=n(e.source),d=n(e.target);if(!c||!d){r(new xr(wr.EDGE_SOURCE_TARGET_MISSING,e.id,e.source,e.target));continue}if(!c){r(new xr(wr.EDGE_SOURCE_MISSING,e.id,e.source));continue}if(!d){r(new xr(wr.EDGE_TARGET_MISSING,e.id,e.target));continue}if(t){if(!t(e,{edges:l,nodes:i,sourceNode:c,targetNode:d})){r(new xr(wr.EDGE_INVALID,e.id));continue}}const f=o(e.id);u.push({...Ro(e,f,a),sourceNode:c,targetNode:d})}return u}const Ur=Symbol("vueFlow"),Xr=Symbol("nodeId"),Wr=Symbol("nodeRef"),qr=Symbol("edgeId"),Zr=Symbol("edgeRef"),Kr=Symbol("slots");function Jr(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:a,nodes:i,nodeExtent:l,nodeDragThreshold:u,viewport:s,autoPanOnNodeDrag:c,autoPanSpeed:d,nodesDraggable:f,panBy:v,findNode:p,multiSelectionActive:h,nodesSelectionActive:m,selectNodesOnDrag:g,removeSelectedElements:y,addSelectedNodes:w,updateNodePositions:b,emits:x}=Ka(),{onStart:_,onDrag:E,onStop:k,onClick:N,el:C,disabled:T,id:A,selectable:M,dragHandle:O}=e,I=o.shallowRef(!1);let P,V=[],D=null,B={x:void 0,y:void 0},R={x:0,y:0},z=null,F=!1,L=0,H=!1;const j=ea(),Y=({x:e,y:t})=>{B={x:e,y:t};let o=!1;if(V=V.map(a=>{const i={x:e-a.distance.x,y:t-a.distance.y},{computedPosition:u}=pr(a,n.value?kr(i,r.value):i,x.error,l.value,a.parentNode?p(a.parentNode):void 0);return o=o||a.position.x!==u.x||a.position.y!==u.y,a.position=u,a}),o&&(b(V,!0,!0),I.value=!0,z)){const[e,t]=dr({id:A,dragItems:V,findNode:p});E({event:z,node:e,nodes:t})}},G=()=>{if(!D)return;const[e,t]=tr(R,D,d.value);if(0!==e||0!==t){const n={x:(B.x??0)-e/s.value.zoom,y:(B.y??0)-t/s.value.zoom};v({x:e,y:t})&&Y(n)}L=requestAnimationFrame(G)},U=(e,t)=>{F=!0;const n=p(A);g.value||h.value||!n||n.selected||y(),n&&o.toValue(M)&&g.value&&Br(n,h.value,w,y,m,!1,t);const r=j(e.sourceEvent);if(B=r,V=function(e,t,n,r,a){var i,l;const u=[];for(const s of e)!s.selected&&s.id!==a||s.parentNode&&Jo(s,r)||!(s.draggable||t&&void 0===s.draggable)||u.push(o.markRaw({id:s.id,position:s.position||{x:0,y:0},distance:{x:n.x-(null==(i=s.computedPosition)?void 0:i.x)||0,y:n.y-(null==(l=s.computedPosition)?void 0:l.y)||0},from:s.computedPosition,extent:s.extent,parentNode:s.parentNode,dimensions:s.dimensions,expandParent:s.expandParent}));return u}(i.value,f.value,r,p,A),V.length){const[t,n]=dr({id:A,dragItems:V,findNode:p});_({event:e.sourceEvent,node:t,nodes:n})}};return o.watch([()=>o.toValue(T),C],([e,n],r,i)=>{if(n){const r=$e(n);e||(P=function(){var e,t,n,o,r=qe,a=Ze,i=Ke,l=Je,u={},s=S("start","drag","end"),c=0,d=0;function f(e){e.on("mousedown.drag",v).filter(l).on("touchstart.drag",m).on("touchmove.drag",g,Le).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(i,l){if(!o&&r.call(this,i,l)){var u=w(this,a.call(this,i,l),i,l,"mouse");u&&($e(i.view).on("mousemove.drag",p,He).on("mouseup.drag",h,He),Ge(i.view),je(i),n=!1,e=i.clientX,t=i.clientY,u("start",i))}}function p(o){if(Ye(o),!n){var r=o.clientX-e,a=o.clientY-t;n=r*r+a*a>d}u.mouse("drag",o)}function h(e){$e(e.view).on("mousemove.drag mouseup.drag",null),Ue(e.view,n),Ye(e),u.mouse("end",e)}function m(e,t){if(r.call(this,e,t)){var n,o,i=e.changedTouches,l=a.call(this,e,t),u=i.length;for(n=0;n<u;++n)(o=w(this,l,e,t,i[n].identifier,i[n]))&&(je(e),o("start",e,i[n]))}}function g(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=u[o[t].identifier])&&(Ye(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<a;++t)(n=u[r[t].identifier])&&(je(e),n("end",e,r[t]))}function w(e,t,n,o,r,a){var l,d,v,p=s.copy(),h=Fe(a||n,t);if(null!=(v=i.call(e,new We("beforestart",{sourceEvent:n,target:f,identifier:r,active:c,x:h[0],y:h[1],dx:0,dy:0,dispatch:p}),o)))return l=v.x-h[0]||0,d=v.y-h[1]||0,function n(a,i,s){var m,g=h;switch(a){case"start":u[r]=n,m=c++;break;case"end":delete u[r],--c;case"drag":h=Fe(s||i,t),m=c}p.call(a,e,new We(a,{sourceEvent:i,subject:v,target:f,identifier:r,active:m,x:h[0]+l,y:h[1]+d,dx:h[0]-g[0],dy:h[1]-g[1],dispatch:p}),o)}}return f.filter=function(e){return arguments.length?(r="function"==typeof e?e:Xe(!!e),f):r},f.container=function(e){return arguments.length?(a="function"==typeof e?e:Xe(e),f):a},f.subject=function(e){return arguments.length?(i="function"==typeof e?e:Xe(e),f):i},f.touchable=function(e){return arguments.length?(l="function"==typeof e?e:Xe(!!e),f):l},f.on=function(){var e=s.on.apply(s,arguments);return e===s?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",e=>((e,n)=>{var o;"touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||(0===u.value&&U(e,n),B=j(e.sourceEvent),D=(null==(o=t.value)?void 0:o.getBoundingClientRect())||null,R=_r(e.sourceEvent,D))})(e,n)).on("drag",e=>((e,t)=>{const n=j(e.sourceEvent);if(!H&&F&&c.value&&(H=!0,G()),!F){const o=n.xSnapped-(B.x??0),r=n.ySnapped-(B.y??0);Math.sqrt(o*o+r*r)>u.value&&U(e,t)}(B.x!==n.xSnapped||B.y!==n.ySnapped)&&V.length&&F&&(z=e.sourceEvent,R=_r(e.sourceEvent,D),Y(n))})(e,n)).on("end",e=>(e=>{let t=!1;if(!F&&!I.value&&!h.value){const n=e.sourceEvent,o=j(n),r=o.xSnapped-(B.x??0),a=o.ySnapped-(B.y??0),i=Math.sqrt(r*r+a*a);0!==i&&i<=u.value&&(null==N||N(n),t=!0)}if(V.length&&!t){b(V,!1,!1);const[t,n]=dr({id:A,dragItems:V,findNode:p});k({event:e.sourceEvent,node:t,nodes:n})}V=[],I.value=!1,H=!1,F=!1,B={x:void 0,y:void 0},cancelAnimationFrame(L)})(e)).filter(e=>{const t=e.target,r=o.toValue(O);return!e.button&&(!a.value||!cr(t,`.${a.value}`,n)&&(!r||cr(t,r,n)))}),r.call(P)),i(()=>{r.on(".drag",null),P&&(P.on("start",null),P.on("drag",null),P.on("end",null))})}}),I}function Qr(e,t){const n={doubleClick:sr(),click:sr(),mouseEnter:sr(),mouseMove:sr(),mouseLeave:sr(),contextMenu:sr(),updateStart:sr(),update:sr(),updateEnd:sr()};return n.doubleClick.on(n=>{var o,r;t.edgeDoubleClick(n),null==(r=null==(o=e.events)?void 0:o.doubleClick)||r.call(o,n)}),n.click.on(n=>{var o,r;t.edgeClick(n),null==(r=null==(o=e.events)?void 0:o.click)||r.call(o,n)}),n.mouseEnter.on(n=>{var o,r;t.edgeMouseEnter(n),null==(r=null==(o=e.events)?void 0:o.mouseEnter)||r.call(o,n)}),n.mouseMove.on(n=>{var o,r;t.edgeMouseMove(n),null==(r=null==(o=e.events)?void 0:o.mouseMove)||r.call(o,n)}),n.mouseLeave.on(n=>{var o,r;t.edgeMouseLeave(n),null==(r=null==(o=e.events)?void 0:o.mouseLeave)||r.call(o,n)}),n.contextMenu.on(n=>{var o,r;t.edgeContextMenu(n),null==(r=null==(o=e.events)?void 0:o.contextMenu)||r.call(o,n)}),n.updateStart.on(n=>{var o,r;t.edgeUpdateStart(n),null==(r=null==(o=e.events)?void 0:o.updateStart)||r.call(o,n)}),n.update.on(n=>{var o,r;t.edgeUpdate(n),null==(r=null==(o=e.events)?void 0:o.update)||r.call(o,n)}),n.updateEnd.on(n=>{var o,r;t.edgeUpdateEnd(n),null==(r=null==(o=e.events)?void 0:o.updateEnd)||r.call(o,n)}),Object.entries(n).reduce((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e),{emit:{},on:{}})}function ea(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=Ka();return r=>{var a;const i=(null==(a=o.value)?void 0:a.getBoundingClientRect())??{left:0,top:0},l=function(e){return"sourceEvent"in e}(r)?r.sourceEvent:r,{x:u,y:s}=_r(l,i),c=Yo({x:u,y:s},e.value),{x:d,y:f}=n.value?kr(c,t.value):c;return{xSnapped:d,ySnapped:f,...c}}}function ta(){return!0}function na({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:a,onEdgeUpdate:i,onEdgeUpdateEnd:l}){const{id:u,vueFlowRef:s,connectionMode:c,connectionRadius:d,connectOnClick:f,connectionClickStartHandle:v,nodesConnectable:p,autoPanOnConnect:h,autoPanSpeed:m,findNode:g,panBy:y,startConnection:w,updateConnection:b,endConnection:x,emits:S,viewport:_,edges:E,nodes:k,isValidConnection:N,nodeLookup:C}=Ka();let T=null,A=!1,M=null;return{handlePointerDown:function(f){var v;const p="target"===o.toValue(n),O=Sr(f),I=Oo(f.target);if(O&&0===f.button||!O){let n=function(n){G=_r(n,H),V=Tr(Yo(G,_.value,!1,[1,1]),d.value,C.value,W),U||(X(),U=!0);const r=Ar(n,{handle:V,connectionMode:c.value,fromNodeId:o.toValue(t),fromHandleId:o.toValue(e),fromType:p?"target":"source",isValidConnection:D,doc:I,lib:"vue",flowId:u,nodeLookup:C.value},E.value,k.value,g);M=r.handleDomNode,T=r.connection,A=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!V,r.isValid);const a={...K,isValid:A,to:r.toHandle&&A?jo({x:r.toHandle.x,y:r.toHandle.y},_.value):G,toHandle:r.toHandle,toPosition:A&&r.toHandle?r.toHandle.position:Or[W.position],toNode:r.toHandle?C.value.get(r.toHandle.nodeId):null};if(!(A&&V&&(null==K?void 0:K.toHandle)&&a.toHandle&&K.toHandle.type===a.toHandle.type&&K.toHandle.nodeId===a.toHandle.nodeId&&K.toHandle.id===a.toHandle.id&&K.to.x===a.to.x&&K.to.y===a.to.y)){if(b(V&&A?jo({x:V.x,y:V.y},_.value):G,r.toHandle,function(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}(!!V,A)),K=a,!V&&!A&&!M)return Cr(Y);T&&T.source!==T.target&&M&&(Cr(Y),Y=M,M.classList.add("connecting","vue-flow__handle-connecting"),M.classList.toggle("valid",!!A),M.classList.toggle("vue-flow__handle-valid",!!A))}},O=function(e){(V||M)&&T&&A&&(i?i(e,T):S.connect(T)),S.connectEnd(e),a&&(null==l||l(e)),Cr(Y),cancelAnimationFrame(B),x(e),U=!1,A=!1,T=null,M=null,I.removeEventListener("mousemove",n),I.removeEventListener("mouseup",O),I.removeEventListener("touchmove",n),I.removeEventListener("touchend",O)};const P=g(o.toValue(t));let V,D=o.toValue(r)||N.value||ta;!D&&P&&(D=(p?P.isValidSourcePos:P.isValidTargetPos)||ta);let B=0;const{x:R,y:z}=_r(f),F=null==I?void 0:I.elementFromPoint(R,z),L=Mr(o.toValue(a),F),H=null==(v=s.value)?void 0:v.getBoundingClientRect();if(!H||!L)return;const j=function(e,t,n,o,r,a=!1){var i,l,u;const s=o.get(e);if(!s)return null;const c=r===vo.Strict?null==(i=s.handleBounds)?void 0:i[t]:[...(null==(l=s.handleBounds)?void 0:l.source)??[],...(null==(u=s.handleBounds)?void 0:u.target)??[]],d=(n?null==c?void 0:c.find(e=>e.id===n):null==c?void 0:c[0])??null;return d&&a?{...d,...hr(s,d,d.position,!0)}:d}(o.toValue(t),L,o.toValue(e),C.value,c.value);if(!j)return;let Y,G=_r(f,H),U=!1;const X=()=>{if(!h.value)return;const[e,t]=tr(G,H,m.value);y({x:e,y:t}),B=requestAnimationFrame(X)},W={...j,nodeId:o.toValue(t),type:L,position:j.position},q=C.value.get(o.toValue(t)),Z={inProgress:!0,isValid:null,from:hr(q,W,so.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:q,to:G,toHandle:null,toPosition:Or[W.position],toNode:null};w({nodeId:o.toValue(t),id:o.toValue(e),type:L,position:(null==F?void 0:F.getAttribute("data-handlepos"))||so.Top,...G},{x:R-H.left,y:z-H.top}),S.connectStart({event:f,nodeId:o.toValue(t),handleId:o.toValue(e),handleType:L});let K=Z;I.addEventListener("mousemove",n),I.addEventListener("mouseup",O),I.addEventListener("touchmove",n),I.addEventListener("touchend",O)}},handleClick:function(a){var i,l;if(!f.value)return;const s="target"===o.toValue(n);if(!v.value)return S.clickConnectStart({event:a,nodeId:o.toValue(t),handleId:o.toValue(e)}),void w({nodeId:o.toValue(t),type:o.toValue(n),id:o.toValue(e),position:so.Top,..._r(a)},void 0,!0);let d=o.toValue(r)||N.value||ta;const h=g(o.toValue(t));if(!d&&h&&(d=(s?h.isValidSourcePos:h.isValidTargetPos)||ta),h&&!1===(void 0===h.connectable?p.value:h.connectable))return;const m=Oo(a.target),y=Ar(a,{handle:{nodeId:o.toValue(t),id:o.toValue(e),type:o.toValue(n),position:so.Top,..._r(a)},connectionMode:c.value,fromNodeId:v.value.nodeId,fromHandleId:v.value.id??null,fromType:v.value.type,isValidConnection:d,doc:m,lib:"vue",flowId:u,nodeLookup:C.value},E.value,k.value,g),b=(null==(i=y.connection)?void 0:i.source)===(null==(l=y.connection)?void 0:l.target);y.isValid&&y.connection&&!b&&S.connect(y.connection),S.clickConnectEnd(a),x(a,!0)}}}function oa(){return o.inject(Xr,"")}function ra(e){const t=e??oa()??"",n=o.inject(Wr,o.ref(null)),{findNode:r,edges:a,emits:i}=Ka(),l=r(t);return l||i.error(new xr(wr.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:l,parentNode:o.computed(()=>r(l.parentNode)),connectedEdges:o.computed(()=>Zo([l],a.value))}}function aa(e,t){const n={doubleClick:sr(),click:sr(),mouseEnter:sr(),mouseMove:sr(),mouseLeave:sr(),contextMenu:sr(),dragStart:sr(),drag:sr(),dragStop:sr()};return n.doubleClick.on(n=>{var o,r;t.nodeDoubleClick(n),null==(r=null==(o=e.events)?void 0:o.doubleClick)||r.call(o,n)}),n.click.on(n=>{var o,r;t.nodeClick(n),null==(r=null==(o=e.events)?void 0:o.click)||r.call(o,n)}),n.mouseEnter.on(n=>{var o,r;t.nodeMouseEnter(n),null==(r=null==(o=e.events)?void 0:o.mouseEnter)||r.call(o,n)}),n.mouseMove.on(n=>{var o,r;t.nodeMouseMove(n),null==(r=null==(o=e.events)?void 0:o.mouseMove)||r.call(o,n)}),n.mouseLeave.on(n=>{var o,r;t.nodeMouseLeave(n),null==(r=null==(o=e.events)?void 0:o.mouseLeave)||r.call(o,n)}),n.contextMenu.on(n=>{var o,r;t.nodeContextMenu(n),null==(r=null==(o=e.events)?void 0:o.contextMenu)||r.call(o,n)}),n.dragStart.on(n=>{var o,r;t.nodeDragStart(n),null==(r=null==(o=e.events)?void 0:o.dragStart)||r.call(o,n)}),n.drag.on(n=>{var o,r;t.nodeDrag(n),null==(r=null==(o=e.events)?void 0:o.drag)||r.call(o,n)}),n.dragStop.on(n=>{var o,r;t.nodeDragStop(n),null==(r=null==(o=e.events)?void 0:o.dragStop)||r.call(o,n)}),Object.entries(n).reduce((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e),{emit:{},on:{}})}function ia(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:a,nodesDraggable:i,emits:l}=Ka();return(u,s=!1)=>{const c=a.value?r.value[0]:5,d=a.value?r.value[1]:5,f=s?4:1,v=u.x*c*f,p=u.y*d*f,h=[];for(const n of e.value)if(n.draggable||i&&void 0===n.draggable){const e={x:n.computedPosition.x+v,y:n.computedPosition.y+p},{computedPosition:r}=pr(n,e,l.error,t.value,n.parentNode?o(n.parentNode):void 0);h.push({id:n.id,position:r,from:n.position,distance:{x:u.x,y:u.y},dimensions:n.dimensions})}n(h,!0,!1)}}const la=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function ua(){return Pr(),Promise.resolve(!1)}const sa={zoomIn:ua,zoomOut:ua,zoomTo:ua,fitView:ua,setCenter:ua,fitBounds:ua,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:ua,setTransform:ua,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function ca(e){function t(t,n){return new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate("linear"===(null==n?void 0:n.interpolate)?Gt:en).scaleBy(da(e.d3Selection,null==n?void 0:n.duration,null==n?void 0:n.ease,()=>{o(!0)}),t):o(!1)})}function n(t,n,o,r){return new Promise(a=>{var i;const{x:l,y:u}=Mo({x:-t,y:-n},e.translateExtent),s=eo.translate(-l,-u).scale(o);e.d3Selection&&e.d3Zoom?null==(i=e.d3Zoom)||i.interpolate("linear"===(null==r?void 0:r.interpolate)?Gt:en).transform(da(e.d3Selection,null==r?void 0:r.duration,null==r?void 0:r.ease,()=>{a(!0)}),s):a(!1)})}return o.computed(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:e=>t(1.2,e),zoomOut:e=>t(1/1.2,e),zoomTo:(t,n)=>new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate("linear"===(null==n?void 0:n.interpolate)?Gt:en).scaleTo(da(e.d3Selection,null==n?void 0:n.duration,null==n?void 0:n.ease,()=>{o(!0)}),t):o(!1)}),setViewport:(e,t)=>n(e.x,e.y,e.zoom,t),setTransform:(e,t)=>n(e.x,e.y,e.zoom,t),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(t={padding:.1,includeHiddenNodes:!1,duration:0})=>{var o,r;const a=[];for(const n of e.nodes){n.dimensions.width&&n.dimensions.height&&((null==t?void 0:t.includeHiddenNodes)||!n.hidden)&&(!(null==(o=t.nodes)?void 0:o.length)||(null==(r=t.nodes)?void 0:r.length)&&t.nodes.includes(n.id))&&a.push(n)}if(!a.length)return Promise.resolve(!1);const i=Wo(a),{x:l,y:u,zoom:s}=Ko(i,e.dimensions.width,e.dimensions.height,t.minZoom??e.minZoom,t.maxZoom??e.maxZoom,t.padding??.1,t.offset);return n(l,u,s,t)},setCenter:(t,o,r)=>{const a=void 0!==(null==r?void 0:r.zoom)?r.zoom:e.maxZoom;return n(e.dimensions.width/2-t*a,e.dimensions.height/2-o*a,a,r)},fitBounds:(t,o={padding:.1})=>{const{x:r,y:a,zoom:i}=Ko(t,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding);return n(r,a,i,o)},project:t=>Yo(t,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:t=>{if(e.vueFlowRef){const{x:n,y:o}=e.vueFlowRef.getBoundingClientRect();return Yo({x:t.x-n,y:t.y-o},e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:t=>{if(e.vueFlowRef){const{x:n,y:o}=e.vueFlowRef.getBoundingClientRect();return jo({x:t.x+n,y:t.y+o},e.viewport)}return{x:0,y:0}}}:sa)}function da(e,t=0,n=la,o=()=>{}){const r="number"==typeof t&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e}function fa(e,t,n){const r=o.effectScope(!0);return r.run(()=>{r.run(()=>{let t,r,a=!(!n.nodes.value.length&&!n.edges.value.length);t=f([e.modelValue,()=>{var t,n;return null==(n=null==(t=e.modelValue)?void 0:t.value)?void 0:n.length}],([e])=>{e&&Array.isArray(e)&&(null==r||r.pause(),n.setElements(e),r||a||!e.length?null==r||r.resume():a=!0)}),r=f([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([n,r])=>{var a;(null==(a=e.modelValue)?void 0:a.value)&&Array.isArray(e.modelValue.value)&&(null==t||t.pause(),e.modelValue.value=[...n,...r],o.nextTick(()=>{null==t||t.resume()}))},{immediate:a}),o.onScopeDispose(()=>{null==t||t.stop(),null==r||r.stop()})}),r.run(()=>{let t,r,a=!!n.nodes.value.length;t=f([e.nodes,()=>{var t,n;return null==(n=null==(t=e.nodes)?void 0:t.value)?void 0:n.length}],([e])=>{e&&Array.isArray(e)&&(null==r||r.pause(),n.setNodes(e),r||a||!e.length?null==r||r.resume():a=!0)}),r=f([n.nodes,()=>n.nodes.value.length],([n])=>{var r;(null==(r=e.nodes)?void 0:r.value)&&Array.isArray(e.nodes.value)&&(null==t||t.pause(),e.nodes.value=[...n],o.nextTick(()=>{null==t||t.resume()}))},{immediate:a}),o.onScopeDispose(()=>{null==t||t.stop(),null==r||r.stop()})}),r.run(()=>{let t,r,a=!!n.edges.value.length;t=f([e.edges,()=>{var t,n;return null==(n=null==(t=e.edges)?void 0:t.value)?void 0:n.length}],([e])=>{e&&Array.isArray(e)&&(null==r||r.pause(),n.setEdges(e),r||a||!e.length?null==r||r.resume():a=!0)}),r=f([n.edges,()=>n.edges.value.length],([n])=>{var r;(null==(r=e.edges)?void 0:r.value)&&Array.isArray(e.edges.value)&&(null==t||t.pause(),e.edges.value=[...n],o.nextTick(()=>{null==t||t.resume()}))},{immediate:a}),o.onScopeDispose(()=>{null==t||t.stop(),null==r||r.stop()})}),r.run(()=>{o.watch(()=>t.minZoom,()=>{t.minZoom&&Rr(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})}),r.run(()=>{o.watch(()=>t.maxZoom,()=>{t.maxZoom&&Rr(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})}),r.run(()=>{o.watch(()=>t.translateExtent,()=>{t.translateExtent&&Rr(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})}),r.run(()=>{o.watch(()=>t.nodeExtent,()=>{t.nodeExtent&&Rr(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})}),r.run(()=>{o.watch(()=>t.applyDefault,()=>{Rr(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})}),r.run(()=>{const e=async e=>{let o=e;"function"==typeof t.autoConnect&&(o=await t.autoConnect(e)),!1!==o&&n.addEdges([o])};o.watch(()=>t.autoConnect,()=>{Rr(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),o.watch(n.autoConnect,(t,o,r)=>{t?n.onConnect(e):n.hooks.value.connect.off(e),r(()=>{n.hooks.value.connect.off(e)})},{immediate:!0})}),(()=>{const e=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const a of Object.keys(t)){const i=a;if(!e.includes(i)){const e=o.toRef(()=>t[i]),a=n[i];o.isRef(a)&&r.run(()=>{o.watch(e,e=>{Rr(e)&&(a.value=e)},{immediate:!0})})}}})()}),()=>r.stop()}function va(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:co.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:ho.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:fo.Bezier,style:{}},connectionMode:vo.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Er()?"Meta":"Control",zoomActivationKeyCode:Er()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:{edgesChange:sr(),nodesChange:sr(),nodeDoubleClick:sr(),nodeClick:sr(),nodeMouseEnter:sr(),nodeMouseMove:sr(),nodeMouseLeave:sr(),nodeContextMenu:sr(),nodeDragStart:sr(),nodeDrag:sr(),nodeDragStop:sr(),nodesInitialized:sr(),miniMapNodeClick:sr(),miniMapNodeDoubleClick:sr(),miniMapNodeMouseEnter:sr(),miniMapNodeMouseMove:sr(),miniMapNodeMouseLeave:sr(),connect:sr(),connectStart:sr(),connectEnd:sr(),clickConnectStart:sr(),clickConnectEnd:sr(),paneReady:sr(),init:sr(),move:sr(),moveStart:sr(),moveEnd:sr(),selectionDragStart:sr(),selectionDrag:sr(),selectionDragStop:sr(),selectionContextMenu:sr(),selectionStart:sr(),selectionEnd:sr(),viewportChangeStart:sr(),viewportChange:sr(),viewportChangeEnd:sr(),paneScroll:sr(),paneClick:sr(),paneContextMenu:sr(),paneMouseEnter:sr(),paneMouseMove:sr(),paneMouseLeave:sr(),edgeContextMenu:sr(),edgeMouseEnter:sr(),edgeMouseMove:sr(),edgeMouseLeave:sr(),edgeDoubleClick:sr(),edgeClick:sr(),edgeUpdateStart:sr(),edgeUpdate:sr(),edgeUpdateEnd:sr(),updateNodeInternals:sr(),error:sr(e=>Pr(e.message))},applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const pa=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function ha(e,t,n){const o=ca(e),r=t=>{const n=t??[];e.hooks.updateNodeInternals.trigger(n)},a=t=>Zo(t,e.edges),i=e=>{if(e)return t.value.get(e)},l=e=>{if(e)return n.value.get(e)},u=(o,r)=>{const a=new Set,i=new Set;for(const e of o)Po(e)?a.add(e.id):Io(e)&&i.add(e.id);const l=ur(t.value,a,!0),u=ur(n.value,i);if(e.multiSelectionActive){for(const e of a)l.push(rr(e,r));for(const e of i)u.push(rr(e,r))}l.length&&e.hooks.nodesChange.trigger(l),u.length&&e.hooks.edgesChange.trigger(u)},s=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([t,e.maxZoom]),e.minZoom=t},c=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([e.minZoom,t]),e.maxZoom=t},d=t=>{var n;null==(n=e.d3Zoom)||n.translateExtent(t),e.translateExtent=t},f=t=>{const n=t instanceof Function?t(e.nodes):t;(e.initialized||n.length)&&(e.nodes=$r(n,i,e.hooks.error.trigger))},v=t=>{const o=t instanceof Function?t(e.edges):t;if(!e.initialized&&!o.length)return;const r=Gr(o,e.isValidConnection,i,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Lr(e.connectionLookup,n.value,r),e.edges=r},p=t=>{const n=t instanceof Function?t([...e.nodes,...e.edges]):t;(e.initialized||n.length)&&(f(n.filter(Po)),v(n.filter(Io)))},m=e=>{const t=Do((n=e).width)&&Do(n.height)&&Do(n.x)&&Do(n.y);var n;const o=t?null:Vo(e)?e:i(e.id);if(!t&&!o)return[null,null,t];return[t?e:No(o),o,t]},g=t=>{const n=t instanceof Function?t(e):t,o=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Rr(n.defaultEdgeOptions)&&(e.defaultEdgeOptions=n.defaultEdgeOptions);const r=n.modelValue||n.nodes||n.edges?[]:void 0;r&&(n.modelValue&&r.push(...n.modelValue),n.nodes&&r.push(...n.nodes),n.edges&&r.push(...n.edges),p(r));for(const t of Object.keys(n)){const r=t,a=n[r];![...pa,...o].includes(r)&&Rr(a)&&(e[r]=a)}h(()=>e.d3Zoom).not.toBeNull().then(()=>{Rr(n.maxZoom)&&c(n.maxZoom),Rr(n.minZoom)&&s(n.minZoom),Rr(n.translateExtent)&&d(n.translateExtent)}),e.initialized||(e.initialized=!0)};return{updateNodePositions:(t,n,o)=>{var r,a;const l=[];for(const e of t){const t={id:e.id,type:"position",dragging:o,from:e.from};if(n&&(t.position=e.position,e.parentNode)){const n=i(e.parentNode);t.position={x:t.position.x-((null==(r=null==n?void 0:n.computedPosition)?void 0:r.x)??0),y:t.position.y-((null==(a=null==n?void 0:n.computedPosition)?void 0:a.y)??0)}}l.push(t)}(null==l?void 0:l.length)&&e.hooks.nodesChange.trigger(l)},updateNodeDimensions:t=>{if(!e.vueFlowRef)return;const n=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!n)return;const r=window.getComputedStyle(n),{m22:a}=new window.DOMMatrixReadOnly(r.transform),l=[];for(const e of t){const t=e,n=i(t.id);if(n){const e=To(t.nodeElement);if(!(!e.width||!e.height||n.dimensions.width===e.width&&n.dimensions.height===e.height&&!t.forceUpdate)){const o=t.nodeElement.getBoundingClientRect();n.dimensions=e,n.handleBounds.source=Dr("source",t.nodeElement,o,a,n.id),n.handleBounds.target=Dr("target",t.nodeElement,o,a,n.id),l.push({id:n.id,type:"dimensions",dimensions:e})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),l.length&&e.hooks.nodesChange.trigger(l)},setElements:p,setNodes:f,setEdges:v,addNodes:t=>{let n=t instanceof Function?t(e.nodes):t;n=Array.isArray(n)?n:[n];const o=$r(n,i,e.hooks.error.trigger),r=[];for(const e of o)r.push(ar(e));r.length&&e.hooks.nodesChange.trigger(r)},addEdges:t=>{let n=t instanceof Function?t(e.edges):t;n=Array.isArray(n)?n:[n];const o=Gr(n,e.isValidConnection,i,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),r=[];for(const e of o)r.push(ar(e));r.length&&e.hooks.edgesChange.trigger(r)},removeNodes:(t,n=!0,o=!1)=>{const r=t instanceof Function?t(e.nodes):t,l=Array.isArray(r)?r:[r],u=[],s=[];function c(e){const t=a(e);for(const e of t)Rr(e.deletable)&&!e.deletable||s.push(lr(e.id,e.source,e.target,e.sourceHandle,e.targetHandle))}function d(t){const o=[];for(const n of e.nodes)n.parentNode===t&&o.push(n);if(o.length){for(const e of o)u.push(ir(e.id));n&&c(o);for(const e of o)d(e.id)}}for(const e of l){const t="string"==typeof e?i(e):e;t&&(Rr(t.deletable)&&!t.deletable||(u.push(ir(t.id)),n&&c([t]),o&&d(t.id)))}s.length&&e.hooks.edgesChange.trigger(s),u.length&&e.hooks.nodesChange.trigger(u)},removeEdges:t=>{const n=t instanceof Function?t(e.edges):t,o=Array.isArray(n)?n:[n],r=[];for(const e of o){const t="string"==typeof e?l(e):e;t&&(Rr(t.deletable)&&!t.deletable||r.push(lr("string"==typeof e?e:e.id,t.source,t.target,t.sourceHandle,t.targetHandle)))}e.hooks.edgesChange.trigger(r)},findNode:i,findEdge:l,updateEdge:(t,o,r=!0)=>{const a=l(t.id);if(!a)return!1;const u=e.edges.indexOf(a),s=function(e,t,n,o,r){if(!t.source||!t.target)return r(new xr(wr.EDGE_INVALID,e.id)),!1;if(!n)return r(new xr(wr.EDGE_NOT_FOUND,e.id)),!1;const{id:a,...i}=e;return{...i,id:o?Lo(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}(t,o,a,r,e.hooks.error.trigger);if(s){const[t]=Gr([s],e.isValidConnection,i,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((e,n)=>n===u?t:e),Lr(e.connectionLookup,n.value,[t]),t}return!1},updateEdgeData:(e,t,n={replace:!1})=>{const o=l(e);if(!o)return;const r="function"==typeof t?t(o):t;o.data=n.replace?r:{...o.data,...r}},updateNode:(t,n,o={replace:!1})=>{const r=i(t);if(!r)return;const a="function"==typeof n?n(r):n;o.replace?e.nodes.splice(e.nodes.indexOf(r),1,a):Object.assign(r,a)},updateNodeData:(e,t,n={replace:!1})=>{const o=i(e);if(!o)return;const r="function"==typeof t?t(o):t;o.data=n.replace?r:{...o.data,...r}},applyEdgeChanges:t=>{const o=or(t,e.edges);return Lr(e.connectionLookup,n.value,o),o},applyNodeChanges:t=>or(t,e.nodes),addSelectedElements:e=>{u(e,!0)},addSelectedNodes:o=>{if(e.multiSelectionActive){const t=o.map(e=>rr(e.id,!0));return void e.hooks.nodesChange.trigger(t)}e.hooks.nodesChange.trigger(ur(t.value,new Set(o.map(e=>e.id)),!0)),e.hooks.edgesChange.trigger(ur(n.value))},addSelectedEdges:o=>{if(e.multiSelectionActive){const t=o.map(e=>rr(e.id,!0));return void e.hooks.edgesChange.trigger(t)}e.hooks.edgesChange.trigger(ur(n.value,new Set(o.map(e=>e.id)))),e.hooks.nodesChange.trigger(ur(t.value,new Set,!0))},setMinZoom:s,setMaxZoom:c,setTranslateExtent:d,setNodeExtent:t=>{e.nodeExtent=t,r()},setPaneClickDistance:t=>{var n;null==(n=e.d3Zoom)||n.clickDistance(t)},removeSelectedElements:t=>{if(!t||!t.length)return u([],!1);const n=t.reduce((e,t)=>{const n=rr(t.id,!1);return Po(t)?e.nodes.push(n):e.edges.push(n),e},{nodes:[],edges:[]});n.nodes.length&&e.hooks.nodesChange.trigger(n.nodes),n.edges.length&&e.hooks.edgesChange.trigger(n.edges)},removeSelectedNodes:t=>{const n=(t||e.nodes).map(e=>(e.selected=!1,rr(e.id,!1)));e.hooks.nodesChange.trigger(n)},removeSelectedEdges:t=>{const n=(t||e.edges).map(e=>(e.selected=!1,rr(e.id,!1)));e.hooks.edgesChange.trigger(n)},startConnection:(t,n,o=!1)=>{o?e.connectionClickStartHandle=t:e.connectionStartHandle=t,e.connectionEndHandle=null,e.connectionStatus=null,n&&(e.connectionPosition=n)},updateConnection:(t,n=null,o=null)=>{e.connectionStartHandle&&(e.connectionPosition=t,e.connectionEndHandle=n,e.connectionStatus=o)},endConnection:(t,n)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,n?e.connectionClickStartHandle=null:e.connectionStartHandle=null},setInteractive:t=>{e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t},setState:g,getIntersectingNodes:(t,n=!0,o=e.nodes)=>{const[r,a,i]=m(t);if(!r)return[];const l=[];for(const t of o||e.nodes){if(!(i||t.id!==a.id&&t.computedPosition))continue;const e=Co(No(t),r);(n&&e>0||e>=Number(r.width)*Number(r.height))&&l.push(t)}return l},getIncomers:t=>Fo(t,e.nodes,e.edges),getOutgoers:t=>$o(t,e.nodes,e.edges),getConnectedEdges:a,getHandleConnections:({id:t,type:n,nodeId:o})=>{var r;return Array.from((null==(r=e.connectionLookup.get(`${o}-${n}-${t??null}`))?void 0:r.values())??[])},isNodeIntersecting:(e,t,n=!0)=>{const[o]=m(e);if(!o)return!1;const r=Co(o,t);return n&&r>0||r>=Number(o.width)*Number(o.height)},panBy:t=>{const{viewport:n,dimensions:o,d3Zoom:r,d3Selection:a,translateExtent:i}=e;if(!r||!a||!t.x&&!t.y)return!1;const l=eo.translate(n.x+t.x,n.y+t.y).scale(n.zoom),u=[[0,0],[o.width,o.height]],s=r.constrain()(l,u,i),c=e.viewport.x!==s.x||e.viewport.y!==s.y||e.viewport.zoom!==s.k;return r.transform(a,s),c},fitView:e=>o.value.fitView(e),zoomIn:e=>o.value.zoomIn(e),zoomOut:e=>o.value.zoomOut(e),zoomTo:(e,t)=>o.value.zoomTo(e,t),setViewport:(e,t)=>o.value.setViewport(e,t),setTransform:(e,t)=>o.value.setTransform(e,t),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(e,t,n)=>o.value.setCenter(e,t,n),fitBounds:(e,t)=>o.value.fitBounds(e,t),project:e=>o.value.project(e),screenToFlowCoordinate:e=>o.value.screenToFlowCoordinate(e),flowToScreenCoordinate:e=>o.value.flowToScreenCoordinate(e),toObject:()=>{const t=[],n=[];for(const n of e.nodes){const{computedPosition:e,handleBounds:o,selected:r,dimensions:a,isParent:i,resizing:l,dragging:u,events:s,...c}=n;t.push(c)}for(const t of e.edges){const{selected:e,sourceNode:o,targetNode:r,events:a,...i}=t;n.push(i)}return JSON.parse(JSON.stringify({nodes:t,edges:n,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:t=>new Promise(n=>{const{nodes:r,edges:a,position:i,zoom:l,viewport:u}=t;if(r&&f(r),a&&v(a),(null==u?void 0:u.x)&&(null==u?void 0:u.y)||i){const t=(null==u?void 0:u.x)||i[0],r=(null==u?void 0:u.y)||i[1],a=(null==u?void 0:u.zoom)||l||e.viewport.zoom;return h(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:t,y:r,zoom:a}).then(()=>{n(!0)})})}n(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{const t=va();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const n=eo.translate(t.defaultViewport.x??0,t.defaultViewport.y??0).scale(Ao(t.defaultViewport.zoom??1,t.minZoom,t.maxZoom)),o=e.viewportRef.getBoundingClientRect(),r=[[0,0],[o.width,o.height]],a=e.d3Zoom.constrain()(n,r,t.translateExtent);e.d3Zoom.transform(e.d3Selection,a)}g(t)},$destroy:()=>{}}}const ma=["data-id","data-handleid","data-nodeid","data-handlepos"],ga=o.defineComponent({name:"Handle",compatConfig:{MODE:3},props:{id:{default:null},type:{},position:{default:()=>so.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=o.createPropsRestProxy(e,["position","connectable","connectableStart","connectableEnd","id"]),r=o.toRef(()=>n.type??"source"),a=o.toRef(()=>n.isValidConnection??null),{id:i,connectionStartHandle:l,connectionClickStartHandle:u,connectionEndHandle:s,vueFlowRef:c,nodesConnectable:d,noDragClassName:f,noPanClassName:v}=Ka(),{id:p,node:h,nodeEl:m,connectedEdges:g}=ra(),y=o.ref(),w=o.toRef(()=>void 0===e.connectableStart||e.connectableStart),b=o.toRef(()=>void 0===e.connectableEnd||e.connectableEnd),x=o.toRef(()=>{var t,n,o,a,i,u;return(null==(t=l.value)?void 0:t.nodeId)===p&&(null==(n=l.value)?void 0:n.id)===e.id&&(null==(o=l.value)?void 0:o.type)===r.value||(null==(a=s.value)?void 0:a.nodeId)===p&&(null==(i=s.value)?void 0:i.id)===e.id&&(null==(u=s.value)?void 0:u.type)===r.value}),S=o.toRef(()=>{var t,n,o;return(null==(t=u.value)?void 0:t.nodeId)===p&&(null==(n=u.value)?void 0:n.id)===e.id&&(null==(o=u.value)?void 0:o.type)===r.value}),{handlePointerDown:_,handleClick:E}=na({nodeId:p,handleId:e.id,isValidConnection:a,type:r}),k=o.computed(()=>"string"==typeof e.connectable&&"single"===e.connectable?!g.value.some(t=>{const n=t[`${r.value}Handle`];return t[r.value]===p&&(!n||n===e.id)}):"number"==typeof e.connectable?g.value.filter(t=>{const n=t[`${r.value}Handle`];return t[r.value]===p&&(!n||n===e.id)}).length<e.connectable:"function"==typeof e.connectable?e.connectable(h,g.value):Rr(e.connectable)?e.connectable:d.value);function N(e){const t=Sr(e);k.value&&w.value&&(t&&0===e.button||!t)&&_(e)}function C(e){p&&(u.value||w.value)&&k.value&&E(e)}return o.onMounted(()=>{var t;if(!h.dimensions.width||!h.dimensions.height)return;const n=null==(t=h.handleBounds[r.value])?void 0:t.find(t=>t.id===e.id);if(!c.value||n)return;const o=c.value.querySelector(".vue-flow__transformationpane");if(!(m.value&&y.value&&o&&e.id))return;const a=m.value.getBoundingClientRect(),i=y.value.getBoundingClientRect(),l=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(l.transform),s={id:e.id,position:e.position,x:(i.left-a.left)/u,y:(i.top-a.top)/u,type:r.value,nodeId:p,...To(y.value)};h.handleBounds[r.value]=[...h.handleBounds[r.value]??[],s]}),t({handleClick:E,handlePointerDown:_,onClick:C,onPointerDown:N}),(t,n)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"handle",ref:y,"data-id":`${o.unref(i)}-${o.unref(p)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":o.unref(p),"data-handlepos":t.position,class:o.normalizeClass(["vue-flow__handle",[`vue-flow__handle-${t.position}`,`vue-flow__handle-${e.id}`,o.unref(f),o.unref(v),r.value,{connectable:k.value,connecting:S.value,connectablestart:w.value,connectableend:b.value,connectionindicator:k.value&&(w.value&&!x.value||b.value&&x.value)}]]),onMousedown:N,onTouchstartPassive:N,onClick:C},[o.renderSlot(t.$slots,"default",{id:t.id})],42,ma))}}),ya=function({sourcePosition:e=so.Bottom,targetPosition:t=so.Top,label:n,connectable:r=!0,isValidTargetPos:a,isValidSourcePos:i,data:l}){const u=l.label??n;return[o.h(ga,{type:"target",position:t,connectable:r,isValidConnection:a}),"string"!=typeof u&&u?o.h(u):o.h(o.Fragment,[u]),o.h(ga,{type:"source",position:e,connectable:r,isValidConnection:i})]};ya.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"],ya.inheritAttrs=!1,ya.compatConfig={MODE:3};const wa=ya,ba=function({targetPosition:e=so.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:a}){const i=a.label??t;return[o.h(ga,{type:"target",position:e,connectable:n,isValidConnection:r}),"string"!=typeof i&&i?o.h(i):o.h(o.Fragment,[i])]};ba.props=["targetPosition","label","isValidTargetPos","connectable","data"],ba.inheritAttrs=!1,ba.compatConfig={MODE:3};const xa=ba,Sa=function({sourcePosition:e=so.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:a}){const i=a.label??t;return["string"!=typeof i&&i?o.h(i):o.h(o.Fragment,[i]),o.h(ga,{type:"source",position:e,connectable:n,isValidConnection:r})]};Sa.props=["sourcePosition","label","isValidSourcePos","connectable","data"],Sa.inheritAttrs=!1,Sa.compatConfig={MODE:3};const _a=Sa,Ea=["transform"],ka=["width","height","x","y","rx","ry"],Na=["y"],Ca=o.defineComponent({name:"EdgeText",compatConfig:{MODE:3},props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=o.ref({x:0,y:0,width:0,height:0}),n=o.ref(null),r=o.computed(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);function a(){if(!n.value)return;const e=n.value.getBBox();e.width===t.value.width&&e.height===t.value.height||(t.value=e)}return o.onMounted(a),o.watch([()=>e.x,()=>e.y,n,()=>e.label],a),(e,a)=>(o.openBlock(),o.createElementBlock("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(o.openBlock(),o.createElementBlock("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:o.normalizeStyle(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,ka)):o.createCommentVNode("",!0),o.createElementVNode("text",o.mergeProps(e.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:e.labelStyle}),[o.renderSlot(e.$slots,"default",{},()=>["string"!=typeof e.label?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.label),{key:0})):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createTextVNode(o.toDisplayString(e.label),1)],64))])],16,Na)],8,Ea))}}),Ta=["id","d","marker-end","marker-start"],Aa=["d","stroke-width"],Ma=o.defineComponent({name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3},props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=o.ref(null),r=o.ref(null),a=o.ref(null),i=o.useAttrs();return t({pathEl:n,interactionEl:r,labelEl:a}),(e,t)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("path",o.mergeProps(o.unref(i),{id:e.id,ref_key:"pathEl",ref:n,d:e.path,class:"vue-flow__edge-path","marker-end":e.markerEnd,"marker-start":e.markerStart}),null,16,Ta),e.interactionWidth?(o.openBlock(),o.createElementBlock("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:e.path,"stroke-width":e.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Aa)):o.createCommentVNode("",!0),e.label&&e.labelX&&e.labelY?(o.openBlock(),o.createBlock(Ca,{key:1,ref_key:"labelEl",ref:a,x:e.labelX,y:e.labelY,label:e.label,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"label-style":e.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):o.createCommentVNode("",!0)],64))}});function Oa({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,a=n<e?n+r:n-r,i=Math.abs(o-t)/2;return[a,o<t?o+i:o-i,r,i]}function Ia({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:a,targetControlX:i,targetControlY:l}){const u=.125*e+.375*r+.375*i+.125*n,s=.125*t+.375*a+.375*l+.125*o;return[u,s,Math.abs(u-e),Math.abs(s-t)]}function Pa(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Va({pos:e,x1:t,y1:n,x2:o,y2:r,c:a}){let i,l;switch(e){case so.Left:i=t-Pa(t-o,a),l=n;break;case so.Right:i=t+Pa(o-t,a),l=n;break;case so.Top:i=t,l=n-Pa(n-r,a);break;case so.Bottom:i=t,l=n+Pa(r-n,a)}return[i,l]}function Da(e){const{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:a,targetPosition:i=so.Top,curvature:l=.25}=e,[u,s]=Va({pos:o,x1:t,y1:n,x2:r,y2:a,c:l}),[c,d]=Va({pos:i,x1:r,y1:a,x2:t,y2:n,c:l}),[f,v,p,h]=Ia({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:u,sourceControlY:s,targetControlX:c,targetControlY:d});return[`M${t},${n} C${u},${s} ${c},${d} ${r},${a}`,f,v,p,h]}function Ba({pos:e,x1:t,y1:n,x2:o,y2:r}){let a,i;switch(e){case so.Left:case so.Right:a=.5*(t+o),i=n;break;case so.Top:case so.Bottom:a=t,i=.5*(n+r)}return[a,i]}function Ra(e){const{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:a,targetPosition:i=so.Top}=e,[l,u]=Ba({pos:o,x1:t,y1:n,x2:r,y2:a}),[s,c]=Ba({pos:i,x1:r,y1:a,x2:t,y2:n}),[d,f,v,p]=Ia({sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:u,targetControlX:s,targetControlY:c});return[`M${t},${n} C${l},${u} ${s},${c} ${r},${a}`,d,f,v,p]}const za={[so.Left]:{x:-1,y:0},[so.Right]:{x:1,y:0},[so.Top]:{x:0,y:-1},[so.Bottom]:{x:0,y:1}};function $a(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Fa({source:e,sourcePosition:t=so.Bottom,target:n,targetPosition:o=so.Top,center:r,offset:a}){const i=za[t],l=za[o],u={x:e.x+i.x*a,y:e.y+i.y*a},s={x:n.x+l.x*a,y:n.y+l.y*a},c=function({source:e,sourcePosition:t=so.Bottom,target:n}){return t===so.Left||t===so.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}({source:u,sourcePosition:t,target:s}),d=0!==c.x?"x":"y",f=c[d];let v,p,h;const m={x:0,y:0},g={x:0,y:0},[y,w,b,x]=Oa({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*l[d]===-1){p=r.x??y,h=r.y??w;const e=[{x:p,y:u.y},{x:p,y:s.y}],t=[{x:u.x,y:h},{x:s.x,y:h}];v=i[d]===f?"x"===d?e:t:"x"===d?t:e}else{const r=[{x:u.x,y:s.y}],c=[{x:s.x,y:u.y}];if(v="x"===d?i.x===f?c:r:i.y===f?r:c,t===o){const t=Math.abs(e[d]-n[d]);if(t<=a){const o=Math.min(a-1,a-t);i[d]===f?m[d]=(u[d]>e[d]?-1:1)*o:g[d]=(s[d]>n[d]?-1:1)*o}}if(t!==o){const e="x"===d?"y":"x",t=i[d]===l[e],n=u[e]>s[e],o=u[e]<s[e];(1===i[d]&&(!t&&n||t&&o)||1!==i[d]&&(!t&&o||t&&n))&&(v="x"===d?r:c)}const y={x:u.x+m.x,y:u.y+m.y},w={x:s.x+g.x,y:s.y+g.y};Math.max(Math.abs(y.x-v[0].x),Math.abs(w.x-v[0].x))>=Math.max(Math.abs(y.y-v[0].y),Math.abs(w.y-v[0].y))?(p=(y.x+w.x)/2,h=v[0].y):(p=v[0].x,h=(y.y+w.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...v,{x:s.x+g.x,y:s.y+g.y},n],p,h,b,x]}function La(e){const{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:a,targetPosition:i=so.Top,borderRadius:l=5,centerX:u,centerY:s,offset:c=20}=e,[d,f,v,p,h]=Fa({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:a},targetPosition:i,center:{x:u,y:s},offset:c});return[d.reduce((e,t,n)=>{let o;return o=n>0&&n<d.length-1?function(e,t,n,o){const r=Math.min($a(e,t)/2,$a(t,n)/2,o),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i)return`L ${a+r*(e.x<n.x?-1:1)},${i}Q ${a},${i} ${a},${i+r*(e.y<n.y?1:-1)}`;const l=e.x<n.x?1:-1;return`L ${a},${i+r*(e.y<n.y?-1:1)}Q ${a},${i} ${a+r*l},${i}`}(d[n-1],t,d[n+1],l):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=o},""),f,v,p,h]}function Ha(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[a,i,l,u]=Oa({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,a,i,l,u]}const ja=o.defineComponent({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{const[n,r,a]=Ha(e);return o.h(Ma,{path:n,labelX:r,labelY:a,...t,...e})}}),Ya=o.defineComponent({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{const[n,r,a]=La({...e,sourcePosition:e.sourcePosition??so.Bottom,targetPosition:e.targetPosition??so.Top});return o.h(Ma,{path:n,labelX:r,labelY:a,...t,...e})}}),Ga=o.defineComponent({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup:(e,{attrs:t})=>()=>o.h(Ya,{...e,...t,borderRadius:0})}),Ua=o.defineComponent({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{const[n,r,a]=Da({...e,sourcePosition:e.sourcePosition??so.Bottom,targetPosition:e.targetPosition??so.Top});return o.h(Ma,{path:n,labelX:r,labelY:a,...t,...e})}}),Xa=o.defineComponent({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{const[n,r,a]=Ra({...e,sourcePosition:e.sourcePosition??so.Bottom,targetPosition:e.targetPosition??so.Top});return o.h(Ma,{path:n,labelX:r,labelY:a,...t,...e})}}),Wa={input:_a,default:wa,output:xa},qa={default:Ua,straight:ja,step:Ga,smoothstep:Ya,simplebezier:Xa};class Za{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var e;const t=null==(e=o.getCurrentInstance())?void 0:e.appContext.app,n=(null==t?void 0:t.config.globalProperties.$vueFlowStorage)??Za.instance;return Za.instance=n??new Za,t&&(t.config.globalProperties.$vueFlowStorage=Za.instance),Za.instance}set(e,t){return this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,t){const n=va(),r=o.reactive(n),a={};for(const[e,t]of Object.entries(r.hooks)){a[`on${e.charAt(0).toUpperCase()+e.slice(1)}`]=t.on}const i={};for(const[e,t]of Object.entries(r.hooks))i[e]=t.trigger;const l=o.computed(()=>{const e=new Map;for(const t of r.nodes)e.set(t.id,t);return e}),u=o.computed(()=>{const e=new Map;for(const t of r.edges)e.set(t.id,t);return e}),s=function(e,t,n){const r=o.computed(()=>e=>t.value.get(e)),a=o.computed(()=>e=>n.value.get(e)),i=o.computed(()=>{const t={...qa,...e.edgeTypes},n=Object.keys(t);for(const o of e.edges)o.type&&!n.includes(o.type)&&(t[o.type]=o.type);return t}),l=o.computed(()=>{const t={...Wa,...e.nodeTypes},n=Object.keys(t);for(const o of e.nodes)o.type&&!n.includes(o.type)&&(t[o.type]=o.type);return t}),u=o.computed(()=>e.onlyRenderVisibleElements?qo(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),s=o.computed(()=>{if(e.onlyRenderVisibleElements){const n=[];for(const o of e.edges){const r=t.value.get(o.source),a=t.value.get(o.target);gr({sourcePos:r.computedPosition||{x:0,y:0},targetPos:a.computedPosition||{x:0,y:0},sourceWidth:r.dimensions.width,sourceHeight:r.dimensions.height,targetWidth:a.dimensions.width,targetHeight:a.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&n.push(o)}return n}return e.edges}),c=o.computed(()=>[...u.value,...s.value]),d=o.computed(()=>{const t=[];for(const n of e.nodes)n.selected&&t.push(n);return t}),f=o.computed(()=>{const t=[];for(const n of e.edges)n.selected&&t.push(n);return t}),v=o.computed(()=>[...d.value,...f.value]),p=o.computed(()=>{const t=[];for(const n of e.nodes)n.dimensions.width&&n.dimensions.height&&void 0!==n.handleBounds&&t.push(n);return t}),h=o.computed(()=>u.value.length>0&&p.value.length===u.value.length);return{getNode:r,getEdge:a,getElements:c,getEdgeTypes:i,getNodeTypes:l,getEdges:s,getNodes:u,getSelectedElements:v,getSelectedNodes:d,getSelectedEdges:f,getNodesInitialized:p,areNodesInitialized:h}}(r,l,u),c=ha(r,l,u);c.setState({...r,...t});const d={...a,...s,...c,...v(r),nodeLookup:l,edgeLookup:u,emits:i,id:e,vueFlowVersion:"1.45.0",$destroy:()=>{this.remove(e)}};return this.set(e,d),d}getId(){return"vue-flow-"+this.currentId++}}function Ka(e){const t=Za.getInstance(),n=o.getCurrentScope(),a="object"==typeof e,i=a?e:{id:e},l=i.id,u=l??(null==n?void 0:n.vueFlowId);let s;if(n){const e=o.inject(Ur,null);null==e||u&&e.id!==u||(s=e)}if(s||u&&(s=t.get(u)),!s||u&&s.id!==u){const e=l??t.getId(),a=t.create(e,i);s=a;(n??o.effectScope(!0)).run(()=>{o.watch(a.applyDefault,(e,t,n)=>{const o=e=>{a.applyNodeChanges(e)},r=e=>{a.applyEdgeChanges(e)};e?(a.onNodesChange(o),a.onEdgesChange(r)):(a.hooks.value.nodesChange.off(o),a.hooks.value.edgesChange.off(r)),n(()=>{a.hooks.value.nodesChange.off(o),a.hooks.value.edgesChange.off(r)})},{immediate:!0}),r(()=>{if(s){const e=t.get(s.id);e?e.$destroy():Pr(s.id)}})})}else a&&s.setState(i);if(n&&(o.provide(Ur,s),n.vueFlowId=s.id),a){const e=o.getCurrentInstance();"VueFlow"!==(null==e?void 0:e.type.name)&&s.emits.error(new xr(wr.USEVUEFLOW_OPTIONS))}return s}const Ja=o.defineComponent({name:"UserSelection",compatConfig:{MODE:3},props:{userSelectionRect:{}},setup:e=>(e,t)=>(o.openBlock(),o.createElementBlock("div",{class:"vue-flow__selection vue-flow__container",style:o.normalizeStyle({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}),Qa=["tabIndex"],ei=o.defineComponent({name:"NodesSelection",compatConfig:{MODE:3},setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:a,disableKeyboardA11y:i,userSelectionActive:l}=Ka(),u=ia(),s=o.ref(null),c=Jr({el:s,onStart(e){t.selectionDragStart(e)},onDrag(e){t.selectionDrag(e)},onStop(e){t.selectionDragStop(e)}});o.onMounted(()=>{var e;i.value||null==(e=s.value)||e.focus({preventScroll:!0})});const d=o.computed(()=>Wo(r.value)),f=o.computed(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function v(e){t.selectionContextMenu({event:e,nodes:r.value})}function p(e){i||ko[e.key]&&(e.preventDefault(),u({x:ko[e.key].x,y:ko[e.key].y},e.shiftKey))}return(e,t)=>!o.unref(l)&&d.value.width&&d.value.height?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(["vue-flow__nodesselection vue-flow__container",o.unref(a)]),style:o.normalizeStyle({transform:`translate(${o.unref(n).x}px,${o.unref(n).y}px) scale(${o.unref(n).zoom})`})},[o.createElementVNode("div",{ref_key:"el",ref:s,class:o.normalizeClass([{dragging:o.unref(c)},"vue-flow__nodesselection-rect"]),style:o.normalizeStyle(f.value),tabIndex:o.unref(i)?void 0:-1,onContextmenu:v,onKeydown:p},null,46,Qa)],6)):o.createCommentVNode("",!0)}});const ti=o.defineComponent({name:"Pane",compatConfig:{MODE:3},props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:a,userSelectionActive:i,removeSelectedElements:l,userSelectionRect:u,elementsSelectable:s,nodesSelectionActive:c,getSelectedEdges:d,getSelectedNodes:f,removeNodes:v,removeEdges:p,selectionMode:h,deleteKeyCode:m,multiSelectionKeyCode:g,multiSelectionActive:y,edgeLookup:w,nodeLookup:b,connectionLookup:x,defaultEdgeOptions:S,connectionStartHandle:_}=Ka(),E=o.ref(null),k=o.ref(new Set),N=o.ref(new Set),C=o.ref(),T=o.toRef(()=>s.value&&(e.isSelecting||i.value)),A=o.toRef(()=>null!==_.value);let M=!1,O=!1;const I=xo(m,{actInsideInputWithModifier:!1}),P=xo(g);function V(e,t){return n=>{n.target===t&&(null==e||e(n))}}function D(e){M||A.value?M=!1:(a.paneClick(e),l(),c.value=!1)}function B(e){e.preventDefault(),e.stopPropagation(),a.paneContextMenu(e)}function R(e){a.paneScroll(e)}return o.watch(I,e=>{e&&(v(f.value),p(d.value),c.value=!1)}),o.watch(P,e=>{y.value=e}),(d,v)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"container",ref:E,class:o.normalizeClass(["vue-flow__pane vue-flow__container",{selection:d.isSelecting}]),onClick:v[0]||(v[0]=e=>T.value?void 0:V(D,E.value)(e)),onContextmenu:v[1]||(v[1]=e=>V(B,E.value)(e)),onWheelPassive:v[2]||(v[2]=e=>V(R,E.value)(e)),onPointerenter:v[3]||(v[3]=e=>T.value?void 0:o.unref(a).paneMouseEnter(e)),onPointerdown:v[4]||(v[4]=n=>T.value?function(n){var o,r,i;if(C.value=null==(o=t.value)?void 0:o.getBoundingClientRect(),!s.value||!e.isSelecting||0!==n.button||n.target!==E.value||!C.value)return;null==(i=null==(r=n.target)?void 0:r.setPointerCapture)||i.call(r,n.pointerId);const{x:c,y:d}=function(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}(n,C.value);O=!0,M=!1,l(),u.value={width:0,height:0,startX:c,startY:d,x:c,y:d},a.selectionStart(n)}(n):o.unref(a).paneMouseMove(n)),onPointermove:v[5]||(v[5]=e=>T.value?function(e){var t;if(!C.value||!u.value)return;M=!0;const{x:o,y:l}=_r(e,C.value),{startX:s=0,startY:d=0}=u.value,f={startX:s,startY:d,x:o<s?o:s,y:l<d?l:d,width:Math.abs(o-s),height:Math.abs(l-d)},v=k.value,p=N.value;k.value=new Set(qo(n.value,f,r.value,h.value===co.Partial,!0).map(e=>e.id)),N.value=new Set;const m=(null==(t=S.value)?void 0:t.selectable)??!0;for(const e of k.value){const t=x.value.get(e);if(t)for(const{edgeId:e}of t.values()){const t=w.value.get(e);t&&(t.selectable??m)&&N.value.add(e)}}if(!Yr(v,k.value)){const e=ur(b.value,k.value,!0);a.nodesChange(e)}if(!Yr(p,N.value)){const e=ur(w.value,N.value);a.edgesChange(e)}u.value=f,i.value=!0,c.value=!1}(e):o.unref(a).paneMouseMove(e)),onPointerup:v[6]||(v[6]=t=>T.value?function(t){var n;0===t.button&&O&&(null==(n=t.target)||n.releasePointerCapture(t.pointerId),!i.value&&u.value&&t.target===E.value&&D(t),i.value=!1,u.value=null,c.value=k.value.size>0,a.selectionEnd(t),e.selectionKeyPressed&&(M=!1),O=!1)}(t):void 0),onPointerleave:v[7]||(v[7]=e=>o.unref(a).paneMouseLeave(e))},[o.renderSlot(d.$slots,"default"),o.unref(i)&&o.unref(u)?(o.openBlock(),o.createBlock(Ja,{key:0,"user-selection-rect":o.unref(u)},null,8,["user-selection-rect"])):o.createCommentVNode("",!0),o.unref(c)&&o.unref(f).length?(o.openBlock(),o.createBlock(ei,{key:1})):o.createCommentVNode("",!0)],34))}}),ni=o.defineComponent({name:"Transform",compatConfig:{MODE:3},setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=Ka(),a=o.computed(()=>!!n.value&&!r.value),i=o.computed(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(e,t)=>(o.openBlock(),o.createElementBlock("div",{class:"vue-flow__transformationpane vue-flow__container",style:o.normalizeStyle({transform:i.value,opacity:a.value?0:void 0})},[o.renderSlot(e.$slots,"default")],4))}}),oi=o.defineComponent({name:"Viewport",compatConfig:{MODE:3},setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:a,zoomActivationKeyCode:i,selectionKeyCode:l,panActivationKeyCode:u,panOnScroll:s,panOnScrollMode:c,panOnScrollSpeed:d,panOnDrag:f,zoomOnDoubleClick:v,zoomOnPinch:p,zoomOnScroll:h,preventScrolling:m,noWheelClassName:g,noPanClassName:y,emits:w,connectionStartHandle:b,userSelectionActive:x,paneDragging:_,d3Zoom:E,d3Selection:k,d3ZoomHandler:N,viewport:C,viewportRef:T,paneClickDistance:A}=Ka();!function(e){const{emits:t,dimensions:n}=Ka();let r;o.onMounted(()=>{const a=e.value,i=()=>{if(!a)return;const e=To(a);0!==e.width&&0!==e.height||t.error(new xr(wr.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:e.width||500,height:e.height||500}};i(),window.addEventListener("resize",i),a&&(r=new ResizeObserver(()=>i()),r.observe(a)),o.onBeforeUnmount(()=>{window.removeEventListener("resize",i),r&&a&&r.unobserve(a)})})}(T);const M=o.shallowRef(!1),O=o.shallowRef(!1);let I=null,P=!1,V=0,D={x:0,y:0,zoom:0};const B=xo(u),R=xo(l),z=xo(i),F=o.toRef(()=>(!R.value||R.value&&!0===l.value)&&(B.value||f.value)),L=o.toRef(()=>B.value||s.value),H=o.toRef(()=>R.value||!0===l.value&&!0!==F.value);function j(e,t){return 2===t&&Array.isArray(e)&&e.includes(2)}function Y(e){const t=e.ctrlKey&&Er()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t}function G(e){return{x:e.x,y:e.y,zoom:e.k}}function U(e,t){return e.target.closest(`.${t}`)}return o.onMounted(()=>{if(!T.value)return void Pr();const e=T.value,i=e.getBoundingClientRect(),u=function(){var e,t,n,o=oo,r=ro,a=uo,i=io,l=lo,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,d=en,f=S("start","zoom","end"),v=0,p=10;function h(e){e.property("__zoom",ao).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",k).filter(l).on("touchstart.zoom",N).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new Qn(t,e.x,e.y)}function g(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new Qn(e.k,o,r)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,o){e.on("start.zoom",function(){b(this,arguments).event(o).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(o).end()}).tween("zoom",function(){var e=this,a=arguments,i=b(e,a).event(o),l=r.apply(e,a),u=null==n?y(l):"function"==typeof n?n.apply(e,a):n,s=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),c=e.__zoom,f="function"==typeof t?t.apply(e,a):t,v=d(c.invert(u).concat(s/c.k),f.invert(u).concat(s/f.k));return function(e){if(1===e)e=f;else{var t=v(e),n=s/t[2];e=new Qn(n,u[0]-t[0]*n,u[1]-t[1]*n)}i.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function _(e,...t){if(o.apply(this,arguments)){var n=b(this,t).event(e),r=this.__zoom,l=Math.max(u[0],Math.min(u[1],r.k*Math.pow(2,i.apply(this,arguments)))),c=Fe(e);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=r.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(r.k===l)return;n.mouse=[c,r.invert(c)],Nn(this),n.start()}no(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",a(g(m(r,l),n.mouse[0],n.mouse[1]),n.extent,s))}}function E(e,...t){if(!n&&o.apply(this,arguments)){var r=e.currentTarget,i=b(this,t,!0).event(e),l=$e(e.view).on("mousemove.zoom",function(e){if(no(e),!i.moved){var t=e.clientX-c,n=e.clientY-d;i.moved=t*t+n*n>v}i.event(e).zoom("mouse",a(g(i.that.__zoom,i.mouse[0]=Fe(e,r),i.mouse[1]),i.extent,s))},!0).on("mouseup.zoom",function(e){l.on("mousemove.zoom mouseup.zoom",null),Ue(e.view,i.moved),no(e),i.event(e).end()},!0),u=Fe(e,r),c=e.clientX,d=e.clientY;Ge(e.view),to(e),i.mouse=[u,this.__zoom.invert(u)],Nn(this),i.start()}}function k(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,i=Fe(e.changedTouches?e.changedTouches[0]:e,this),l=n.invert(i),u=n.k*(e.shiftKey?.5:2),d=a(g(m(n,u),i,l),r.apply(this,t),s);no(e),c>0?$e(this).transition().duration(c).call(w,d,i,e):$e(this).call(h.transform,d,i,e)}}function N(n,...r){if(o.apply(this,arguments)){var a,i,l,u,s=n.touches,c=s.length,d=b(this,r,n.changedTouches.length===c).event(n);for(to(n),i=0;i<c;++i)u=[u=Fe(l=s[i],this),this.__zoom.invert(u),l.identifier],d.touch0?d.touch1||d.touch0[2]===u[2]||(d.touch1=u,d.taps=0):(d.touch0=u,a=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(d.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),Nn(this),d.start())}}function C(e,...t){if(this.__zooming){var n,o,r,i,l=b(this,t).event(e),u=e.changedTouches,c=u.length;for(no(e),n=0;n<c;++n)r=Fe(o=u[n],this),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=r:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=r);if(o=l.that.__zoom,l.touch1){var d=l.touch0[0],f=l.touch0[1],v=l.touch1[0],p=l.touch1[1],h=(h=v[0]-d[0])*h+(h=v[1]-d[1])*h,y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y;o=m(o,Math.sqrt(h/y)),r=[(d[0]+v[0])/2,(d[1]+v[1])/2],i=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!l.touch0)return;r=l.touch0[0],i=l.touch0[1]}l.zoom("touch",a(g(o,r,i),l.extent,s))}}function T(e,...o){if(this.__zooming){var r,a,i=b(this,o).event(e),l=e.changedTouches,u=l.length;for(to(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),r=0;r<u;++r)a=l[r],i.touch0&&i.touch0[2]===a.identifier?delete i.touch0:i.touch1&&i.touch1[2]===a.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps&&(a=Fe(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<p)){var s=$e(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return h.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",ao),e!==r?w(e,t,n,o):r.interrupt().each(function(){b(this,arguments).event(o).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},h.scaleBy=function(e,t,n,o){h.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,o)},h.scaleTo=function(e,t,n,o){h.transform(e,function(){var e=r.apply(this,arguments),o=this.__zoom,i=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,l=o.invert(i),u="function"==typeof t?t.apply(this,arguments):t;return a(g(m(o,u),i,l),e,s)},n,o)},h.translateBy=function(e,t,n,o){h.transform(e,function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)},null,o)},h.translateTo=function(e,t,n,o,i){h.transform(e,function(){var e=r.apply(this,arguments),i=this.__zoom,l=null==o?y(e):"function"==typeof o?o.apply(this,arguments):o;return a(eo.translate(l[0],l[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,s)},o,i)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=$e(this.that).datum();f.call(e,this.that,new Jn(e,{sourceEvent:this.sourceEvent,target:h,type:e,transform:this.that.__zoom,dispatch:f}),t)}},h.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:Kn(+e),h):i},h.filter=function(e){return arguments.length?(o="function"==typeof e?e:Kn(!!e),h):o},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:Kn(!!e),h):l},h.extent=function(e){return arguments.length?(r="function"==typeof e?e:Kn([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),h):r},h.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],h):[u[0],u[1]]},h.translateExtent=function(e){return arguments.length?(s[0][0]=+e[0][0],s[1][0]=+e[1][0],s[0][1]=+e[0][1],s[1][1]=+e[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(e){return arguments.length?(a=e,h):a},h.duration=function(e){return arguments.length?(c=+e,h):c},h.interpolate=function(e){return arguments.length?(d=e,h):d},h.on=function(){var e=f.on.apply(f,arguments);return e===f?h:e},h.clickDistance=function(e){return arguments.length?(v=(e=+e)*e,h):Math.sqrt(v)},h.tapDistance=function(e){return arguments.length?(p=+e,h):p},h}().clickDistance(A.value).scaleExtent([t.value,n.value]).translateExtent(a.value),b=$e(e).call(u),R=b.on("wheel.zoom"),H=eo.translate(r.value.x??0,r.value.y??0).scale(Ao(r.value.zoom??1,t.value,n.value)),X=[[0,0],[i.width,i.height]],W=u.constrain()(H,X,a.value);u.transform(b,W),u.wheelDelta(Y),E.value=u,k.value=b,N.value=R,C.value={x:W.x,y:W.y,zoom:W.k},u.on("start",e=>{var t;if(!e.sourceEvent)return null;V=e.sourceEvent.button,M.value=!0;const n=G(e.transform);"mousedown"===(null==(t=e.sourceEvent)?void 0:t.type)&&(_.value=!0),D=n,w.viewportChangeStart(n),w.moveStart({event:e,flowTransform:n})}),u.on("end",e=>{if(!e.sourceEvent)return null;if(M.value=!1,_.value=!1,j(F.value,V??0)&&!P&&w.paneContextMenu(e.sourceEvent),P=!1,t=D,n=e.transform,t.x!==n.x&&!Number.isNaN(n.x)||t.y!==n.y&&!Number.isNaN(n.y)||t.zoom!==n.k&&!Number.isNaN(n.k)){const t=G(e.transform);D=t,w.viewportChangeEnd(t),w.moveEnd({event:e,flowTransform:t})}var t,n}),u.filter(e=>{var t;const n=z.value||h.value,o=p.value&&e.ctrlKey,r=e.button;if(1===r&&"mousedown"===e.type&&(U(e,"vue-flow__node")||U(e,"vue-flow__edge")))return!0;if(!(F.value||n||L.value||v.value||p.value))return!1;if(x.value)return!1;if(!v.value&&"dblclick"===e.type)return!1;if(U(e,g.value)&&"wheel"===e.type)return!1;if(U(e,y.value)&&("wheel"!==e.type||L.value&&"wheel"===e.type&&!z.value))return!1;if(!p.value&&e.ctrlKey&&"wheel"===e.type)return!1;if(!n&&!L.value&&!o&&"wheel"===e.type)return!1;if(!p&&"touchstart"===e.type&&(null==(t=e.touches)?void 0:t.length)>1)return e.preventDefault(),!1;if(!F.value&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(!0===l.value&&Array.isArray(f.value)&&f.value.includes(0)&&0===r)return!1;if(Array.isArray(f.value)&&!f.value.includes(r)&&("mousedown"===e.type||"touchstart"===e.type))return!1;const a=Array.isArray(f.value)&&f.value.includes(r)||!0===l.value&&Array.isArray(f.value)&&!f.value.includes(0)||!r||r<=1;return(!e.ctrlKey||B.value||"wheel"===e.type)&&a}),o.watch([x,F],()=>{x.value&&!M.value?u.on("zoom",null):x.value||u.on("zoom",e=>{C.value={x:e.transform.x,y:e.transform.y,zoom:e.transform.k};const t=G(e.transform);P=j(F.value,V??0),w.viewportChange(t),w.move({event:e,flowTransform:t})})},{immediate:!0}),o.watch([x,L,c,z,p,m,g],()=>{!L.value||z.value||x.value?void 0!==R&&b.on("wheel.zoom",function(e,t){const n=!m.value&&"wheel"===e.type&&!e.ctrlKey,o=z.value||h.value,r=p.value&&e.ctrlKey;if(!o&&!s.value&&!r&&"wheel"===e.type||n||U(e,g.value))return null;e.preventDefault(),R.call(this,e,t)},{passive:!1}):b.on("wheel.zoom",e=>{if(U(e,g.value))return!1;const t=z.value||h.value,n=p.value&&e.ctrlKey;if(!(!m.value||L.value||t||n))return!1;e.preventDefault(),e.stopImmediatePropagation();const o=b.property("__zoom").k||1,r=Er();if(!B.value&&e.ctrlKey&&p.value&&r){const t=Fe(e),n=o*2**Y(e);return void u.scaleTo(b,n,t,e)}const a=1===e.deltaMode?20:1;let i=c.value===ho.Vertical?0:e.deltaX*a,l=c.value===ho.Horizontal?0:e.deltaY*a;!r&&e.shiftKey&&c.value!==ho.Vertical&&!i&&l&&(i=l,l=0),u.translateBy(b,-i/o*d.value,-l/o*d.value);const s=G(b.property("__zoom"));I&&clearTimeout(I),O.value?(w.move({event:e,flowTransform:s}),w.viewportChange(s),I=setTimeout(()=>{w.moveEnd({event:e,flowTransform:s}),w.viewportChangeEnd(s),O.value=!1},150)):(O.value=!0,w.moveStart({event:e,flowTransform:s}),w.viewportChangeStart(s))},{passive:!1})},{immediate:!0})}),(e,t)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"viewportRef",ref:T,class:"vue-flow__viewport vue-flow__container"},[o.createVNode(ti,{"is-selecting":H.value,"selection-key-pressed":o.unref(R),class:o.normalizeClass({connecting:!!o.unref(b),dragging:o.unref(_),draggable:!0===o.unref(f)||Array.isArray(o.unref(f))&&o.unref(f).includes(0)})},{default:o.withCtx(()=>[o.createVNode(ni,null,{default:o.withCtx(()=>[o.renderSlot(e.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),ri=["id"],ai=["id"],ii=["id"],li=o.defineComponent({name:"A11yDescriptions",compatConfig:{MODE:3},setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=Ka();return(e,a)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",{id:`${o.unref(So)}-${o.unref(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+o.toDisplayString(o.unref(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,ri),o.createElementVNode("div",{id:`${o.unref(_o)}-${o.unref(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,ai),o.unref(n)?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("div",{key:0,id:`${o.unref("vue-flow__aria-live")}-${o.unref(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},o.toDisplayString(o.unref(r)),9,ii))],64))}});function ui(e,t,n){return n===so.Left?e-t:n===so.Right?e+t:e}function si(e,t,n){return n===so.Top?e-t:n===so.Bottom?e+t:e}const ci=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=so.Top,type:a}){return o.h("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${a}`,cx:ui(t,e,r),cy:si(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};ci.props=["radius","centerX","centerY","position","type"],ci.compatConfig={MODE:3};const di=ci,fi=o.defineComponent({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:a,emits:i,nodesSelectionActive:l,noPanClassName:u,getEdgeTypes:s,removeSelectedEdges:c,findEdge:d,findNode:f,isValidConnection:v,multiSelectionActive:p,disableKeyboardA11y:h,elementsSelectable:m,edgesUpdatable:g,edgesFocusable:y,hooks:w}=Ka(),b=o.computed(()=>d(e.id)),{emit:x,on:S}=Qr(b.value,i),_=o.inject(Kr),E=o.getCurrentInstance(),k=o.ref(!1),N=o.ref(!1),C=o.ref(""),T=o.ref(null),A=o.ref("source"),M=o.ref(null),O=o.toRef(()=>void 0===b.value.selectable?m.value:b.value.selectable),I=o.toRef(()=>void 0===b.value.updatable?g.value:b.value.updatable),P=o.toRef(()=>void 0===b.value.focusable?y.value:b.value.focusable);o.provide(qr,e.id),o.provide(Zr,M);const V=o.computed(()=>b.value.class instanceof Function?b.value.class(b.value):b.value.class),D=o.computed(()=>b.value.style instanceof Function?b.value.style(b.value):b.value.style),B=o.computed(()=>{const e=b.value.type||"default",t=null==_?void 0:_[`edge-${e}`];if(t)return t;let n=b.value.template??s.value[e];if("string"==typeof n&&E){const t=Object.keys(E.appContext.components);t&&t.includes(e)&&(n=o.resolveComponent(e,!1))}return n&&"string"!=typeof n?n:(i.error(new xr(wr.EDGE_TYPE_MISSING,n)),!1)}),{handlePointerDown:R}=na({nodeId:C,handleId:T,type:A,isValidConnection:v,edgeUpdaterType:A,onEdgeUpdate:function(e,t){x.update({event:e,edge:b.value,connection:t})},onEdgeUpdateEnd:function(e){x.updateEnd({event:e,edge:b.value}),N.value=!1}});return()=>{const n=f(b.value.source),l=f(b.value.target),c="pathOptions"in b.value?b.value.pathOptions:{};if(!n&&!l)return i.error(new xr(wr.EDGE_SOURCE_TARGET_MISSING,b.value.id,b.value.source,b.value.target)),null;if(!n)return i.error(new xr(wr.EDGE_SOURCE_MISSING,b.value.id,b.value.source)),null;if(!l)return i.error(new xr(wr.EDGE_TARGET_MISSING,b.value.id,b.value.target)),null;if(!b.value||b.value.hidden||n.hidden||l.hidden)return null;let d;d=r.value===vo.Strict?n.handleBounds.source:[...n.handleBounds.source||[],...n.handleBounds.target||[]];const v=mr(d,b.value.sourceHandle);let p;p=r.value===vo.Strict?l.handleBounds.target:[...l.handleBounds.target||[],...l.handleBounds.source||[]];const h=mr(p,b.value.targetHandle),m=(null==v?void 0:v.position)||so.Bottom,g=(null==h?void 0:h.position)||so.Top,{x:y,y:x}=hr(n,v,m),{x:_,y:E}=hr(l,h,g);return b.value.sourceX=y,b.value.sourceY=x,b.value.targetX=_,b.value.targetY=E,o.h("g",{ref:M,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${!1===B.value?"default":b.value.type||"default"}`,u.value,V.value,{updating:k.value,selected:b.value.selected,animated:b.value.animated,inactive:!O.value&&!w.value.edgeClick.hasListeners()}],tabIndex:P.value?0:void 0,"aria-label":null===b.value.ariaLabel?void 0:b.value.ariaLabel??`Edge from ${b.value.source} to ${b.value.target}`,"aria-describedby":P.value?`${_o}-${t}`:void 0,"aria-roledescription":"edge",role:P.value?"group":"img",...b.value.domAttributes,onClick:H,onContextmenu:j,onDblclick:Y,onMouseenter:G,onMousemove:U,onMouseleave:X,onKeyDown:P.value?Z:void 0},[N.value?null:o.h(!1===B.value?s.value.default:B.value,{id:e.id,sourceNode:n,targetNode:l,source:b.value.source,target:b.value.target,type:b.value.type,updatable:I.value,selected:b.value.selected,animated:b.value.animated,label:b.value.label,labelStyle:b.value.labelStyle,labelShowBg:b.value.labelShowBg,labelBgStyle:b.value.labelBgStyle,labelBgPadding:b.value.labelBgPadding,labelBgBorderRadius:b.value.labelBgBorderRadius,data:b.value.data,events:{...b.value.events,...S},style:D.value,markerStart:`url('#${Qo(b.value.markerStart,t)}')`,markerEnd:`url('#${Qo(b.value.markerEnd,t)}')`,sourcePosition:m,targetPosition:g,sourceX:y,sourceY:x,targetX:_,targetY:E,sourceHandleId:b.value.sourceHandle,targetHandleId:b.value.targetHandle,interactionWidth:b.value.interactionWidth,...c}),["source"===I.value||!0===I.value?[o.h("g",{onMousedown:W,onMouseenter:z,onMouseout:F},o.h(di,{position:m,centerX:y,centerY:x,radius:a.value,type:"source","data-type":"source"}))]:null,"target"===I.value||!0===I.value?[o.h("g",{onMousedown:q,onMouseenter:z,onMouseout:F},o.h(di,{position:g,centerX:_,centerY:E,radius:a.value,type:"target","data-type":"target"}))]:null]])};function z(){k.value=!0}function F(){k.value=!1}function L(e,t){0===e.button&&(N.value=!0,C.value=t?b.value.target:b.value.source,T.value=(t?b.value.targetHandle:b.value.sourceHandle)??null,A.value=t?"target":"source",x.updateStart({event:e,edge:b.value}),R(e))}function H(e){var t;const o={event:e,edge:b.value};O.value&&(l.value=!1,b.value.selected&&p.value?(c([b.value]),null==(t=M.value)||t.blur()):n([b.value])),x.click(o)}function j(e){x.contextMenu({event:e,edge:b.value})}function Y(e){x.doubleClick({event:e,edge:b.value})}function G(e){x.mouseEnter({event:e,edge:b.value})}function U(e){x.mouseMove({event:e,edge:b.value})}function X(e){x.mouseLeave({event:e,edge:b.value})}function W(e){L(e,!0)}function q(e){L(e,!1)}function Z(t){var o;if(!h.value&&Eo.includes(t.key)&&O.value){"Escape"===t.key?(null==(o=M.value)||o.blur(),c([d(e.id)])):n([d(e.id)])}}}}),vi=o.defineComponent({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:a,connectionPosition:i,connectionLineType:l,connectionLineStyle:u,connectionLineOptions:s,connectionStatus:c,viewport:d,findNode:f}=Ka(),v=null==(e=o.inject(Kr))?void 0:e["connection-line"],p=o.computed(()=>{var e;return f(null==(e=r.value)?void 0:e.nodeId)}),h=o.computed(()=>{var e;return f(null==(e=a.value)?void 0:e.nodeId)??null}),m=o.computed(()=>({x:(i.value.x-d.value.x)/d.value.zoom,y:(i.value.y-d.value.y)/d.value.zoom})),g=o.computed(()=>s.value.markerStart?`url(#${Qo(s.value.markerStart,t)})`:""),y=o.computed(()=>s.value.markerEnd?`url(#${Qo(s.value.markerEnd,t)})`:"");return()=>{var e,t,i;if(!p.value||!r.value)return null;const d=r.value.id,f=r.value.type,w=p.value.handleBounds;let b=(null==w?void 0:w[f])??[];if(n.value===vo.Loose){const e=(null==w?void 0:w["source"===f?"target":"source"])??[];b=[...b,...e]}if(!b)return null;const x=(d?b.find(e=>e.id===d):b[0])??null,S=(null==x?void 0:x.position)??so.Top,{x:_,y:E}=hr(p.value,x,S);let k=null;h.value&&(k=n.value===vo.Strict?(null==(e=h.value.handleBounds["source"===f?"target":"source"])?void 0:e.find(e=>{var t;return e.id===(null==(t=a.value)?void 0:t.id)}))||null:(null==(t=[...h.value.handleBounds.source??[],...h.value.handleBounds.target??[]])?void 0:t.find(e=>{var t;return e.id===(null==(t=a.value)?void 0:t.id)}))||null);const N=(null==(i=a.value)?void 0:i.position)??(S?Or[S]:null);if(!S||!N)return null;const C=l.value??s.value.type??fo.Bezier;let T="";const A={sourceX:_,sourceY:E,sourcePosition:S,targetX:m.value.x,targetY:m.value.y,targetPosition:N};return C===fo.Bezier?[T]=Da(A):C===fo.Step?[T]=La({...A,borderRadius:0}):C===fo.SmoothStep?[T]=La(A):C===fo.SimpleBezier?[T]=Ra(A):T=`M${_},${E} ${m.value.x},${m.value.y}`,o.h("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},o.h("g",{class:"vue-flow__connection"},v?o.h(v,{sourceX:_,sourceY:E,sourcePosition:S,targetX:m.value.x,targetY:m.value.y,targetPosition:N,sourceNode:p.value,sourceHandle:x,targetNode:h.value,targetHandle:k,markerEnd:y.value,markerStart:g.value,connectionStatus:c.value}):o.h("path",{d:T,class:[s.value.class,c,"vue-flow__connection-path"],style:{...u.value,...s.value.style},"marker-end":y.value,"marker-start":g.value})))}}}),pi=["id","markerWidth","markerHeight","markerUnits","orient"],hi=o.defineComponent({name:"MarkerType",compatConfig:{MODE:3},props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup:e=>(e,t)=>(o.openBlock(),o.createElementBlock("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===o.unref(po).ArrowClosed?(o.openBlock(),o.createElementBlock("polyline",{key:0,style:o.normalizeStyle({stroke:e.color,fill:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):o.createCommentVNode("",!0),e.type===o.unref(po).Arrow?(o.openBlock(),o.createElementBlock("polyline",{key:1,style:o.normalizeStyle({stroke:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):o.createCommentVNode("",!0)],8,pi))}),mi={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},gi=o.defineComponent({name:"MarkerDefinitions",compatConfig:{MODE:3},setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:a}=Ka(),i=o.computed(()=>{const e=new Set,o=[],i=n=>{if(n){const r=Qo(n,t);e.has(r)||("object"==typeof n?o.push({...n,id:r,color:n.color||a.value}):o.push({id:r,color:a.value,type:n}),e.add(r))}};for(const e of[r.value.markerEnd,r.value.markerStart])i(e);for(const e of n.value)for(const t of[e.markerStart,e.markerEnd])i(t);return o.sort((e,t)=>e.id.localeCompare(t.id))});return(e,t)=>(o.openBlock(),o.createElementBlock("svg",mi,[o.createElementVNode("defs",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.value,e=>(o.openBlock(),o.createBlock(hi,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,"stroke-width":e.strokeWidth,orient:e.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),yi=o.defineComponent({name:"Edges",compatConfig:{MODE:3},setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=Ka();return(e,a)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createVNode(gi),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(n),e=>(o.openBlock(),o.createElementBlock("svg",{key:e.id,class:"vue-flow__edges vue-flow__container",style:o.normalizeStyle({zIndex:o.unref(yr)(e,o.unref(t),o.unref(r))})},[o.createVNode(o.unref(fi),{id:e.id},null,8,["id"])],4))),128)),o.createVNode(o.unref(vi))],64))}}),wi=o.defineComponent({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:a,multiSelectionActive:i,emits:l,removeSelectedNodes:u,addSelectedNodes:s,updateNodeDimensions:c,onUpdateNodeInternals:d,getNodeTypes:f,nodeExtent:v,elevateNodesOnSelect:p,disableKeyboardA11y:m,ariaLiveMessage:g,snapToGrid:y,snapGrid:w,nodeDragThreshold:b,nodesDraggable:x,elementsSelectable:S,nodesConnectable:_,nodesFocusable:E,hooks:k}=Ka(),N=o.ref(null);o.provide(Wr,N),o.provide(Xr,e.id);const C=o.inject(Kr),T=o.getCurrentInstance(),A=ia(),{node:M,parentNode:O}=ra(e.id),{emit:I,on:P}=aa(M,l),V=o.toRef(()=>void 0===M.draggable?x.value:M.draggable),D=o.toRef(()=>void 0===M.selectable?S.value:M.selectable),B=o.toRef(()=>void 0===M.connectable?_.value:M.connectable),R=o.toRef(()=>void 0===M.focusable?E.value:M.focusable),z=o.computed(()=>D.value||V.value||k.value.nodeClick.hasListeners()||k.value.nodeDoubleClick.hasListeners()||k.value.nodeMouseEnter.hasListeners()||k.value.nodeMouseMove.hasListeners()||k.value.nodeMouseLeave.hasListeners()),F=o.toRef(()=>!!M.dimensions.width&&!!M.dimensions.height),L=o.computed(()=>{const e=M.type||"default",t=null==C?void 0:C[`node-${e}`];if(t)return t;let n=M.template||f.value[e];if("string"==typeof n&&T){const t=Object.keys(T.appContext.components);t&&t.includes(e)&&(n=o.resolveComponent(e,!1))}return n&&"string"!=typeof n?n:(l.error(new xr(wr.NODE_TYPE_MISSING,n)),!1)}),H=Jr({id:e.id,el:N,disabled:()=>!V.value,selectable:D,dragHandle:()=>M.dragHandle,onStart(e){I.dragStart(e)},onDrag(e){I.drag(e)},onStop(e){I.dragStop(e)},onClick(e){Q(e)}}),j=o.computed(()=>M.class instanceof Function?M.class(M):M.class),Y=o.computed(()=>{const e=(M.style instanceof Function?M.style(M):M.style)||{},t=M.width instanceof Function?M.width(M):M.width,n=M.height instanceof Function?M.height(M):M.height;return!e.width&&t&&(e.width="string"==typeof t?t:`${t}px`),!e.height&&n&&(e.height="string"==typeof n?n:`${n}px`),e}),G=o.toRef(()=>Number(M.zIndex??Y.value.zIndex??0));return d(t=>{!t.includes(e.id)&&t.length||X()}),o.onMounted(()=>{o.watch(()=>M.hidden,(t=!1,n,o)=>{!t&&N.value&&(e.resizeObserver.observe(N.value),o(()=>{N.value&&e.resizeObserver.unobserve(N.value)}))},{immediate:!0,flush:"post"})}),o.watch([()=>M.type,()=>M.sourcePosition,()=>M.targetPosition],()=>{o.nextTick(()=>{c([{id:e.id,nodeElement:N.value,forceUpdate:!0}])})}),o.watch([()=>M.position.x,()=>M.position.y,()=>{var e;return null==(e=O.value)?void 0:e.computedPosition.x},()=>{var e;return null==(e=O.value)?void 0:e.computedPosition.y},()=>{var e;return null==(e=O.value)?void 0:e.computedPosition.z},G,()=>M.selected,()=>M.dimensions.height,()=>M.dimensions.width,()=>{var e;return null==(e=O.value)?void 0:e.dimensions.height},()=>{var e;return null==(e=O.value)?void 0:e.dimensions.width}],([e,t,n,o,r,a])=>{const i={x:e,y:t,z:a+(p.value&&M.selected?1e3:0)};var l,u;M.computedPosition=void 0!==n&&void 0!==o?{x:(u=i).x+(l={x:n,y:o,z:r}).x,y:u.y+l.y,z:(l.z>u.z?l.z:u.z)+1}:i},{flush:"post",immediate:!0}),o.watch([()=>M.extent,v],([e,t],[n,o])=>{e===n&&t===o||U()}),"parent"===M.extent||"object"==typeof M.extent&&"range"in M.extent&&"parent"===M.extent.range?h(()=>F).toBe(!0).then(U):U(),()=>M.hidden?null:o.h("div",{ref:N,"data-id":M.id,class:["vue-flow__node",`vue-flow__node-${!1===L.value?"default":M.type||"default"}`,{[n.value]:V.value,dragging:null==H?void 0:H.value,draggable:V.value,selected:M.selected,selectable:D.value,parent:M.isParent},j.value],style:{visibility:F.value?"visible":"hidden",zIndex:M.computedPosition.z??G.value,transform:`translate(${M.computedPosition.x}px,${M.computedPosition.y}px)`,pointerEvents:z.value?"all":"none",...Y.value},tabIndex:R.value?0:void 0,role:R.value?"group":void 0,"aria-describedby":m.value?void 0:`${So}-${t}`,"aria-label":M.ariaLabel,"aria-roledescription":"node",...M.domAttributes,onMouseenter:W,onMousemove:q,onMouseleave:Z,onContextmenu:K,onClick:Q,onDblclick:J,onKeydown:ee},[o.h(!1===L.value?f.value.default:L.value,{id:M.id,type:M.type,data:M.data,events:{...M.events,...P},selected:M.selected,resizing:M.resizing,dragging:H.value,connectable:B.value,position:M.computedPosition,dimensions:M.dimensions,isValidTargetPos:M.isValidTargetPos,isValidSourcePos:M.isValidSourcePos,parent:M.parentNode,parentNodeId:M.parentNode,zIndex:M.computedPosition.z??G.value,targetPosition:M.targetPosition,sourcePosition:M.sourcePosition,label:M.label,dragHandle:M.dragHandle,onUpdateNodeInternals:X})]);function U(){const e=M.computedPosition,{computedPosition:t,position:n}=pr(M,y.value?kr(e,w.value):e,l.error,v.value,O.value);M.computedPosition.x===t.x&&M.computedPosition.y===t.y||(M.computedPosition={...M.computedPosition,...t}),M.position.x===n.x&&M.position.y===n.y||(M.position=n)}function X(){N.value&&c([{id:e.id,nodeElement:N.value,forceUpdate:!0}])}function W(e){(null==H?void 0:H.value)||I.mouseEnter({event:e,node:M})}function q(e){(null==H?void 0:H.value)||I.mouseMove({event:e,node:M})}function Z(e){(null==H?void 0:H.value)||I.mouseLeave({event:e,node:M})}function K(e){return I.contextMenu({event:e,node:M})}function J(e){return I.doubleClick({event:e,node:M})}function Q(e){D.value&&(!r.value||!V.value||b.value>0)&&Br(M,i.value,s,u,a,!1,N.value),I.click({event:e,node:M})}function ee(e){if(!wo(e)&&!m.value)if(Eo.includes(e.key)&&D.value){const t="Escape"===e.key;Br(M,i.value,s,u,a,t,N.value)}else V.value&&M.selected&&ko[e.key]&&(e.preventDefault(),g.value=`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~M.position.x}, y: ${~~M.position.y}`,A({x:ko[e.key].x,y:ko[e.key].y},e.shiftKey))}}}),bi={height:"0",width:"0"},xi=o.defineComponent({name:"EdgeLabelRenderer",compatConfig:{MODE:3},setup(e){const{viewportRef:t}=Ka(),n=o.toRef(()=>{var e;return null==(e=t.value)?void 0:e.getElementsByClassName("vue-flow__edge-labels")[0]});return(e,t)=>(o.openBlock(),o.createElementBlock("svg",null,[(o.openBlock(),o.createElementBlock("foreignObject",bi,[(o.openBlock(),o.createBlock(o.Teleport,{to:n.value,disabled:!n.value},[o.renderSlot(e.$slots,"default")],8,["to","disabled"]))]))]))}});function Si(e={includeHiddenNodes:!1}){const{nodes:t}=Ka();return o.computed(()=>{if(0===t.value.length)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(void 0===(null==n?void 0:n.handleBounds)||0===n.dimensions.width||0===n.dimensions.height))return!1;return!0})}const _i={class:"vue-flow__nodes vue-flow__container"},Ei=o.defineComponent({name:"Nodes",compatConfig:{MODE:3},setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=Ka(),a=Si(),i=o.ref();return o.watch(a,e=>{e&&o.nextTick(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),o.onMounted(()=>{i.value=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));o.nextTick(()=>n(t))})}),o.onBeforeUnmount(()=>{var e;return null==(e=i.value)?void 0:e.disconnect()}),(e,n)=>(o.openBlock(),o.createElementBlock("div",_i,[i.value?(o.openBlock(!0),o.createElementBlock(o.Fragment,{key:0},o.renderList(o.unref(t),(e,t,n,r)=>{const a=[e.id];if(r&&r.key===e.id&&o.isMemoSame(r,a))return r;const l=(o.openBlock(),o.createBlock(o.unref(wi),{id:e.id,key:e.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return l.memo=a,l},n,0),128)):o.createCommentVNode("",!0)]))}});const ki=o.createElementVNode("div",{class:"vue-flow__edge-labels"},null,-1),Ni=o.defineComponent({name:"VueFlow",compatConfig:{MODE:3},props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const a=e,i=o.useSlots(),l=b(a,"modelValue",n),u=b(a,"nodes",n),s=b(a,"edges",n),c=Ka(a),d=fa({modelValue:l,nodes:u,edges:s},a,c);return function(e,t){o.onBeforeMount(()=>{for(const[n,o]of Object.entries(t.value)){const t=t=>{e(n,t)};o.fns.add(t),r(()=>{o.off(t)})}})}(n,c.hooks),function(){const e=Ka();o.watch(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}(),function(){const{emits:e}=Ka();o.onMounted(()=>{if(Vr()){const t=document.querySelector(".vue-flow__pane");t&&"1"!==window.getComputedStyle(t).zIndex&&e.error(new xr(wr.MISSING_STYLES))}})}(),o.provide(Kr,i),o.onUnmounted(()=>{d()}),t(c),(e,t)=>(o.openBlock(),o.createElementBlock("div",{ref:o.unref(c).vueFlowRef,class:"vue-flow"},[o.createVNode(oi,null,{default:o.withCtx(()=>[o.createVNode(yi),ki,o.createVNode(Ei),o.renderSlot(e.$slots,"zoom-pane")]),_:3}),o.renderSlot(e.$slots,"default"),o.createVNode(li)],512))}}),Ci=o.defineComponent({name:"Panel",compatConfig:{MODE:3},props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Ka(),r=o.computed(()=>`${t.position}`.split("-"));return(e,t)=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(["vue-flow__panel",r.value]),style:o.normalizeStyle({pointerEvents:o.unref(n)?"none":"all"})},[o.renderSlot(e.$slots,"default")],6))}});t.BaseEdge=Ma,t.BezierEdge=Ua,t.ConnectionLineType=fo,t.ConnectionMode=vo,t.EdgeLabelRenderer=xi,t.EdgeText=Ca,t.ErrorCode=wr,t.Handle=ga,t.MarkerType=po,t.NodeIdInjection=Xr,t.PanOnScrollMode=ho,t.Panel=Ci,t.PanelPosition=mo,t.Position=so,t.SelectionMode=co,t.SimpleBezierEdge=Xa,t.SmoothStepEdge=Ya,t.StepEdge=Ga,t.StraightEdge=ja,t.VueFlow=Ni,t.VueFlowError=xr,t.VueFlowInjection=Ur,t.addEdge=function(e,t,n){if(!e.source||!e.target)return Pr("Can't create edge. An edge needs a source and a target."),t;let o;return o=Io(e)?{...e}:{...e,id:Lo(e)},o=Ro(o,void 0,n),Ho(o,t)||t.push(o),t},t.applyChanges=or,t.applyEdgeChanges=function(e,t){return or(e,t)},t.applyNodeChanges=function(e,t){return or(e,t)},t.clamp=Ao,t.connectionExists=Ho,t.defaultEdgeTypes=qa,t.defaultNodeTypes=Wa,t.getBezierEdgeCenter=Ia,t.getBezierPath=Da,t.getBoundsofRects=function(e,t){return Xo(Go(Uo(e),Uo(t)))},t.getConnectedEdges=Zo,t.getIncomers=Fo,t.getMarkerId=Qo,t.getNodesInside=qo,t.getOutgoers=$o,t.getRectOfNodes=Wo,t.getSimpleBezierPath=Ra,t.getSimpleEdgeCenter=Oa,t.getSmoothStepPath=La,t.getStraightPath=Ha,t.getTransformForBounds=Ko,t.graphPosToZoomedPos=jo,t.isEdge=Io,t.isErrorOfType=function(e,t){return e.code===t},t.isGraphEdge=function(e){return Io(e)&&"sourceNode"in e&&"targetNode"in e},t.isGraphNode=Vo,t.isNode=Po,t.pointToRendererPoint=Yo,t.rendererPointToPoint=jo,t.updateEdge=function(e,t,n){if(!t.source||!t.target)return Pr("Can't create new edge. An edge needs a source and a target."),n;const o=n.find(t=>Io(t)&&t.id===e.id);if(!o)return Pr(`The old edge with id=${e.id} does not exist.`),n;const r={...e,id:Lo(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(o),1,r),n.filter(t=>t.id!==e.id)},t.useConnection=function(){const{connectionStartHandle:e,connectionEndHandle:t,connectionStatus:n,connectionPosition:o}=Ka();return{startHandle:e,endHandle:t,status:n,position:o}},t.useEdge=function(e){const t=e??o.inject(qr,""),n=o.inject(Zr,o.ref(null)),{findEdge:r,emits:a}=Ka(),i=r(t);return i||a.error(new xr(wr.EDGE_NOT_FOUND,t)),{id:t,edge:i,edgeEl:n}},t.useEdgesData=function(e){const{findEdge:t}=Ka();return o.computed({get(){const n=o.toValue(e);if(!Array.isArray(n)){const e=t(n);return e?{id:e.id,type:e.type,data:e.data??null}:null}const r=[];for(const e of n){const n=t(e);n&&r.push({id:n.id,type:n.type,data:n.data??null})}return r},set(){Pr()}})},t.useGetPointerPosition=ea,t.useHandle=na,t.useHandleConnections=function(e){const{type:t,id:n,nodeId:r,onConnect:a,onDisconnect:i}=e,{connectionLookup:l}=Ka(),u=oa(),s=o.toRef(()=>o.toValue(r)??u),c=o.toRef(()=>o.toValue(t)),d=o.toRef(()=>o.toValue(n)??null),f=o.ref(null),v=o.ref();return o.watch(()=>l.value.get(`${s.value}-${c.value}-${d.value}`),e=>{jr(v.value,e)||(v.value=e)},{immediate:!0}),o.watch([v,()=>void 0!==a,()=>void 0!==i],([e=new Map])=>{f.value&&f.value!==e&&(Hr(f.value,e,i),Hr(e,f.value,a)),f.value=e},{immediate:!0}),o.computed(()=>v.value?Array.from(v.value.values()):[])},t.useKeyPress=xo,t.useNode=ra,t.useNodeConnections=function(e={}){const{handleType:t,handleId:n,nodeId:r,onConnect:a,onDisconnect:i}=e,{connectionLookup:l}=Ka(),u=oa(),s=o.ref(null),c=o.ref(),d=o.computed(()=>{const e=o.toValue(r)??u,a=o.toValue(t),i=o.toValue(n);let l="";return a&&(l=i?`-${a}-${i}`:`-${a}`),`${e}${l}`});return o.watch(()=>l.value.get(d.value),e=>{jr(c.value,e)||(c.value=e)},{immediate:!0}),o.watch([c,()=>void 0!==a,()=>void 0!==i],([e=new Map])=>{s.value&&s.value!==e&&(Hr(s.value,e,i),Hr(e,s.value,a)),s.value=e},{immediate:!0}),o.computed(()=>c.value?Array.from(c.value.values()):[])},t.useNodeId=oa,t.useNodesData=function(e){const{findNode:t}=Ka();return o.computed({get(){const n=o.toValue(e);if(!Array.isArray(n)){const e=t(n);return e?{id:e.id,type:e.type,data:e.data}:null}const r=[];for(const e of n){const n=t(e);n&&r.push({id:n.id,type:n.type,data:n.data})}return r},set(){Pr()}})},t.useNodesInitialized=Si,t.useVueFlow=Ka,t.useZoomPanHelper=function(e){const t=ca(function(e){if(!o.isRef(e))return o.reactive(e);const t=new Proxy({},{get:(t,n,r)=>o.unref(Reflect.get(e.value,n,r)),set:(t,n,r)=>(o.isRef(e.value[n])&&!o.isRef(r)?e.value[n].value=r:e.value[n]=r,!0),deleteProperty:(t,n)=>Reflect.deleteProperty(e.value,n),has:(t,n)=>Reflect.has(e.value,n),ownKeys:()=>Object.keys(e.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})});return o.reactive(t)}(Ka({id:e})));return{fitView:e=>t.value.fitView(e),zoomIn:e=>t.value.zoomIn(e),zoomOut:e=>t.value.zoomOut(e),zoomTo:(e,n)=>t.value.zoomTo(e,n),setViewport:(e,n)=>t.value.setViewport(e,n),setTransform:(e,n)=>t.value.setTransform(e,n),getViewport:()=>t.value.getViewport(),getTransform:()=>t.value.getTransform(),setCenter:(e,n,o)=>t.value.setCenter(e,n,o),fitBounds:(e,n)=>t.value.fitBounds(e,n),project:e=>t.value.project(e)}}},8473:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".item[data-v-338f305b]{cursor:grab;transition:background-color .2s}.item[data-v-338f305b]:hover{background-color:var(--a-fill-color-light)}.item.disabled[data-v-338f305b]{cursor:not-allowed !important;opacity:.6;background-color:var(--a-fill-color-lighter)}.item.disabled[data-v-338f305b]:hover{background-color:var(--a-fill-color-lighter)}.save[data-v-338f305b]{color:var(--a-text-color-primary);background-color:var(--a-fill-color-dark)}",""]);const l=i},8535:(e,t,n)=>{"use strict";t.X=function(e,t,n,a,i,l){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r)};var o=n(4061);const r={class:"biz-node container"}},8574:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(3700),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(9389),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-b6a5ebbe"]])},8952:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o,r=n(4061),a=n(8250),i=(o=n(4013))&&o.__esModule?o:{default:o};const l={class:"vue-flow__sidebar"},u=["draggable"],s=["draggable"];t.A={__name:"sidebar",emits:["save"],setup(e,{emit:t}){const{onDragStart:n}=(0,i.default)(),o=t,{nodes:c}=(0,a.useVueFlow)(),d=(0,r.computed)(()=>c.value.some(e=>"start"===e.type)),f=(0,r.computed)(()=>c.value.some(e=>"end"===e.type));function v(){o("save")}return(e,t)=>{const o=(0,r.resolveComponent)("z-icon");return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item",{disabled:d.value}]),draggable:!d.value,onDragstart:t[0]||(t[0]=e=>!d.value&&(0,r.unref)(n)(e,"start"))},[(0,r.createVNode)(o,{value:"circle",size:"30px"}),t[5]||(t[5]=(0,r.createTextVNode)(" \u5f00\u59cb "))],42,u),(0,r.createElementVNode)("div",{class:"item",draggable:!0,onDragstart:t[1]||(t[1]=e=>(0,r.unref)(n)(e,"ifNode"))},[(0,r.createVNode)(o,{value:"square",style:{transform:"rotate(45deg)"},size:"30px"}),t[6]||(t[6]=(0,r.createTextVNode)(" \u6761\u4ef6\u5224\u65ad "))],32),(0,r.createElementVNode)("div",{class:"item",draggable:!0,onDragstart:t[2]||(t[2]=e=>(0,r.unref)(n)(e,"user"))},[(0,r.createVNode)(o,{value:"userPlus",size:"30px"}),t[7]||(t[7]=(0,r.createTextVNode)(" \u4eba\u5de5\u64cd\u4f5c "))],32),(0,r.createElementVNode)("div",{class:"item",draggable:!0,onDragstart:t[3]||(t[3]=e=>(0,r.unref)(n)(e,"system"))},[(0,r.createVNode)(o,{value:"settings",size:"30px"}),t[8]||(t[8]=(0,r.createTextVNode)(" \u81ea\u52a8\u5316 "))],32),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item",{disabled:f.value}]),draggable:!f.value,onDragstart:t[4]||(t[4]=e=>!f.value&&(0,r.unref)(n)(e,"end"))},[(0,r.createVNode)(o,{value:"stopCircle",size:"30px"}),t[9]||(t[9]=(0,r.createTextVNode)(" \u7ed3\u675f "))],42,s),(0,r.createElementVNode)("div",{class:"item save",onClick:v},[(0,r.createVNode)(o,{value:"save",size:"30px"}),t[10]||(t[10]=(0,r.createTextVNode)(" \u4fdd\u5b58 "))])])}}}},9009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(2762),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(6656),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-2108cf7b"]])},9336:(e,t,n)=>{"use strict";t.B=!0,t.A=void 0;var o=n(4061),r=n(8250);const a=["id"];t.A={__name:"system",props:{id:String,data:Object,type:String},setup(e){const t=e,n=function(){$.emit("nodeEditor",t)};return(e,i)=>{const l=(0,o.resolveComponent)("z-icon");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"biz-node system",onDblclick:n,id:t.id},[(0,o.createVNode)(l,{value:"settings",size:"10px"}),i[0]||(i[0]=(0,o.createElementVNode)("div",{class:"label"},"\u7cfb\u7edf\u8282\u70b9",-1)),(0,o.createVNode)((0,o.unref)(r.Handle),{position:"top",id:t.id+"top",type:"target"},null,8,["id"]),(0,o.createVNode)((0,o.unref)(r.Handle),{position:"bottom",id:t.id+"bottom",type:"source"},null,8,["id"])],40,a)}}}},9389:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(1601),r=n.n(o),a=n(6314),i=n.n(a)()(r());i.push([e.id,".end[data-v-b6a5ebbe]{width:90px;height:32px;border-radius:16px}.end[data-v-b6a5ebbe]:hover{background:var(--a-bg-color);border-color:var(--a-text-color-primary);box-shadow:var(--a-box-shadow)}.label[data-v-b6a5ebbe]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);white-space:nowrap}",""]);const l=i},9614:(e,t,n)=>{"use strict";var o=n(244),r=n(1048);function a(e,t,n){let a;a=r.isRef(n)?{evaluating:n}:n||{};const{lazy:i=!1,evaluating:l,shallow:u=!0,onError:s=o.noop}=a,c=r.ref(!i),d=u?r.shallowRef(t):r.ref(t);let f=0;return r.watchEffect(async t=>{if(!c.value)return;f++;const n=f;let o=!1;l&&Promise.resolve().then(()=>{l.value=!0});try{const r=await e(e=>{t(()=>{l&&(l.value=!1),o||e()})});n===f&&(d.value=r)}catch(e){s(e)}finally{l&&n===f&&(l.value=!1),o=!0}}),i?r.computed(()=>(c.value=!0,d.value)):d}function i(e){const t={};for(const n in e)t[o.camelize(n)]=e[n];return t}function l(e){var t;const n=o.toValue(e);return null!=(t=null==n?void 0:n.$el)?t:n}const u=o.isClient?window:void 0,s=o.isClient?window.document:void 0,c=o.isClient?window.navigator:void 0,d=o.isClient?window.location:void 0;function f(...e){let t,n,a,i;if("string"==typeof e[0]||Array.isArray(e[0])?([n,a,i]=e,t=u):[t,n,a,i]=e,!t)return o.noop;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const s=[],c=()=>{s.forEach(e=>e()),s.length=0},d=r.watch(()=>[l(t),o.toValue(i)],([e,t])=>{if(c(),!e)return;const r=o.isObject(t)?{...t}:t;s.push(...n.flatMap(t=>a.map(n=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,n,r))))},{immediate:!0,flush:"post"}),f=()=>{d(),c()};return o.tryOnScopeDispose(f),f}let v=!1;function p(...e){let t,n,r={};3===e.length?(t=e[0],n=e[1],r=e[2]):2===e.length?"object"==typeof e[1]?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:a=u,eventName:i="keydown",passive:l=!1,dedupe:s=!1}=r,c="function"==typeof(d=t)?d:"string"==typeof d?e=>e.key===d:Array.isArray(d)?e=>d.includes(e.key):()=>!0;var d;return f(a,i,e=>{e.repeat&&o.toValue(s)||c(e)&&n(e)},l)}function h(){const e=r.ref(!1),t=r.getCurrentInstance();return t&&r.onMounted(()=>{e.value=!0},r.isVue2?void 0:t),e}function m(e){const t=h();return r.computed(()=>(t.value,Boolean(e())))}function g(e,t,n={}){const{window:a=u,...i}=n;let s;const c=m(()=>a&&"MutationObserver"in a),d=()=>{s&&(s.disconnect(),s=void 0)},f=r.computed(()=>{const t=o.toValue(e),n=(Array.isArray(t)?t:[t]).map(l).filter(o.notNullish);return new Set(n)}),v=r.watch(()=>f.value,e=>{d(),c.value&&e.size&&(s=new MutationObserver(t),e.forEach(e=>s.observe(e,i)))},{immediate:!0,flush:"post"}),p=()=>{d(),v()};return o.tryOnScopeDispose(p),{isSupported:c,stop:p,takeRecords:()=>null==s?void 0:s.takeRecords()}}function y(e={}){var t;const{window:n=u,deep:o=!0,triggerOnRemoval:a=!1}=e,i=null!=(t=e.document)?t:null==n?void 0:n.document,l=r.ref(),s=()=>{l.value=(()=>{var e;let t=null==i?void 0:i.activeElement;if(o)for(;null==t?void 0:t.shadowRoot;)t=null==(e=null==t?void 0:t.shadowRoot)?void 0:e.activeElement;return t})()};return n&&(f(n,"blur",e=>{null===e.relatedTarget&&s()},!0),f(n,"focus",s,!0)),a&&g(i,e=>{e.filter(e=>e.removedNodes.length).map(e=>Array.from(e.removedNodes)).flat().forEach(e=>{e===l.value&&s()})},{childList:!0,subtree:!0}),s(),l}function w(e,t={}){const{immediate:n=!0,fpsLimit:a,window:i=u}=t,l=r.ref(!1),s=a?1e3/a:null;let c=0,d=null;function f(t){if(!l.value||!i)return;c||(c=t);const n=t-c;s&&n<s||(c=t,e({delta:n,timestamp:t})),d=i.requestAnimationFrame(f)}function v(){!l.value&&i&&(l.value=!0,c=0,d=i.requestAnimationFrame(f))}function p(){l.value=!1,null!=d&&i&&(i.cancelAnimationFrame(d),d=null)}return n&&v(),o.tryOnScopeDispose(p),{isActive:r.readonly(l),pause:p,resume:v}}function b(e){return new Promise((t,n)=>{const o=new Error("aborted");e.aborted?n(o):e.addEventListener("abort",()=>n(o),{once:!0})})}function x(e,t,n){const{immediate:a=!0,delay:i=0,onError:l=o.noop,onSuccess:u=o.noop,resetOnExecute:s=!0,shallow:c=!0,throwError:d}=null!=n?n:{},f=c?r.shallowRef(t):r.ref(t),v=r.ref(!1),p=r.ref(!1),h=r.shallowRef(void 0);async function m(n=0,...r){s&&(f.value=t),h.value=void 0,v.value=!1,p.value=!0,n>0&&await o.promiseTimeout(n);const a="function"==typeof e?e(...r):e;try{const e=await a;f.value=e,v.value=!0,u(e)}catch(e){if(h.value=e,l(e),d)throw e}finally{p.value=!1}return f.value}a&&m(i);const g={state:f,isReady:v,isLoading:p,error:h,execute:m};return{...g,then:(e,t)=>new Promise((e,t)=>{o.until(p).toBe(!1).then(()=>e(g)).catch(t)}).then(e,t)}}const S=e=>JSON.stringify(e),_=e=>JSON.stringify(e),E=e=>JSON.stringify(Array.from(e)),k=e=>JSON.stringify(Object.fromEntries(e)),N=()=>"";function C(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=e=>{t(e.target.result)},o.onerror=n,o.readAsDataURL(e)})}function T(e,t={}){const{window:n=u}=t,a=m(()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia);let i;const l=r.ref(!1),s=e=>{l.value=e.matches},c=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",s):i.removeListener(s))},d=r.watchEffect(()=>{a.value&&(c(),i=n.matchMedia(o.toValue(e)),"addEventListener"in i?i.addEventListener("change",s):i.addListener(s),l.value=i.matches)});return o.tryOnScopeDispose(()=>{d(),c(),i=void 0}),l}const A={xs:0,sm:600,md:960,lg:1264,xl:1904},M=A;const O=["hash","host","hostname","href","pathname","port","protocol","search"];function I(e,t={}){const{controls:n=!1,navigator:a=c}=t,i=m(()=>a&&"permissions"in a);let l;const u="string"==typeof e?{name:e}:e,s=r.ref(),d=()=>{l&&(s.value=l.state)},v=o.createSingletonPromise(async()=>{if(i.value){if(!l)try{l=await a.permissions.query(u),f(l,"change",d),d()}catch(e){s.value="prompt"}return l}});return v(),n?{state:s,isSupported:i,query:v}:s}function P(e){return JSON.parse(JSON.stringify(e))}const V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},D="__vueuse_ssr_handlers__",B=R();function R(){return D in V||(V[D]=V[D]||{}),V[D]}function z(e,t){return B[e]||t}function F(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}const L={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function j(e,t,n,a={}){var i;const{flush:l="pre",deep:s=!0,listenToStorageChanges:c=!0,writeDefaults:d=!0,mergeDefaults:v=!1,shallow:p,window:h=u,eventFilter:m,onError:g=e=>{},initOnMounted:y}=a,w=(p?r.shallowRef:r.ref)("function"==typeof t?t():t);if(!n)try{n=z("getDefaultStorage",()=>{var e;return null==(e=u)?void 0:e.localStorage})()}catch(e){g(e)}if(!n)return w;const b=o.toValue(t),x=F(b),S=null!=(i=a.serializer)?i:L[x],{pause:_,resume:E}=o.pausableWatch(w,()=>function(t){try{const o=n.getItem(e);if(null==t)k(o,null),n.removeItem(e);else{const r=S.write(t);o!==r&&(n.setItem(e,r),k(o,r))}}catch(e){g(e)}}(w.value),{flush:l,deep:s,eventFilter:m});function k(t,o){h&&h.dispatchEvent(new CustomEvent(H,{detail:{key:e,oldValue:t,newValue:o,storageArea:n}}))}function N(t){if(!t||t.storageArea===n)if(t&&null==t.key)w.value=b;else if(!t||t.key===e){_();try{(null==t?void 0:t.newValue)!==S.write(w.value)&&(w.value=function(t){const o=t?t.newValue:n.getItem(e);if(null==o)return d&&null!=b&&n.setItem(e,S.write(b)),b;if(!t&&v){const e=S.read(o);return"function"==typeof v?v(e,b):"object"!==x||Array.isArray(e)?e:{...b,...e}}return"string"!=typeof o?o:S.read(o)}(t))}catch(e){g(e)}finally{t?r.nextTick(E):E()}}}function C(e){N(e.detail)}return h&&c&&o.tryOnMounted(()=>{f(h,"storage",N),f(h,H,C),y&&N()}),y||N(),w}function Y(e){return T("(prefers-color-scheme: dark)",e)}function G(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:i=u,storage:s,storageKey:c="vueuse-color-scheme",listenToStorageChanges:d=!0,storageRef:f,emitAuto:v,disableTransition:p=!0}=e,h={auto:"",light:"light",dark:"dark",...e.modes||{}},m=Y({window:i}),g=r.computed(()=>m.value?"dark":"light"),y=f||(null==c?o.toRef(a):j(c,a,s,{window:i,listenToStorageChanges:d})),w=r.computed(()=>"auto"===y.value?g.value:y.value),b=z("updateHTMLAttrs",(e,t,n)=>{const o="string"==typeof e?null==i?void 0:i.document.querySelector(e):l(e);if(!o)return;let r;if(p){r=i.document.createElement("style");const e="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";r.appendChild(document.createTextNode(e)),i.document.head.appendChild(r)}if("class"===t){const e=n.split(/\s/g);Object.values(h).flatMap(e=>(e||"").split(/\s/g)).filter(Boolean).forEach(t=>{e.includes(t)?o.classList.add(t):o.classList.remove(t)})}else o.setAttribute(t,n);p&&(i.getComputedStyle(r).opacity,document.head.removeChild(r))});function x(e){var o;b(t,n,null!=(o=h[e])?o:e)}function S(t){e.onChanged?e.onChanged(t,x):x(t)}r.watch(w,S,{flush:"post",immediate:!0}),o.tryOnMounted(()=>S(w.value));const _=r.computed({get:()=>v?y.value:w.value,set(e){y.value=e}});try{return Object.assign(_,{store:y,system:g,state:w})}catch(e){return _}}function U(e,t,n={}){const{window:a=u,initialValue:i="",observe:s=!1}=n,c=r.ref(i),d=r.computed(()=>{var e;return l(t)||(null==(e=null==a?void 0:a.document)?void 0:e.documentElement)});function f(){var t;const n=o.toValue(e),r=o.toValue(d);if(r&&a){const e=null==(t=a.getComputedStyle(r).getPropertyValue(n))?void 0:t.trim();c.value=e||i}}return s&&g(d,f,{attributeFilter:["style","class"],window:a}),r.watch([d,()=>o.toValue(e)],f,{immediate:!0}),r.watch(c,t=>{var n;(null==(n=d.value)?void 0:n.style)&&d.value.style.setProperty(o.toValue(e),t)}),c}function X(e){const t=r.getCurrentInstance(),n=o.computedWithControl(()=>null,()=>e?l(e):t.proxy.$el);return r.onUpdated(n.trigger),r.onMounted(n.trigger),n}function W(e){return e}function q(e,t){return e.value=t}function Z(e){return e?"function"==typeof e?e:P:W}function K(e){return e?"function"==typeof e?e:P:W}function J(e,t={}){const{clone:n=!1,dump:a=Z(n),parse:i=K(n),setSource:l=q}=t;function u(){return r.markRaw({snapshot:a(e.value),timestamp:o.timestamp()})}const s=r.ref(u()),c=r.ref([]),d=r.ref([]),f=t=>{l(e,i(t.snapshot)),s.value=t},v=r.computed(()=>[s.value,...c.value]),p=r.computed(()=>c.value.length>0),h=r.computed(()=>d.value.length>0);return{source:e,undoStack:c,redoStack:d,last:s,history:v,canUndo:p,canRedo:h,clear:()=>{c.value.splice(0,c.value.length),d.value.splice(0,d.value.length)},commit:()=>{c.value.unshift(s.value),s.value=u(),t.capacity&&c.value.length>t.capacity&&c.value.splice(t.capacity,Number.POSITIVE_INFINITY),d.value.length&&d.value.splice(0,d.value.length)},reset:()=>{f(s.value)},undo:()=>{const e=c.value.shift();e&&(d.value.unshift(s.value),f(e))},redo:()=>{const e=d.value.shift();e&&(c.value.unshift(s.value),f(e))}}}function Q(e,t={}){const{deep:n=!1,flush:r="pre",eventFilter:a}=t,{eventFilter:i,pause:l,resume:u,isActive:s}=o.pausableFilter(a),{ignoreUpdates:c,ignorePrevAsyncUpdates:d,stop:f}=o.watchIgnorable(e,m,{deep:n,flush:r,eventFilter:i});const v=J(e,{...t,clone:t.clone||n,setSource:function(e,t){d(),c(()=>{e.value=t})}}),{clear:p,commit:h}=v;function m(){d(),h()}return{...v,isTracking:s,pause:l,resume:function(e){u(),e&&m()},commit:m,batch:function(e){let t=!1;const n=()=>t=!0;c(()=>{e(n)}),t||m()},dispose:function(){f(),p()}}}function ee(e={}){const{window:t=u}=e,n=m(()=>t&&"DeviceOrientationEvent"in t),o=r.ref(!1),a=r.ref(null),i=r.ref(null),l=r.ref(null);return t&&n.value&&f(t,"deviceorientation",e=>{o.value=e.absolute,a.value=e.alpha,i.value=e.beta,l.value=e.gamma}),{isSupported:n,isAbsolute:o,alpha:a,beta:i,gamma:l}}function te(e,t,n={}){const{window:a=u,...i}=n;let s;const c=m(()=>a&&"ResizeObserver"in a),d=()=>{s&&(s.disconnect(),s=void 0)},f=r.computed(()=>Array.isArray(e)?e.map(e=>l(e)):[l(e)]),v=r.watch(f,e=>{if(d(),c.value&&a){s=new ResizeObserver(t);for(const t of e)t&&s.observe(t,i)}},{immediate:!0,flush:"post"}),p=()=>{d(),v()};return o.tryOnScopeDispose(p),{isSupported:c,stop:p}}function ne(e,t={width:0,height:0},n={}){const{window:a=u,box:i="content-box"}=n,s=r.computed(()=>{var t,n;return null==(n=null==(t=l(e))?void 0:t.namespaceURI)?void 0:n.includes("svg")}),c=r.ref(t.width),d=r.ref(t.height),{stop:f}=te(e,([t])=>{const n="border-box"===i?t.borderBoxSize:"content-box"===i?t.contentBoxSize:t.devicePixelContentBoxSize;if(a&&s.value){const t=l(e);if(t){const e=t.getBoundingClientRect();c.value=e.width,d.value=e.height}}else if(n){const e=Array.isArray(n)?n:[n];c.value=e.reduce((e,{inlineSize:t})=>e+t,0),d.value=e.reduce((e,{blockSize:t})=>e+t,0)}else c.value=t.contentRect.width,d.value=t.contentRect.height},n);o.tryOnMounted(()=>{const n=l(e);n&&(c.value="offsetWidth"in n?n.offsetWidth:t.width,d.value="offsetHeight"in n?n.offsetHeight:t.height)});const v=r.watch(()=>l(e),e=>{c.value=e?t.width:0,d.value=e?t.height:0});return{width:c,height:d,stop:function(){f(),v()}}}function oe(e,t,n={}){const{root:a,rootMargin:i="0px",threshold:s=.1,window:c=u,immediate:d=!0}=n,f=m(()=>c&&"IntersectionObserver"in c),v=r.computed(()=>{const t=o.toValue(e);return(Array.isArray(t)?t:[t]).map(l).filter(o.notNullish)});let p=o.noop;const h=r.ref(d),g=f.value?r.watch(()=>[v.value,l(a),h.value],([e,n])=>{if(p(),!h.value)return;if(!e.length)return;const r=new IntersectionObserver(t,{root:l(n),rootMargin:i,threshold:s});e.forEach(e=>e&&r.observe(e)),p=()=>{r.disconnect(),p=o.noop}},{immediate:d,flush:"post"}):o.noop,y=()=>{p(),g(),h.value=!1};return o.tryOnScopeDispose(y),{isSupported:f,isActive:h,pause(){p(),h.value=!1},resume(){h.value=!0},stop:y}}function re(e,t={}){const{window:n=u,scrollTarget:o,threshold:a=0}=t,i=r.ref(!1);return oe(e,e=>{let t=i.value,n=0;for(const o of e)o.time>=n&&(n=o.time,t=o.isIntersecting);i.value=t},{root:o,window:n,threshold:a}),i}const ae=new Map;const ie={json:"application/json",text:"text/plain"};function le(e){return e&&o.containsProp(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}const ue=/^(?:[a-z][a-z\d+\-.]*:)?\/\//i;function se(e){return"undefined"!=typeof Headers&&e instanceof Headers?Object.fromEntries(e.entries()):e}function ce(e,...t){return"overwrite"===e?async e=>{const n=t[t.length-1];return n?{...e,...await n(e)}:e}:async e=>{for(const n of t)n&&(e={...e,...await n(e)});return e}}function de(e,...t){var n;const a="function"==typeof AbortController;let i={},l={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const s={method:"GET",type:"text",payload:void 0};t.length>0&&(le(t[0])?l={...l,...t[0]}:i=t[0]),t.length>1&&le(t[1])&&(l={...l,...t[1]});const{fetch:c=(null==(n=u)?void 0:n.fetch),initialData:d,timeout:f}=l,v=o.createEventHook(),p=o.createEventHook(),h=o.createEventHook(),m=r.ref(!1),g=r.ref(!1),y=r.ref(!1),w=r.ref(null),b=r.shallowRef(null),x=r.shallowRef(null),S=r.shallowRef(d||null),_=r.computed(()=>a&&g.value);let E,k;const N=()=>{a&&(null==E||E.abort(),E=new AbortController,E.signal.onabort=()=>y.value=!0,i={...i,signal:E.signal})},C=e=>{g.value=e,m.value=!e};f&&(k=o.useTimeoutFn(N,f,{immediate:!1}));let T=0;const A=async(t=!1)=>{var n,r;N(),C(!0),x.value=null,w.value=null,y.value=!1,T+=1;const a=T,u={method:s.method,headers:{}};if(s.payload){const e=se(u.headers),t=o.toValue(s.payload);s.payloadType||!t||Object.getPrototypeOf(t)!==Object.prototype||t instanceof FormData||(s.payloadType="json"),s.payloadType&&(e["Content-Type"]=null!=(n=ie[s.payloadType])?n:s.payloadType),u.body="json"===s.payloadType?JSON.stringify(t):t}let f=!1;const m={url:o.toValue(e),options:{...u,...i},cancel:()=>{f=!0}};if(l.beforeFetch&&Object.assign(m,await l.beforeFetch(m)),f||!c)return C(!1),Promise.resolve(null);let g=null;return k&&k.start(),c(m.url,{...u,...m.options,headers:{...se(u.headers),...se(null==(r=m.options)?void 0:r.headers)}}).then(async e=>{if(b.value=e,w.value=e.status,g=await e.clone()[s.type](),!e.ok)throw S.value=d||null,new Error(e.statusText);return l.afterFetch&&({data:g}=await l.afterFetch({data:g,response:e})),S.value=g,v.trigger(e),e}).catch(async e=>{let n=e.message||e.name;if(l.onFetchError&&({error:n,data:g}=await l.onFetchError({data:g,error:e,response:b.value})),x.value=n,l.updateDataOnError&&(S.value=g),p.trigger(e),t)throw e;return null}).finally(()=>{a===T&&C(!1),k&&k.stop(),h.trigger(null)})},M=o.toRef(l.refetch);r.watch([M,o.toRef(e)],([e])=>e&&A(),{deep:!0});const O={isFinished:r.readonly(m),isFetching:r.readonly(g),statusCode:w,response:b,error:x,data:S,canAbort:_,aborted:y,abort:N,execute:A,onFetchResponse:v.on,onFetchError:p.on,onFetchFinally:h.on,get:I("GET"),put:I("PUT"),post:I("POST"),delete:I("DELETE"),patch:I("PATCH"),head:I("HEAD"),options:I("OPTIONS"),json:V("json"),text:V("text"),blob:V("blob"),arrayBuffer:V("arrayBuffer"),formData:V("formData")};function I(e){return(t,n)=>{if(!g.value)return s.method=e,s.payload=t,s.payloadType=n,r.isRef(s.payload)&&r.watch([M,o.toRef(s.payload)],([e])=>e&&A(),{deep:!0}),{...O,then:(e,t)=>P().then(e,t)}}}function P(){return new Promise((e,t)=>{o.until(m).toBe(!0).then(()=>e(O)).catch(e=>t(e))})}function V(e){return()=>{if(!g.value)return s.type=e,{...O,then:(e,t)=>P().then(e,t)}}}return l.immediate&&Promise.resolve().then(()=>A()),{...O,then:(e,t)=>P().then(e,t)}}const fe={multiple:!0,accept:"*",reset:!1,directory:!1};const ve=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];const pe=["mousemove","mousedown","resize","keydown","touchstart","wheel"];function he(e,t={}){const{throttle:n=0,idle:a=200,onStop:i=o.noop,onScroll:s=o.noop,offset:c={left:0,right:0,top:0,bottom:0},eventListenerOptions:d={capture:!1,passive:!0},behavior:v="auto",window:p=u,onError:h=e=>{}}=t,m=r.ref(0),g=r.ref(0),y=r.computed({get:()=>m.value,set(e){b(e,void 0)}}),w=r.computed({get:()=>g.value,set(e){b(void 0,e)}});function b(t,n){var r,a,i,l;if(!p)return;const u=o.toValue(e);if(!u)return;null==(i=u instanceof Document?p.document.body:u)||i.scrollTo({top:null!=(r=o.toValue(n))?r:w.value,left:null!=(a=o.toValue(t))?a:y.value,behavior:o.toValue(v)});const s=(null==(l=null==u?void 0:u.document)?void 0:l.documentElement)||(null==u?void 0:u.documentElement)||u;null!=y&&(m.value=s.scrollLeft),null!=w&&(g.value=s.scrollTop)}const x=r.ref(!1),S=r.reactive({left:!0,right:!1,top:!0,bottom:!1}),_=r.reactive({left:!1,right:!1,top:!1,bottom:!1}),E=e=>{x.value&&(x.value=!1,_.left=!1,_.right=!1,_.top=!1,_.bottom=!1,i(e))},k=o.useDebounceFn(E,n+a),N=e=>{var t;if(!p)return;const n=(null==(t=null==e?void 0:e.document)?void 0:t.documentElement)||(null==e?void 0:e.documentElement)||l(e),{display:o,flexDirection:r}=getComputedStyle(n),a=n.scrollLeft;_.left=a<m.value,_.right=a>m.value;const i=Math.abs(a)<=(c.left||0),u=Math.abs(a)+n.clientWidth>=n.scrollWidth-(c.right||0)-1;"flex"===o&&"row-reverse"===r?(S.left=u,S.right=i):(S.left=i,S.right=u),m.value=a;let s=n.scrollTop;e!==p.document||s||(s=p.document.body.scrollTop),_.top=s<g.value,_.bottom=s>g.value;const d=Math.abs(s)<=(c.top||0),f=Math.abs(s)+n.clientHeight>=n.scrollHeight-(c.bottom||0)-1;"flex"===o&&"column-reverse"===r?(S.top=f,S.bottom=d):(S.top=d,S.bottom=f),g.value=s},C=e=>{var t;if(!p)return;const n=null!=(t=e.target.documentElement)?t:e.target;N(n),x.value=!0,k(e),s(e)};return f(e,"scroll",n?o.useThrottleFn(C,n,!0,!1):C,d),o.tryOnMounted(()=>{try{const t=o.toValue(e);if(!t)return;N(t)}catch(e){h(e)}}),f(e,"scrollend",E,d),{x:y,y:w,isScrolling:x,arrivedState:S,directions:_,measure(){const t=o.toValue(e);p&&t&&N(t)}}}function me(e){return"undefined"!=typeof Window&&e instanceof Window?e.document.documentElement:"undefined"!=typeof Document&&e instanceof Document?e.documentElement:e}const ge=["mousedown","mouseup","keydown","keyup"];const ye={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function we(e,t){o.toValue(e)&&t(o.toValue(e))}function be(e){return Array.from(e).map(({label:e,kind:t,language:n,mode:o,activeCues:r,cues:a,inBandMetadataTrackDispatchType:i},l)=>({id:l,label:e,kind:t,language:n,mode:o,activeCues:r,cues:a,inBandMetadataTrackDispatchType:i}))}const xe={src:"",tracks:[]};const Se={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function _e(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:o=!1,initialValue:a={x:0,y:0},window:i=u,target:l=i,scroll:s=!0,eventFilter:c}=e;let d=null;const v=r.ref(a.x),p=r.ref(a.y),h=r.ref(null),m="function"==typeof t?t:Se[t],g=e=>{const t=m(e);d=e,t&&([v.value,p.value]=t,h.value="mouse")},y=e=>{if(e.touches.length>0){const t=m(e.touches[0]);t&&([v.value,p.value]=t,h.value="touch")}},w=()=>{if(!d||!i)return;const e=m(d);d instanceof MouseEvent&&e&&(v.value=e[0]+i.scrollX,p.value=e[1]+i.scrollY)},b=()=>{v.value=a.x,p.value=a.y},x=c?e=>c(()=>g(e),{}):e=>g(e),S=c?e=>c(()=>y(e),{}):e=>y(e),_=c?()=>c(()=>w(),{}):()=>w();if(l){const e={passive:!0};f(l,["mousemove","dragover"],x,e),n&&"movement"!==t&&(f(l,["touchstart","touchmove"],S,e),o&&f(l,"touchend",b,e)),s&&"page"===t&&f(i,"scroll",_,{passive:!0})}return{x:v,y:p,sourceType:h}}function Ee(e,t={}){const{handleOutside:n=!0,window:o=u}=t,a=t.type||"page",{x:i,y:s,sourceType:c}=_e(t),d=r.ref(null!=e?e:null==o?void 0:o.document.body),v=r.ref(0),p=r.ref(0),h=r.ref(0),m=r.ref(0),g=r.ref(0),y=r.ref(0),w=r.ref(!0);let b=()=>{};return o&&(b=r.watch([d,i,s],()=>{const e=l(d);if(!e)return;const{left:t,top:r,width:u,height:c}=e.getBoundingClientRect();h.value=t+("page"===a?o.pageXOffset:0),m.value=r+("page"===a?o.pageYOffset:0),g.value=c,y.value=u;const f=i.value-h.value,b=s.value-m.value;w.value=0===u||0===c||f<0||b<0||f>u||b>c,!n&&w.value||(v.value=f,p.value=b)},{immediate:!0}),f(document,"mouseleave",()=>{w.value=!0})),{x:i,y:s,sourceType:c,elementX:v,elementY:p,elementPositionX:h,elementPositionY:m,elementHeight:g,elementWidth:y,isOutside:w,stop:b}}function ke(e={}){const{window:t=u}=e,n=null==t?void 0:t.navigator,o=m(()=>n&&"connection"in n),a=r.ref(!0),i=r.ref(!1),l=r.ref(void 0),s=r.ref(void 0),c=r.ref(void 0),d=r.ref(void 0),v=r.ref(void 0),p=r.ref(void 0),h=r.ref("unknown"),g=o.value&&n.connection;function y(){n&&(a.value=n.onLine,l.value=a.value?void 0:Date.now(),s.value=a.value?Date.now():void 0,g&&(c.value=g.downlink,d.value=g.downlinkMax,p.value=g.effectiveType,v.value=g.rtt,i.value=g.saveData,h.value=g.type))}return t&&(f(t,"offline",()=>{a.value=!1,l.value=Date.now()}),f(t,"online",()=>{a.value=!0,s.value=Date.now()})),g&&f(g,"change",y,!1),y(),{isSupported:o,isOnline:a,saveData:i,offlineAt:l,onlineAt:s,downlink:c,downlinkMax:d,effectiveType:p,rtt:v,type:h}}function Ne(e={}){const{controls:t=!1,interval:n="requestAnimationFrame"}=e,a=r.ref(new Date),i=()=>a.value=new Date,l="requestAnimationFrame"===n?w(i,{immediate:!0}):o.useIntervalFn(i,n,{immediate:!0});return t?{now:a,...l}:a}function Ce(e,t,n){if("function"==typeof e||r.isReadonly(e))return r.computed(()=>o.clamp(o.toValue(e),o.toValue(t),o.toValue(n)));const a=r.ref(e);return r.computed({get:()=>a.value=o.clamp(a.value,o.toValue(t),o.toValue(n)),set(e){a.value=o.clamp(e,o.toValue(t),o.toValue(n))}})}function Te(e={}){const{window:t=u}=e,n=m(()=>t&&"screen"in t&&"orientation"in t.screen),o=n.value?t.screen.orientation:{},a=r.ref(o.type),i=r.ref(o.angle||0);n.value&&f(t,"orientationchange",()=>{a.value=o.type,i.value=o.angle});return{isSupported:n,orientation:a,angle:i,lockOrientation:e=>n.value&&"function"==typeof o.lock?o.lock(e):Promise.reject(new Error("Not supported")),unlockOrientation:()=>{n.value&&"function"==typeof o.unlock&&o.unlock()}}}const Ae={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},Me=Object.keys(Ae);const Oe="--vueuse-safe-area-top",Ie="--vueuse-safe-area-right",Pe="--vueuse-safe-area-bottom",Ve="--vueuse-safe-area-left";function De(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}function Be(e){const t=window.getComputedStyle(e);if("scroll"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowX&&e.clientWidth<e.scrollWidth||"auto"===t.overflowY&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(!t||"BODY"===t.tagName)&&Be(t)}}function Re(e){const t=e||window.event;return!Be(t.target)&&(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))}const ze=new WeakMap;const $e=(e,t)=>e.sort(t),Fe=(e,t)=>e-t;let Le=0;const He=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],je={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>1===e?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>1===e?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>1===e?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>1===e?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Ye(e){return e.toISOString().slice(0,10)}function Ge(e,t={},n=Date.now()){var o;const{max:r,messages:a=je,fullDateFormatter:i=Ye,units:l=He,showSecond:u=!1,rounding:s="round"}=t,c="number"==typeof s?e=>+e.toFixed(s):Math[s],d=+n-+e,f=Math.abs(d);function v(e,t){return c(Math.abs(e)/t.value)}function p(e,t){const n=v(e,t),o=e>0,r=h(t.name,n,o);return h(o?"past":"future",r,o)}function h(e,t,n){const o=a[e];return"function"==typeof o?o(t,n):o.replace("{0}",t.toString())}if(f<6e4&&!u)return a.justNow;if("number"==typeof r&&f>r)return i(new Date(e));if("string"==typeof r){const t=null==(o=l.find(e=>e.name===r))?void 0:o.max;if(t&&f>t)return i(new Date(e))}for(const[e,t]of l.entries()){if(v(d,t)<=0&&l[e-1])return p(d,l[e-1]);if(f<t.max)return p(d,t)}return a.invalid}const Ue={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]},Xe=Object.assign({},{linear:o.identity},Ue);function We([e,t,n,o]){const r=(e,t)=>1-3*t+3*e,a=(e,t)=>3*t-6*e,i=e=>3*e,l=(e,t,n)=>((r(t,n)*e+a(t,n))*e+i(t))*e,u=(e,t,n)=>3*r(t,n)*e*e+2*a(t,n)*e+i(t);return r=>e===t&&n===o?r:l((t=>{let o=t;for(let r=0;r<4;++r){const r=u(o,e,n);if(0===r)return o;o-=(l(o,e,n)-t)/r}return o})(r),t,o)}function qe(e,t,n){return e+n*(t-e)}function Ze(e){return("number"==typeof e?[e]:e)||[]}function Ke(e,t,n,r={}){var a,i;const l=o.toValue(t),u=o.toValue(n),s=Ze(l),c=Ze(u),d=null!=(a=o.toValue(r.duration))?a:1e3,f=Date.now(),v=Date.now()+d,p="function"==typeof r.transition?r.transition:null!=(i=o.toValue(r.transition))?i:o.identity,h="function"==typeof p?p:We(p);return new Promise(t=>{e.value=l;const n=()=>{var o;if(null==(o=r.abort)?void 0:o.call(r))return void t();const a=Date.now(),i=h((a-f)/d),l=Ze(e.value).map((e,t)=>qe(s[t],c[t],i));Array.isArray(e.value)?e.value=l.map((e,t)=>{var n,o;return qe(null!=(n=s[t])?n:0,null!=(o=c[t])?o:0,i)}):"number"==typeof e.value&&(e.value=l[0]),a<v?requestAnimationFrame(n):(e.value=u,t())};n()})}function Je(e,t,n,a={}){var i,l,u,s,c;const{clone:d=!1,passive:f=!1,eventName:v,deep:p=!1,defaultValue:h,shouldEmit:m}=a,g=r.getCurrentInstance(),y=n||(null==g?void 0:g.emit)||(null==(i=null==g?void 0:g.$emit)?void 0:i.bind(g))||(null==(u=null==(l=null==g?void 0:g.proxy)?void 0:l.$emit)?void 0:u.bind(null==g?void 0:g.proxy));let w=v;if(!t)if(r.isVue2){const e=null==(c=null==(s=null==g?void 0:g.proxy)?void 0:s.$options)?void 0:c.model;t=(null==e?void 0:e.value)||"value",v||(w=(null==e?void 0:e.event)||"input")}else t="modelValue";w=w||`update:${t.toString()}`;const b=e=>d?"function"==typeof d?d(e):P(e):e,x=()=>o.isDef(e[t])?b(e[t]):h,S=e=>{m?m(e)&&y(w,e):y(w,e)};if(f){const n=x(),o=r.ref(n);let a=!1;return r.watch(()=>e[t],e=>{a||(a=!0,o.value=b(e),r.nextTick(()=>a=!1))}),r.watch(o,n=>{a||n===e[t]&&!p||S(n)},{deep:p}),o}return r.computed({get:()=>x(),set(e){S(e)}})}function Qe(e){const t=r.ref(null),n=ne(t),o=r.ref([]),a=r.shallowRef(e);return{state:r.ref({start:0,end:10}),source:a,currentList:o,size:n,containerRef:t}}function et(e,t,n){return o=>{if("number"==typeof n)return Math.ceil(o/n);const{start:r=0}=e.value;let a=0,i=0;for(let e=r;e<t.value.length;e++){if(a+=n(e),i=e,a>o)break}return i-r}}function tt(e,t){return n=>{if("number"==typeof t)return Math.floor(n/t)+1;let o=0,r=0;for(let a=0;a<e.value.length;a++){if(o+=t(a),o>=n){r=a;break}}return r+1}}function nt(e,t,n,o,{containerRef:r,state:a,currentList:i,source:l}){return()=>{const u=r.value;if(u){const r=n("vertical"===e?u.scrollTop:u.scrollLeft),s=o("vertical"===e?u.clientHeight:u.clientWidth),c=r-t,d=r+s+t;a.value={start:c<0?0:c,end:d>l.value.length?l.value.length:d},i.value=l.value.slice(a.value.start,a.value.end).map((e,t)=>({data:e,index:t+a.value.start}))}}}function ot(e,t){return n=>{if("number"==typeof e){return n*e}return t.value.slice(0,n).reduce((t,n,o)=>t+e(o),0)}}function rt(e,t,n,o){r.watch([e.width,e.height,t,n],()=>{o()})}function at(e,t){return r.computed(()=>"number"==typeof e?t.value.length*e:t.value.reduce((t,n,o)=>t+e(o),0))}const it={horizontal:"scrollLeft",vertical:"scrollTop"};function lt(e,t,n,o){return r=>{o.value&&(o.value[it[e]]=n(r),t())}}const ut="ping";function st(e){return!0===e?{}:e}function ct(e){return t=>{const n=t.data[0];return Promise.resolve(e.apply(void 0,n)).then(e=>{postMessage(["SUCCESS",e])}).catch(e=>{postMessage(["ERROR",e])})}}function dt(e,t,n){const o=`${function(e,t){if(0===e.length&&0===t.length)return"";const n=e.map(e=>`'${e}'`).toString(),o=t.filter(e=>"function"==typeof e).map(e=>{const t=e.toString();return t.trim().startsWith("function")?t:`const ${e.name} = ${t}`}).join(";"),r=`importScripts(${n});`;return`${""===n.trim()?"":r} ${o}`}(t,n)}; onmessage=(${ct})(${e})`,r=new Blob([o],{type:"text/javascript"});return URL.createObjectURL(r)}t.DefaultMagicKeysAliasMap=ye,t.StorageSerializers=L,t.TransitionPresets=Xe,t.asyncComputed=a,t.breakpointsAntDesign={xs:480,sm:576,md:768,lg:992,xl:1200,xxl:1600},t.breakpointsBootstrapV5={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},t.breakpointsMasterCss={"3xs":360,"2xs":480,xs:600,sm:768,md:1024,lg:1280,xl:1440,"2xl":1600,"3xl":1920,"4xl":2560},t.breakpointsPrimeFlex={sm:576,md:768,lg:992,xl:1200},t.breakpointsQuasar={xs:0,sm:600,md:1024,lg:1440,xl:1920},t.breakpointsSematic={mobileS:320,mobileM:375,mobileL:425,tablet:768,laptop:1024,laptopL:1440,desktop4K:2560},t.breakpointsTailwind={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},t.breakpointsVuetify=M,t.breakpointsVuetifyV2=A,t.breakpointsVuetifyV3={xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560},t.cloneFnJSON=P,t.computedAsync=a,t.computedInject=function(e,t,n,o){let a=r.inject(e);return n&&(a=r.inject(e,n)),o&&(a=r.inject(e,n,o)),"function"==typeof t?r.computed(e=>t(a,e)):r.computed({get:e=>t.get(a,e),set:t.set})},t.createFetch=function(e={}){const t=e.combination||"chain",n=e.options||{},a=e.fetchOptions||{};return function(i,...l){const u=r.computed(()=>{const t=o.toValue(e.baseUrl),n=o.toValue(i);return t&&!function(e){return ue.test(e)}(n)?(a=n,(r=t).endsWith("/")||a.startsWith("/")?`${r}${a}`:`${r}/${a}`):n;var r,a});let s=n,c=a;return l.length>0&&(le(l[0])?s={...s,...l[0],beforeFetch:ce(t,n.beforeFetch,l[0].beforeFetch),afterFetch:ce(t,n.afterFetch,l[0].afterFetch),onFetchError:ce(t,n.onFetchError,l[0].onFetchError)}:c={...c,...l[0],headers:{...se(c.headers)||{},...se(l[0].headers)||{}}}),l.length>1&&le(l[1])&&(s={...s,...l[1],beforeFetch:ce(t,n.beforeFetch,l[1].beforeFetch),afterFetch:ce(t,n.afterFetch,l[1].afterFetch),onFetchError:ce(t,n.onFetchError,l[1].onFetchError)}),de(u,c,s)}},t.createReusableTemplate=function(e={}){if(!r.isVue3&&!r.version.startsWith("2.7."))return void 0;const{inheritAttrs:t=!0}=e,n=r.shallowRef(),a=r.defineComponent({setup:(e,{slots:t})=>()=>{n.value=t.default}}),l=r.defineComponent({inheritAttrs:t,setup:(e,{attrs:o,slots:r})=>()=>{var e;n.value;const a=null==(e=n.value)?void 0:e.call(n,{...i(o),$slots:r});return t&&1===(null==a?void 0:a.length)?a[0]:a}});return o.makeDestructurable({define:a,reuse:l},[a,l])},t.createTemplatePromise=function(e={}){if(!r.isVue3)return void 0;let t=0;const n=r.ref([]),o=r.defineComponent((t,{slots:o})=>{const a=()=>n.value.map(e=>{var t;return r.h(r.Fragment,{key:e.key},null==(t=o.default)?void 0:t.call(o,e))});return e.transition?()=>r.h(r.TransitionGroup,e.transition,a):a});return o.start=function(...o){return e.singleton&&n.value.length>0?n.value[0].promise:function(...o){const a=r.shallowReactive({key:t++,args:o,promise:void 0,resolve:()=>{},reject:()=>{},isResolving:!1,options:e});return n.value.push(a),a.promise=new Promise((e,t)=>{a.resolve=t=>(a.isResolving=!0,e(t)),a.reject=t}).finally(()=>{a.promise=void 0;const e=n.value.indexOf(a);-1!==e&&n.value.splice(e,1)}),a.promise}(...o)},o},t.createUnrefFn=function(e){return function(...t){return e.apply(this,t.map(e=>o.toValue(e)))}},t.customStorageEventName=H,t.defaultDocument=s,t.defaultLocation=d,t.defaultNavigator=c,t.defaultWindow=u,t.executeTransition=Ke,t.formatTimeAgo=Ge,t.getSSRHandler=z,t.mapGamepadToXbox360Controller=function(e){return r.computed(()=>e.value?{buttons:{a:e.value.buttons[0],b:e.value.buttons[1],x:e.value.buttons[2],y:e.value.buttons[3]},bumper:{left:e.value.buttons[4],right:e.value.buttons[5]},triggers:{left:e.value.buttons[6],right:e.value.buttons[7]},stick:{left:{horizontal:e.value.axes[0],vertical:e.value.axes[1],button:e.value.buttons[10]},right:{horizontal:e.value.axes[2],vertical:e.value.axes[3],button:e.value.buttons[11]}},dpad:{up:e.value.buttons[12],down:e.value.buttons[13],left:e.value.buttons[14],right:e.value.buttons[15]},back:e.value.buttons[8],start:e.value.buttons[9]}:null)},t.onClickOutside=function(e,t,n={}){const{window:r=u,ignore:a=[],capture:i=!0,detectIframe:s=!1}=n;if(!r)return o.noop;o.isIOS&&!v&&(v=!0,Array.from(r.document.body.children).forEach(e=>e.addEventListener("click",o.noop)),r.document.documentElement.addEventListener("click",o.noop));let c=!0;const d=e=>a.some(t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{const n=l(t);return n&&(e.target===n||e.composedPath().includes(n))}}),p=[f(r,"click",n=>{const o=l(e);o&&o!==n.target&&!n.composedPath().includes(o)&&(0===n.detail&&(c=!d(n)),c?t(n):c=!0)},{passive:!0,capture:i}),f(r,"pointerdown",t=>{const n=l(e);c=!d(t)&&!(!n||t.composedPath().includes(n))},{passive:!0}),s&&f(r,"blur",n=>{setTimeout(()=>{var o;const a=l(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==a?void 0:a.contains(r.document.activeElement))||t(n)},0)})].filter(Boolean);return()=>p.forEach(e=>e())},t.onKeyDown=function(e,t,n={}){return p(e,t,{...n,eventName:"keydown"})},t.onKeyPressed=function(e,t,n={}){return p(e,t,{...n,eventName:"keypress"})},t.onKeyStroke=p,t.onKeyUp=function(e,t,n={}){return p(e,t,{...n,eventName:"keyup"})},t.onLongPress=function(e,t,n){var o,a;const i=r.computed(()=>l(e));let u,s,c,d=!1;function v(){u&&(clearTimeout(u),u=void 0),s=void 0,c=void 0,d=!1}const p={capture:null==(o=null==n?void 0:n.modifiers)?void 0:o.capture,once:null==(a=null==n?void 0:n.modifiers)?void 0:a.once},h=[f(i,"pointerdown",function(e){var o,r,a,l;(null==(o=null==n?void 0:n.modifiers)?void 0:o.self)&&e.target!==i.value||(v(),(null==(r=null==n?void 0:n.modifiers)?void 0:r.prevent)&&e.preventDefault(),(null==(a=null==n?void 0:n.modifiers)?void 0:a.stop)&&e.stopPropagation(),s={x:e.x,y:e.y},c=e.timeStamp,u=setTimeout(()=>{d=!0,t(e)},null!=(l=null==n?void 0:n.delay)?l:500))},p),f(i,"pointermove",function(e){var t,o,r,a;if((null==(t=null==n?void 0:n.modifiers)?void 0:t.self)&&e.target!==i.value)return;if(!s||!1===(null==n?void 0:n.distanceThreshold))return;(null==(o=null==n?void 0:n.modifiers)?void 0:o.prevent)&&e.preventDefault(),(null==(r=null==n?void 0:n.modifiers)?void 0:r.stop)&&e.stopPropagation();const l=e.x-s.x,u=e.y-s.y;Math.sqrt(l*l+u*u)>=(null!=(a=null==n?void 0:n.distanceThreshold)?a:10)&&v()},p),f(i,["pointerup","pointerleave"],function(e){var t,o,r;const[a,l,u]=[c,s,d];if(v(),!(null==n?void 0:n.onMouseUp)||!l||!a)return;if((null==(t=null==n?void 0:n.modifiers)?void 0:t.self)&&e.target!==i.value)return;(null==(o=null==n?void 0:n.modifiers)?void 0:o.prevent)&&e.preventDefault(),(null==(r=null==n?void 0:n.modifiers)?void 0:r.stop)&&e.stopPropagation();const f=e.x-l.x,p=e.y-l.y,h=Math.sqrt(f*f+p*p);n.onMouseUp(e.timeStamp-a,h,u)},p)];return()=>h.forEach(e=>e())},t.onStartTyping=function(e,t={}){const{document:n=s}=t;n&&f(n,"keydown",t=>{!function(){const{activeElement:e,body:t}=document;if(!e)return!1;if(e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}()&&function({keyCode:e,metaKey:t,ctrlKey:n,altKey:o}){return!(t||n||o)&&(e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)}(t)&&e(t)},{passive:!0})},t.setSSRHandler=function(e,t){B[e]=t},t.templateRef=function(e,t=null){const n=r.getCurrentInstance();let a=()=>{};const i=r.customRef((o,r)=>(a=r,{get(){var r,a;return o(),null!=(a=null==(r=null==n?void 0:n.proxy)?void 0:r.$refs[e])?a:t},set(){}}));return o.tryOnMounted(a),r.onUpdated(a),i},t.unrefElement=l,t.useActiveElement=y,t.useAnimate=function(e,t,n){let a,i;o.isObject(n)?(a=n,i=o.objectOmit(n,["window","immediate","commitStyles","persist","onReady","onError"])):(a={duration:n},i=n);const{window:s=u,immediate:c=!0,commitStyles:d,persist:v,playbackRate:p=1,onReady:h,onError:g=e=>{}}=a,y=m(()=>s&&HTMLElement&&"animate"in HTMLElement.prototype),b=r.shallowRef(void 0),x=r.shallowReactive({startTime:null,currentTime:null,timeline:null,playbackRate:p,pending:!1,playState:c?"idle":"paused",replaceState:"active"}),S=r.computed(()=>x.pending),_=r.computed(()=>x.playState),E=r.computed(()=>x.replaceState),k=r.computed({get:()=>x.startTime,set(e){x.startTime=e,b.value&&(b.value.startTime=e)}}),N=r.computed({get:()=>x.currentTime,set(e){x.currentTime=e,b.value&&(b.value.currentTime=e,P())}}),C=r.computed({get:()=>x.timeline,set(e){x.timeline=e,b.value&&(b.value.timeline=e)}}),T=r.computed({get:()=>x.playbackRate,set(e){x.playbackRate=e,b.value&&(b.value.playbackRate=e)}}),A=()=>{var e;try{null==(e=b.value)||e.cancel(),V()}catch(e){g(e)}};function M(n){const r=l(e);y.value&&r&&(b.value||(b.value=r.animate(o.toValue(t),i)),v&&b.value.persist(),1!==p&&(b.value.playbackRate=p),n&&!c?b.value.pause():P(),null==h||h(b.value))}r.watch(()=>l(e),e=>{e&&M()}),r.watch(()=>t,t=>{!b.value&&M(),!l(e)&&b.value&&(b.value.effect=new KeyframeEffect(l(e),o.toValue(t),i))},{deep:!0}),o.tryOnMounted(()=>{r.nextTick(()=>M(!0))}),o.tryOnScopeDispose(A),f(b,["cancel","finish","remove"],V),f(b,"finish",()=>{var e;d&&(null==(e=b.value)||e.commitStyles())});const{resume:O,pause:I}=w(()=>{b.value&&(x.pending=b.value.pending,x.playState=b.value.playState,x.replaceState=b.value.replaceState,x.startTime=b.value.startTime,x.currentTime=b.value.currentTime,x.timeline=b.value.timeline,x.playbackRate=b.value.playbackRate)},{immediate:!1});function P(){y.value&&O()}function V(){y.value&&s&&s.requestAnimationFrame(I)}return{isSupported:y,animate:b,play:()=>{if(b.value)try{b.value.play(),P()}catch(e){V(),g(e)}else M()},pause:()=>{var e;try{null==(e=b.value)||e.pause(),V()}catch(e){g(e)}},reverse:()=>{var e;!b.value&&M();try{null==(e=b.value)||e.reverse(),P()}catch(e){V(),g(e)}},finish:()=>{var e;try{null==(e=b.value)||e.finish(),V()}catch(e){g(e)}},cancel:A,pending:S,playState:_,replaceState:E,startTime:k,currentTime:N,timeline:C,playbackRate:T}},t.useAsyncQueue=function(e,t){const{interrupt:n=!0,onError:a=o.noop,onFinished:i=o.noop,signal:l}=t||{},u="aborted",s="fulfilled",c="pending",d="rejected",f=Array.from(Array.from({length:e.length}),()=>({state:c,data:null})),v=r.reactive(f),p=r.ref(-1);if(!e||0===e.length)return i(),{activeIndex:p,result:v};function h(e,t){p.value++,v[p.value].data=t,v[p.value].state=e}return e.reduce((t,o)=>t.then(t=>{var r;if(null==l?void 0:l.aborted)return void h(u,new Error("aborted"));if((null==(r=v[p.value])?void 0:r.state)===d&&n)return void i();const a=o(t).then(t=>(h(s,t),p.value===e.length-1&&i(),t));return l?Promise.race([a,b(l)]):a}).catch(e=>(null==l?void 0:l.aborted)?(h(u,e),e):(h(d,e),a(),e)),Promise.resolve()),{activeIndex:p,result:v}},t.useAsyncState=x,t.useBase64=function(e,t){const n=r.ref(""),a=r.ref();function i(){if(o.isClient)return a.value=new Promise((n,r)=>{try{const a=o.toValue(e);if(null==a)n("");else if("string"==typeof a)n(C(new Blob([a],{type:"text/plain"})));else if(a instanceof Blob)n(C(a));else if(a instanceof ArrayBuffer)n(window.btoa(String.fromCharCode(...new Uint8Array(a))));else if(a instanceof HTMLCanvasElement)n(a.toDataURL(null==t?void 0:t.type,null==t?void 0:t.quality));else if(a instanceof HTMLImageElement){const e=a.cloneNode(!1);e.crossOrigin="Anonymous",function(e){return new Promise((t,n)=>{e.complete?t():(e.onload=()=>{t()},e.onerror=n)})}(e).then(()=>{const o=document.createElement("canvas"),r=o.getContext("2d");o.width=e.width,o.height=e.height,r.drawImage(e,0,0,o.width,o.height),n(o.toDataURL(null==t?void 0:t.type,null==t?void 0:t.quality))}).catch(r)}else{if("object"==typeof a){const e=(null==t?void 0:t.serializer)||function(e){return e?e instanceof Map?k:e instanceof Set?E:Array.isArray(e)?S:_:N}(a),o=e(a);return n(C(new Blob([o],{type:"application/json"})))}r(new Error("target is unsupported types"))}}catch(e){r(e)}}),a.value.then(e=>n.value=e),a.value}return r.isRef(e)||"function"==typeof e?r.watch(e,i,{immediate:!0}):i(),{base64:n,promise:a,execute:i}},t.useBattery=function(e={}){const{navigator:t=c}=e,n=["chargingchange","chargingtimechange","dischargingtimechange","levelchange"],o=m(()=>t&&"getBattery"in t&&"function"==typeof t.getBattery),a=r.ref(!1),i=r.ref(0),l=r.ref(0),u=r.ref(1);let s;function d(){a.value=this.charging,i.value=this.chargingTime||0,l.value=this.dischargingTime||0,u.value=this.level}return o.value&&t.getBattery().then(e=>{s=e,d.call(s),f(s,n,d,{passive:!0})}),{isSupported:o,charging:a,chargingTime:i,dischargingTime:l,level:u}},t.useBluetooth=function(e){let{acceptAllDevices:t=!1}=e||{};const{filters:n,optionalServices:a,navigator:i=c}=e||{},l=m(()=>i&&"bluetooth"in i),u=r.shallowRef(void 0),s=r.shallowRef(null);r.watch(u,()=>{!async function(){if(s.value=null,u.value&&u.value.gatt){u.value.addEventListener("gattserverdisconnected",()=>{});try{d.value=await u.value.gatt.connect()}catch(e){s.value=e}}}()});const d=r.ref(),f=r.computed(()=>{var e;return(null==(e=d.value)?void 0:e.connected)||!1});return o.tryOnMounted(()=>{var e;u.value&&(null==(e=u.value.gatt)||e.connect())}),o.tryOnScopeDispose(()=>{var e;u.value&&(null==(e=u.value.gatt)||e.disconnect())}),{isSupported:l,isConnected:f,device:u,requestDevice:async function(){if(l.value){s.value=null,n&&n.length>0&&(t=!1);try{u.value=await(null==i?void 0:i.bluetooth.requestDevice({acceptAllDevices:t,filters:n,optionalServices:a}))}catch(e){s.value=e}}},server:d,error:s}},t.useBreakpoints=function(e,t={}){function n(t,n){let r=o.toValue(e[o.toValue(t)]);return null!=n&&(r=o.increaseWithUnit(r,n)),"number"==typeof r&&(r=`${r}px`),r}const{window:a=u,strategy:i="min-width"}=t;function l(e){return!!a&&a.matchMedia(e).matches}const s=e=>T(()=>`(min-width: ${n(e)})`,t),c=e=>T(()=>`(max-width: ${n(e)})`,t),d=Object.keys(e).reduce((e,t)=>(Object.defineProperty(e,t,{get:()=>"min-width"===i?s(t):c(t),enumerable:!0,configurable:!0}),e),{});function f(){const t=Object.keys(e).map(e=>[e,s(e)]);return r.computed(()=>t.filter(([,e])=>e.value).map(([e])=>e))}return Object.assign(d,{greaterOrEqual:s,smallerOrEqual:c,greater:e=>T(()=>`(min-width: ${n(e,.1)})`,t),smaller:e=>T(()=>`(max-width: ${n(e,-.1)})`,t),between:(e,o)=>T(()=>`(min-width: ${n(e)}) and (max-width: ${n(o,-.1)})`,t),isGreater:e=>l(`(min-width: ${n(e,.1)})`),isGreaterOrEqual:e=>l(`(min-width: ${n(e)})`),isSmaller:e=>l(`(max-width: ${n(e,-.1)})`),isSmallerOrEqual:e=>l(`(max-width: ${n(e)})`),isInBetween:(e,t)=>l(`(min-width: ${n(e)}) and (max-width: ${n(t,-.1)})`),current:f,active(){const e=f();return r.computed(()=>0===e.value.length?"":e.value.at(-1))}})},t.useBroadcastChannel=function(e){const{name:t,window:n=u}=e,a=m(()=>n&&"BroadcastChannel"in n),i=r.ref(!1),l=r.ref(),s=r.ref(),c=r.shallowRef(null),d=()=>{l.value&&l.value.close(),i.value=!0};return a.value&&o.tryOnMounted(()=>{c.value=null,l.value=new BroadcastChannel(t),l.value.addEventListener("message",e=>{s.value=e.data},{passive:!0}),l.value.addEventListener("messageerror",e=>{c.value=e},{passive:!0}),l.value.addEventListener("close",()=>{i.value=!0})}),o.tryOnScopeDispose(()=>{d()}),{isSupported:a,channel:l,data:s,post:e=>{l.value&&l.value.postMessage(e)},close:d,error:c,isClosed:i}},t.useBrowserLocation=function(e={}){const{window:t=u}=e,n=Object.fromEntries(O.map(e=>[e,r.ref()]));for(const[e,a]of o.objectEntries(n))r.watch(a,n=>{(null==t?void 0:t.location)&&t.location[e]!==n&&(t.location[e]=n)});const a=e=>{var o;const{state:a,length:i}=(null==t?void 0:t.history)||{},{origin:l}=(null==t?void 0:t.location)||{};for(const e of O)n[e].value=null==(o=null==t?void 0:t.location)?void 0:o[e];return r.reactive({trigger:e,state:a,length:i,origin:l,...n})},i=r.ref(a("load"));return t&&(f(t,"popstate",()=>i.value=a("popstate"),{passive:!0}),f(t,"hashchange",()=>i.value=a("hashchange"),{passive:!0})),i},t.useCached=function(e,t=(e,t)=>e===t,n){const o=r.ref(e.value);return r.watch(()=>e.value,e=>{t(e,o.value)||(o.value=e)},n),o},t.useClipboard=function(e={}){const{navigator:t=c,read:n=!1,source:a,copiedDuring:i=1500,legacy:l=!1}=e,u=m(()=>t&&"clipboard"in t),s=I("clipboard-read"),d=I("clipboard-write"),v=r.computed(()=>u.value||l),p=r.ref(""),h=r.ref(!1),g=o.useTimeoutFn(()=>h.value=!1,i);function y(e){return"granted"===e||"prompt"===e}return v.value&&n&&f(["copy","cut"],function(){var e,n,o;u.value&&y(s.value)?t.clipboard.readText().then(e=>{p.value=e}):p.value=null!=(o=null==(n=null==(e=null==document?void 0:document.getSelection)?void 0:e.call(document))?void 0:n.toString())?o:""}),{isSupported:v,text:p,copied:h,copy:async function(e=o.toValue(a)){v.value&&null!=e&&(u.value&&y(d.value)?await t.clipboard.writeText(e):function(e){const t=document.createElement("textarea");t.value=null!=e?e:"",t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}(e),p.value=e,h.value=!0,g.start())}}},t.useClipboardItems=function(e={}){const{navigator:t=c,read:n=!1,source:a,copiedDuring:i=1500}=e,l=m(()=>t&&"clipboard"in t),u=r.ref([]),s=r.ref(!1),d=o.useTimeoutFn(()=>s.value=!1,i);return l.value&&n&&f(["copy","cut"],function(){l.value&&t.clipboard.read().then(e=>{u.value=e})}),{isSupported:l,content:u,copied:s,copy:async function(e=o.toValue(a)){l.value&&null!=e&&(await t.clipboard.write(e),u.value=e,s.value=!0,d.start())}}},t.useCloned=function(e,t={}){const n=r.ref({}),{manual:a,clone:i=P,deep:l=!0,immediate:u=!0}=t;function s(){n.value=i(o.toValue(e))}return a||!r.isRef(e)&&"function"!=typeof e?s():r.watch(e,s,{...t,deep:l,immediate:u}),{cloned:n,sync:s}},t.useColorMode=G,t.useConfirmDialog=function(e=r.ref(!1)){const t=o.createEventHook(),n=o.createEventHook(),a=o.createEventHook();let i=o.noop;return{isRevealed:r.computed(()=>e.value),reveal:t=>(a.trigger(t),e.value=!0,new Promise(e=>{i=e})),confirm:n=>{e.value=!1,t.trigger(n),i({data:n,isCanceled:!1})},cancel:t=>{e.value=!1,n.trigger(t),i({data:t,isCanceled:!0})},onReveal:a.on,onConfirm:t.on,onCancel:n.on}},t.useCssVar=U,t.useCurrentElement=X,t.useCycleList=function(e,t){const n=r.shallowRef(null!=(i=o.toValue(null!=(a=null==t?void 0:t.initialValue)?a:o.toValue(e)[0]))?i:void 0);var a,i;const l=o.toRef(e),u=r.computed({get(){var e;const o=l.value;let r=(null==t?void 0:t.getIndexOf)?t.getIndexOf(n.value,o):o.indexOf(n.value);return r<0&&(r=null!=(e=null==t?void 0:t.fallbackIndex)?e:0),r},set(e){s(e)}});function s(e){const t=l.value,o=t.length,r=t[(e%o+o)%o];return n.value=r,r}function c(e=1){return s(u.value+e)}return r.watch(l,()=>s(u.value)),{state:n,index:u,next:function(e=1){return c(e)},prev:function(e=1){return c(-e)},go:s}},t.useDark=function(e={}){const{valueDark:t="dark",valueLight:n="",window:o=u}=e,a=G({...e,onChanged:(t,n)=>{var o;e.onChanged?null==(o=e.onChanged)||o.call(e,"dark"===t,n,t):n(t)},modes:{dark:t,light:n}}),i=r.computed(()=>{if(a.system)return a.system.value;return Y({window:o}).value?"dark":"light"});return r.computed({get:()=>"dark"===a.value,set(e){const t=e?"dark":"light";i.value===t?a.value="auto":a.value=t}})},t.useDebouncedRefHistory=function(e,t={}){const n=t.debounce?o.debounceFilter(t.debounce):void 0;return{...Q(e,{...t,eventFilter:n})}},t.useDeviceMotion=function(e={}){const{window:t=u,eventFilter:n=o.bypassFilter}=e,a=r.ref({x:null,y:null,z:null}),i=r.ref({alpha:null,beta:null,gamma:null}),l=r.ref(0),s=r.ref({x:null,y:null,z:null});if(t){f(t,"devicemotion",o.createFilterWrapper(n,e=>{a.value=e.acceleration,s.value=e.accelerationIncludingGravity,i.value=e.rotationRate,l.value=e.interval}))}return{acceleration:a,accelerationIncludingGravity:s,rotationRate:i,interval:l}},t.useDeviceOrientation=ee,t.useDevicePixelRatio=function(e={}){const{window:t=u}=e,n=r.ref(1);if(t){let e,r=function(){n.value=t.devicePixelRatio,a(),e=t.matchMedia(`(resolution: ${n.value}dppx)`),e.addEventListener("change",r,{once:!0})},a=function(){null==e||e.removeEventListener("change",r)};r(),o.tryOnScopeDispose(a)}return{pixelRatio:n}},t.useDevicesList=function(e={}){const{navigator:t=c,requestPermissions:n=!1,constraints:o={audio:!0,video:!0},onUpdated:a}=e,i=r.ref([]),l=r.computed(()=>i.value.filter(e=>"videoinput"===e.kind)),u=r.computed(()=>i.value.filter(e=>"audioinput"===e.kind)),s=r.computed(()=>i.value.filter(e=>"audiooutput"===e.kind)),d=m(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),v=r.ref(!1);let p;async function h(){d.value&&(i.value=await t.mediaDevices.enumerateDevices(),null==a||a(i.value),p&&(p.getTracks().forEach(e=>e.stop()),p=null))}async function g(){if(!d.value)return!1;if(v.value)return!0;const{state:e,query:n}=I("camera",{controls:!0});return await n(),"granted"!==e.value?(p=await t.mediaDevices.getUserMedia(o),h(),v.value=!0):v.value=!0,v.value}return d.value&&(n&&g(),f(t.mediaDevices,"devicechange",h),h()),{devices:i,ensurePermissions:g,permissionGranted:v,videoInputs:l,audioInputs:u,audioOutputs:s,isSupported:d}},t.useDisplayMedia=function(e={}){var t;const n=r.ref(null!=(t=e.enabled)&&t),o=e.video,a=e.audio,{navigator:i=c}=e,l=m(()=>{var e;return null==(e=null==i?void 0:i.mediaDevices)?void 0:e.getDisplayMedia}),u={audio:a,video:o},s=r.shallowRef();async function d(){var e;if(l.value&&!s.value)return s.value=await i.mediaDevices.getDisplayMedia(u),null==(e=s.value)||e.getTracks().forEach(e=>e.addEventListener("ended",v)),s.value}async function f(){var e;null==(e=s.value)||e.getTracks().forEach(e=>e.stop()),s.value=void 0}function v(){f(),n.value=!1}return r.watch(n,e=>{e?d():f()},{immediate:!0}),{isSupported:l,stream:s,start:async function(){return await d(),s.value&&(n.value=!0),s.value},stop:v,enabled:n}},t.useDocumentVisibility=function(e={}){const{document:t=s}=e;if(!t)return r.ref("visible");const n=r.ref(t.visibilityState);return f(t,"visibilitychange",()=>{n.value=t.visibilityState}),n},t.useDraggable=function(e,t={}){var n,a;const{pointerTypes:i,preventDefault:l,stopPropagation:s,exact:c,onMove:d,onEnd:v,onStart:p,initialValue:h,axis:m="both",draggingElement:g=u,containerElement:y,handle:w=e}=t,b=r.ref(null!=(n=o.toValue(h))?n:{x:0,y:0}),x=r.ref(),S=e=>!i||i.includes(e.pointerType),_=e=>{o.toValue(l)&&e.preventDefault(),o.toValue(s)&&e.stopPropagation()},E=n=>{var r;if(0!==n.button)return;if(o.toValue(t.disabled)||!S(n))return;if(o.toValue(c)&&n.target!==o.toValue(e))return;const a=o.toValue(y),i=null==(r=null==a?void 0:a.getBoundingClientRect)?void 0:r.call(a),l=o.toValue(e).getBoundingClientRect(),u={x:n.clientX-(a?l.left-i.left+a.scrollLeft:l.left),y:n.clientY-(a?l.top-i.top+a.scrollTop:l.top)};!1!==(null==p?void 0:p(u,n))&&(x.value=u,_(n))},k=n=>{if(o.toValue(t.disabled)||!S(n))return;if(!x.value)return;const r=o.toValue(y),a=o.toValue(e).getBoundingClientRect();let{x:i,y:l}=b.value;"x"!==m&&"both"!==m||(i=n.clientX-x.value.x,r&&(i=Math.min(Math.max(0,i),r.scrollWidth-a.width))),"y"!==m&&"both"!==m||(l=n.clientY-x.value.y,r&&(l=Math.min(Math.max(0,l),r.scrollHeight-a.height))),b.value={x:i,y:l},null==d||d(b.value,n),_(n)},N=e=>{!o.toValue(t.disabled)&&S(e)&&x.value&&(x.value=void 0,null==v||v(b.value,e),_(e))};if(o.isClient){const e={capture:null==(a=t.capture)||a};f(w,"pointerdown",E,e),f(g,"pointermove",k,e),f(g,"pointerup",N,e)}return{...o.toRefs(b),position:b,isDragging:r.computed(()=>!!x.value),style:r.computed(()=>`left:${b.value.x}px;top:${b.value.y}px;`)}},t.useDropZone=function(e,t={}){const n=r.ref(!1),a=r.shallowRef(null);let i=0,l=!0;if(o.isClient){const u="function"==typeof t?{onDrop:t}:t,s=e=>{var t,n;const o=Array.from(null!=(n=null==(t=e.dataTransfer)?void 0:t.files)?n:[]);return a.value=0===o.length?null:o};f(e,"dragenter",e=>{var t,a;const c=Array.from((null==(t=null==e?void 0:e.dataTransfer)?void 0:t.items)||[]).map(e=>"file"===e.kind?e.type:null).filter(o.notNullish);if(u.dataTypes&&e.dataTransfer){const e=r.unref(u.dataTypes);if(l="function"==typeof e?e(c):!e||e.some(e=>c.includes(e)),!l)return}e.preventDefault(),i+=1,n.value=!0,null==(a=u.onEnter)||a.call(u,s(e),e)}),f(e,"dragover",e=>{var t;l&&(e.preventDefault(),null==(t=u.onOver)||t.call(u,s(e),e))}),f(e,"dragleave",e=>{var t;l&&(e.preventDefault(),i-=1,0===i&&(n.value=!1),null==(t=u.onLeave)||t.call(u,s(e),e))}),f(e,"drop",e=>{var t;e.preventDefault(),i=0,n.value=!1,null==(t=u.onDrop)||t.call(u,s(e),e)})}return{files:a,isOverDropZone:n}},t.useElementBounding=function(e,t={}){const{reset:n=!0,windowResize:a=!0,windowScroll:i=!0,immediate:u=!0}=t,s=r.ref(0),c=r.ref(0),d=r.ref(0),v=r.ref(0),p=r.ref(0),h=r.ref(0),m=r.ref(0),y=r.ref(0);function w(){const t=l(e);if(!t)return void(n&&(s.value=0,c.value=0,d.value=0,v.value=0,p.value=0,h.value=0,m.value=0,y.value=0));const o=t.getBoundingClientRect();s.value=o.height,c.value=o.bottom,d.value=o.left,v.value=o.right,p.value=o.top,h.value=o.width,m.value=o.x,y.value=o.y}return te(e,w),r.watch(()=>l(e),e=>!e&&w()),g(e,w,{attributeFilter:["style","class"]}),i&&f("scroll",w,{capture:!0,passive:!0}),a&&f("resize",w,{passive:!0}),o.tryOnMounted(()=>{u&&w()}),{height:s,bottom:c,left:d,right:v,top:p,width:h,x:m,y,update:w}},t.useElementByPoint=function(e){const{x:t,y:n,document:a=s,multiple:i,interval:l="requestAnimationFrame",immediate:u=!0}=e,c=m(()=>o.toValue(i)?a&&"elementsFromPoint"in a:a&&"elementFromPoint"in a),d=r.ref(null),f=()=>{var e,r;d.value=o.toValue(i)?null!=(e=null==a?void 0:a.elementsFromPoint(o.toValue(t),o.toValue(n)))?e:[]:null!=(r=null==a?void 0:a.elementFromPoint(o.toValue(t),o.toValue(n)))?r:null},v="requestAnimationFrame"===l?w(f,{immediate:u}):o.useIntervalFn(f,l,{immediate:u});return{isSupported:c,element:d,...v}},t.useElementHover=function(e,t={}){const{delayEnter:n=0,delayLeave:o=0,window:a=u}=t,i=r.ref(!1);let l;const s=e=>{const t=e?n:o;l&&(clearTimeout(l),l=void 0),t?l=setTimeout(()=>i.value=e,t):i.value=e};return a?(f(e,"mouseenter",()=>s(!0),{passive:!0}),f(e,"mouseleave",()=>s(!1),{passive:!0}),i):i},t.useElementSize=ne,t.useElementVisibility=re,t.useEventBus=function(e){const t=r.getCurrentScope();function n(n){var r;const a=ae.get(e)||new Set;a.add(n),ae.set(e,a);const i=()=>o(n);return null==(r=null==t?void 0:t.cleanups)||r.push(i),i}function o(t){const n=ae.get(e);n&&(n.delete(t),n.size||a())}function a(){ae.delete(e)}return{on:n,once:function(e){return n(function t(...n){o(t),e(...n)})},off:o,emit:function(t,n){var o;null==(o=ae.get(e))||o.forEach(e=>e(t,n))},reset:a}},t.useEventListener=f,t.useEventSource=function(e,t=[],n={}){const a=r.ref(null),i=r.ref(null),l=r.ref("CONNECTING"),u=r.ref(null),s=r.shallowRef(null),c=o.toRef(e),d=r.shallowRef(null);let v=!1,p=0;const{withCredentials:h=!1,immediate:m=!0}=n,g=()=>{o.isClient&&u.value&&(u.value.close(),u.value=null,l.value="CLOSED",v=!0)},y=()=>{if(v||void 0===c.value)return;const e=new EventSource(c.value,{withCredentials:h});l.value="CONNECTING",u.value=e,e.onopen=()=>{l.value="OPEN",s.value=null},e.onerror=t=>{if(l.value="CLOSED",s.value=t,2===e.readyState&&!v&&n.autoReconnect){e.close();const{retries:t=-1,delay:o=1e3,onFailed:r}=function(e){return!0===e?{}:e}(n.autoReconnect);p+=1,"number"==typeof t&&(t<0||p<t)||"function"==typeof t&&t()?setTimeout(y,o):null==r||r()}},e.onmessage=e=>{a.value=null,i.value=e.data,d.value=e.lastEventId};for(const n of t)f(e,n,e=>{a.value=n,i.value=e.data||null})},w=()=>{o.isClient&&(g(),v=!1,p=0,y())};return m&&r.watch(c,w,{immediate:!0}),o.tryOnScopeDispose(g),{eventSource:u,event:a,data:i,status:l,error:s,open:w,close:g,lastEventId:d}},t.useEyeDropper=function(e={}){const{initialValue:t=""}=e,n=m(()=>"undefined"!=typeof window&&"EyeDropper"in window),o=r.ref(t);return{isSupported:n,sRGBHex:o,open:async function(e){if(!n.value)return;const t=new window.EyeDropper,r=await t.open(e);return o.value=r.sRGBHex,r}}},t.useFavicon=function(e=null,t={}){const{baseUrl:n="",rel:a="icon",document:i=s}=t,l=o.toRef(e);return r.watch(l,(e,t)=>{"string"==typeof e&&e!==t&&(e=>{const t=null==i?void 0:i.head.querySelectorAll(`link[rel*="${a}"]`);if(!t||0===t.length){const t=null==i?void 0:i.createElement("link");return void(t&&(t.rel=a,t.href=`${n}${e}`,t.type=`image/${e.split(".").pop()}`,null==i||i.head.append(t)))}null==t||t.forEach(t=>t.href=`${n}${e}`)})(e)},{immediate:!0}),l},t.useFetch=de,t.useFileDialog=function(e={}){const{document:t=s}=e,n=r.ref(null),{on:a,trigger:i}=o.createEventHook();let l;t&&(l=t.createElement("input"),l.type="file",l.onchange=e=>{const t=e.target;n.value=t.files,i(n.value)});const u=()=>{n.value=null,l&&l.value&&(l.value="",i(null))};return{files:r.readonly(n),open:t=>{if(!l)return;const n={...fe,...e,...t};l.multiple=n.multiple,l.accept=n.accept,l.webkitdirectory=n.directory,o.hasOwn(n,"capture")&&(l.capture=n.capture),n.reset&&u(),l.click()},reset:u,onChange:a}},t.useFileSystemAccess=function(e={}){const{window:t=u,dataType:n="Text"}=e,a=t,i=m(()=>a&&"showSaveFilePicker"in a&&"showOpenFilePicker"in a),l=r.ref(),s=r.ref(),c=r.ref(),d=r.computed(()=>{var e,t;return null!=(t=null==(e=c.value)?void 0:e.name)?t:""}),f=r.computed(()=>{var e,t;return null!=(t=null==(e=c.value)?void 0:e.type)?t:""}),v=r.computed(()=>{var e,t;return null!=(t=null==(e=c.value)?void 0:e.size)?t:0}),p=r.computed(()=>{var e,t;return null!=(t=null==(e=c.value)?void 0:e.lastModified)?t:0});async function h(t={}){if(i.value){if(l.value=await a.showSaveFilePicker({...e,...t}),s.value){const e=await l.value.createWritable();await e.write(s.value),await e.close()}await g()}}async function g(){var e;c.value=await(null==(e=l.value)?void 0:e.getFile())}async function y(){var e,t;await g();const r=o.toValue(n);"Text"===r?s.value=await(null==(e=c.value)?void 0:e.text()):"ArrayBuffer"===r?s.value=await(null==(t=c.value)?void 0:t.arrayBuffer()):"Blob"===r&&(s.value=c.value)}return r.watch(()=>o.toValue(n),y),{isSupported:i,data:s,file:c,fileName:d,fileMIME:f,fileSize:v,fileLastModified:p,open:async function(t={}){if(!i.value)return;const[n]=await a.showOpenFilePicker({...o.toValue(e),...t});l.value=n,await y()},create:async function(t={}){i.value&&(l.value=await a.showSaveFilePicker({...e,...t}),s.value=void 0,await y())},save:async function(e={}){if(i.value){if(!l.value)return h(e);if(s.value){const e=await l.value.createWritable();await e.write(s.value),await e.close()}await g()}},saveAs:h,updateData:y}},t.useFocus=function(e,t={}){const{initialValue:n=!1,focusVisible:o=!1,preventScroll:a=!1}=t,i=r.ref(!1),u=r.computed(()=>l(e));f(u,"focus",e=>{var t,n;o&&!(null==(n=(t=e.target).matches)?void 0:n.call(t,":focus-visible"))||(i.value=!0)}),f(u,"blur",()=>i.value=!1);const s=r.computed({get:()=>i.value,set(e){var t,n;!e&&i.value?null==(t=u.value)||t.blur():e&&!i.value&&(null==(n=u.value)||n.focus({preventScroll:a}))}});return r.watch(u,()=>{s.value=n},{immediate:!0,flush:"post"}),{focused:s}},t.useFocusWithin=function(e,t={}){const n=y(t),o=r.computed(()=>l(e));return{focused:r.computed(()=>!(!o.value||!n.value)&&o.value.contains(n.value))}},t.useFps=function(e){var t;const n=r.ref(0);if("undefined"==typeof performance)return n;const o=null!=(t=null==e?void 0:e.every)?t:10;let a=performance.now(),i=0;return w(()=>{if(i+=1,i>=o){const e=performance.now(),t=e-a;n.value=Math.round(1e3/(t/i)),a=e,i=0}}),n},t.useFullscreen=function(e,t={}){const{document:n=s,autoExit:a=!1}=t,i=r.computed(()=>{var t;return null!=(t=l(e))?t:null==n?void 0:n.querySelector("html")}),u=r.ref(!1),c=r.computed(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(e=>n&&e in n||i.value&&e in i.value)),d=r.computed(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(e=>n&&e in n||i.value&&e in i.value)),v=r.computed(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(e=>n&&e in n||i.value&&e in i.value)),p=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(e=>n&&e in n),h=m(()=>i.value&&n&&void 0!==c.value&&void 0!==d.value&&void 0!==v.value),g=()=>{if(v.value){if(n&&null!=n[v.value])return n[v.value];{const e=i.value;if(null!=(null==e?void 0:e[v.value]))return Boolean(e[v.value])}}return!1};async function y(){if(h.value&&u.value){if(d.value)if(null!=(null==n?void 0:n[d.value]))await n[d.value]();else{const e=i.value;null!=(null==e?void 0:e[d.value])&&await e[d.value]()}u.value=!1}}async function w(){if(!h.value||u.value)return;g()&&await y();const e=i.value;c.value&&null!=(null==e?void 0:e[c.value])&&(await e[c.value](),u.value=!0)}const b=()=>{const e=g();(!e||e&&p&&(null==n?void 0:n[p])===i.value)&&(u.value=e)};return f(n,ve,b,!1),f(()=>l(i),ve,b,!1),a&&o.tryOnScopeDispose(y),{isSupported:h,isFullscreen:u,enter:w,exit:y,toggle:async function(){await(u.value?y():w())}}},t.useGamepad=function(e={}){const{navigator:t=c}=e,n=m(()=>t&&"getGamepads"in t),a=r.ref([]),i=o.createEventHook(),l=o.createEventHook(),u=e=>{const t=[],n="vibrationActuator"in e?e.vibrationActuator:null;return n&&t.push(n),e.hapticActuators&&t.push(...e.hapticActuators),{id:e.id,index:e.index,connected:e.connected,mapping:e.mapping,timestamp:e.timestamp,vibrationActuator:e.vibrationActuator,hapticActuators:t,axes:e.axes.map(e=>e),buttons:e.buttons.map(e=>({pressed:e.pressed,touched:e.touched,value:e.value}))}},{isActive:s,pause:d,resume:v}=w(()=>{const e=(null==t?void 0:t.getGamepads())||[];for(const t of e)t&&a.value[t.index]&&(a.value[t.index]=u(t))}),p=e=>{a.value.some(({index:t})=>t===e.index)||(a.value.push(u(e)),i.trigger(e.index)),v()};return f("gamepadconnected",e=>p(e.gamepad)),f("gamepaddisconnected",e=>{return t=e.gamepad,a.value=a.value.filter(e=>e.index!==t.index),void l.trigger(t.index);var t}),o.tryOnMounted(()=>{const e=(null==t?void 0:t.getGamepads())||[];for(const t of e)t&&a.value[t.index]&&p(t)}),d(),{isSupported:n,onConnected:i.on,onDisconnected:l.on,gamepads:a,pause:d,resume:v,isActive:s}},t.useGeolocation=function(e={}){const{enableHighAccuracy:t=!0,maximumAge:n=3e4,timeout:a=27e3,navigator:i=c,immediate:l=!0}=e,u=m(()=>i&&"geolocation"in i),s=r.ref(null),d=r.shallowRef(null),f=r.ref({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function v(e){s.value=e.timestamp,f.value=e.coords,d.value=null}let p;function h(){u.value&&(p=i.geolocation.watchPosition(v,e=>d.value=e,{enableHighAccuracy:t,maximumAge:n,timeout:a}))}function g(){p&&i&&i.geolocation.clearWatch(p)}return l&&h(),o.tryOnScopeDispose(()=>{g()}),{isSupported:u,coords:f,locatedAt:s,error:d,resume:h,pause:g}},t.useIdle=function(e=6e4,t={}){const{initialState:n=!1,listenForVisibilityChange:a=!0,events:i=pe,window:l=u,eventFilter:s=o.throttleFilter(50)}=t,c=r.ref(n),d=r.ref(o.timestamp());let v;const p=()=>{c.value=!1,clearTimeout(v),v=setTimeout(()=>c.value=!0,e)},h=o.createFilterWrapper(s,()=>{d.value=o.timestamp(),p()});if(l){const e=l.document;for(const e of i)f(l,e,h,{passive:!0});a&&f(e,"visibilitychange",()=>{e.hidden||h()}),p()}return{idle:c,lastActive:d,reset:p}},t.useImage=function(e,t={}){const n=x(()=>async function(e){return new Promise((t,n)=>{const o=new Image,{src:r,srcset:a,sizes:i,class:l,loading:u,crossorigin:s,referrerPolicy:c}=e;o.src=r,a&&(o.srcset=a),i&&(o.sizes=i),l&&(o.className=l),u&&(o.loading=u),s&&(o.crossOrigin=s),c&&(o.referrerPolicy=c),o.onload=()=>t(o),o.onerror=n})}(o.toValue(e)),void 0,{resetOnExecute:!0,...t});return r.watch(()=>o.toValue(e),()=>n.execute(t.delay),{deep:!0}),n},t.useInfiniteScroll=function(e,t,n={}){var a;const{direction:i="bottom",interval:l=100,canLoadMore:u=()=>!0}=n,s=r.reactive(he(e,{...n,offset:{[i]:null!=(a=n.distance)?a:0,...n.offset}})),c=r.ref(),d=r.computed(()=>!!c.value),f=r.computed(()=>me(o.toValue(e))),v=re(f);return r.watch(()=>[s.arrivedState[i],v.value],function e(){if(s.measure(),!f.value||!v.value||!u(f.value))return;const{scrollHeight:n,clientHeight:o,scrollWidth:a,clientWidth:d}=f.value,p="bottom"===i||"top"===i?n<=o:a<=d;(s.arrivedState[i]||p)&&(c.value||(c.value=Promise.all([t(s),new Promise(e=>setTimeout(e,l))]).finally(()=>{c.value=null,r.nextTick(()=>e())})))},{immediate:!0}),{isLoading:d}},t.useIntersectionObserver=oe,t.useKeyModifier=function(e,t={}){const{events:n=ge,document:o=s,initial:a=null}=t,i=r.ref(a);return o&&n.forEach(t=>{f(o,t,t=>{"function"==typeof t.getModifierState&&(i.value=t.getModifierState(e))})}),i},t.useLocalStorage=function(e,t,n={}){const{window:o=u}=n;return j(e,t,null==o?void 0:o.localStorage,n)},t.useMagicKeys=function(e={}){const{reactive:t=!1,target:n=u,aliasMap:a=ye,passive:i=!0,onEventFired:l=o.noop}=e,s=r.reactive(new Set),c={toJSON:()=>({}),current:s},d=t?r.reactive(c):c,v=new Set,p=new Set;function h(e,n){e in d&&(t?d[e]=n:d[e].value=n)}function m(){s.clear();for(const e of p)h(e,!1)}function g(e,t){var n,o;const r=null==(n=e.key)?void 0:n.toLowerCase(),a=[null==(o=e.code)?void 0:o.toLowerCase(),r].filter(Boolean);r&&(t?s.add(r):s.delete(r));for(const e of a)p.add(e),h(e,t);"meta"!==r||t?"function"==typeof e.getModifierState&&e.getModifierState("Meta")&&t&&[...s,...a].forEach(e=>v.add(e)):(v.forEach(e=>{s.delete(e),h(e,!1)}),v.clear())}f(n,"keydown",e=>(g(e,!0),l(e)),{passive:i}),f(n,"keyup",e=>(g(e,!1),l(e)),{passive:i}),f("blur",m,{passive:!0}),f("focus",m,{passive:!0});const y=new Proxy(d,{get(e,n,i){if("string"!=typeof n)return Reflect.get(e,n,i);if((n=n.toLowerCase())in a&&(n=a[n]),!(n in d))if(/[+_-]/.test(n)){const e=n.split(/[+_-]/g).map(e=>e.trim());d[n]=r.computed(()=>e.every(e=>o.toValue(y[e])))}else d[n]=r.ref(!1);const l=Reflect.get(e,n,i);return t?o.toValue(l):l}});return y},t.useManualRefHistory=J,t.useMediaControls=function(e,t={}){e=o.toRef(e),t={...xe,...t};const{document:n=s}=t,a=r.ref(0),i=r.ref(0),l=r.ref(!1),u=r.ref(1),c=r.ref(!1),d=r.ref(!1),v=r.ref(!1),p=r.ref(1),h=r.ref(!1),m=r.ref([]),g=r.ref([]),y=r.ref(-1),w=r.ref(!1),b=r.ref(!1),x=n&&"pictureInPictureEnabled"in n,S=o.createEventHook(),_=t=>{we(e,e=>{if(t){const n="number"==typeof t?t:t.id;e.textTracks[n].mode="disabled"}else for(let t=0;t<e.textTracks.length;++t)e.textTracks[t].mode="disabled";y.value=-1})};r.watchEffect(()=>{if(!n)return;const r=o.toValue(e);if(!r)return;const a=o.toValue(t.src);let i=[];a&&("string"==typeof a?i=[{src:a}]:Array.isArray(a)?i=a:o.isObject(a)&&(i=[a]),r.querySelectorAll("source").forEach(e=>{e.removeEventListener("error",S.trigger),e.remove()}),i.forEach(({src:e,type:t})=>{const o=n.createElement("source");o.setAttribute("src",e),o.setAttribute("type",t||""),o.addEventListener("error",S.trigger),r.appendChild(o)}),r.load())}),o.tryOnScopeDispose(()=>{const t=o.toValue(e);t&&t.querySelectorAll("source").forEach(e=>e.removeEventListener("error",S.trigger))}),r.watch([e,u],()=>{const t=o.toValue(e);t&&(t.volume=u.value)}),r.watch([e,b],()=>{const t=o.toValue(e);t&&(t.muted=b.value)}),r.watch([e,p],()=>{const t=o.toValue(e);t&&(t.playbackRate=p.value)}),r.watchEffect(()=>{if(!n)return;const r=o.toValue(t.tracks),a=o.toValue(e);r&&r.length&&a&&(a.querySelectorAll("track").forEach(e=>e.remove()),r.forEach(({default:e,kind:t,label:o,src:r,srcLang:i},l)=>{const u=n.createElement("track");u.default=e||!1,u.kind=t,u.label=o,u.src=r,u.srclang=i,u.default&&(y.value=l),a.appendChild(u)}))});const{ignoreUpdates:E}=o.watchIgnorable(a,t=>{const n=o.toValue(e);n&&(n.currentTime=t)}),{ignoreUpdates:k}=o.watchIgnorable(v,t=>{const n=o.toValue(e);n&&(t?n.play():n.pause())});f(e,"timeupdate",()=>E(()=>a.value=o.toValue(e).currentTime)),f(e,"durationchange",()=>i.value=o.toValue(e).duration),f(e,"progress",()=>m.value=function(e){let t=[];for(let n=0;n<e.length;++n)t=[...t,[e.start(n),e.end(n)]];return t}(o.toValue(e).buffered)),f(e,"seeking",()=>l.value=!0),f(e,"seeked",()=>l.value=!1),f(e,["waiting","loadstart"],()=>{c.value=!0,k(()=>v.value=!1)}),f(e,"loadeddata",()=>c.value=!1),f(e,"playing",()=>{c.value=!1,d.value=!1,k(()=>v.value=!0)}),f(e,"ratechange",()=>p.value=o.toValue(e).playbackRate),f(e,"stalled",()=>h.value=!0),f(e,"ended",()=>d.value=!0),f(e,"pause",()=>k(()=>v.value=!1)),f(e,"play",()=>k(()=>v.value=!0)),f(e,"enterpictureinpicture",()=>w.value=!0),f(e,"leavepictureinpicture",()=>w.value=!1),f(e,"volumechange",()=>{const t=o.toValue(e);t&&(u.value=t.volume,b.value=t.muted)});const N=[],C=r.watch([e],()=>{const t=o.toValue(e);t&&(C(),N[0]=f(t.textTracks,"addtrack",()=>g.value=be(t.textTracks)),N[1]=f(t.textTracks,"removetrack",()=>g.value=be(t.textTracks)),N[2]=f(t.textTracks,"change",()=>g.value=be(t.textTracks)))});return o.tryOnScopeDispose(()=>N.forEach(e=>e())),{currentTime:a,duration:i,waiting:c,seeking:l,ended:d,stalled:h,buffered:m,playing:v,rate:p,volume:u,muted:b,tracks:g,selectedTrack:y,enableTrack:(t,n=!0)=>{we(e,e=>{const o="number"==typeof t?t:t.id;n&&_(),e.textTracks[o].mode="showing",y.value=o})},disableTrack:_,supportsPictureInPicture:x,togglePictureInPicture:()=>new Promise((t,o)=>{we(e,async e=>{x&&(w.value?n.exitPictureInPicture().then(t).catch(o):e.requestPictureInPicture().then(t).catch(o))})}),isPictureInPicture:w,onSourceError:S.on}},t.useMediaQuery=T,t.useMemoize=function(e,t){const n=(null==t?void 0:t.cache)?r.shallowReactive(t.cache):r.isVue2?function(){const e=r.shallowReactive({});return{get:t=>e[t],set:(t,n)=>r.set(e,t,n),has:t=>o.hasOwn(e,t),delete:t=>r.del(e,t),clear:()=>{Object.keys(e).forEach(t=>{r.del(e,t)})}}}():r.shallowReactive(new Map),a=(...e)=>(null==t?void 0:t.getKey)?t.getKey(...e):JSON.stringify(e),i=(t,...o)=>(n.set(t,e(...o)),n.get(t)),l=(...e)=>{const t=a(...e);return n.has(t)?n.get(t):i(t,...e)};return l.load=(...e)=>i(a(...e),...e),l.delete=(...e)=>{n.delete(a(...e))},l.clear=()=>{n.clear()},l.generateKey=a,l.cache=n,l},t.useMemory=function(e={}){const t=r.ref(),n=m(()=>"undefined"!=typeof performance&&"memory"in performance);if(n.value){const{interval:n=1e3}=e;o.useIntervalFn(()=>{t.value=performance.memory},n,{immediate:e.immediate,immediateCallback:e.immediateCallback})}return{isSupported:n,memory:t}},t.useMounted=h,t.useMouse=_e,t.useMouseInElement=Ee,t.useMousePressed=function(e={}){const{touch:t=!0,drag:n=!0,capture:o=!1,initialValue:a=!1,window:i=u}=e,s=r.ref(a),c=r.ref(null);if(!i)return{pressed:s,sourceType:c};const d=e=>()=>{s.value=!0,c.value=e},v=()=>{s.value=!1,c.value=null},p=r.computed(()=>l(e.target)||i);return f(p,"mousedown",d("mouse"),{passive:!0,capture:o}),f(i,"mouseleave",v,{passive:!0,capture:o}),f(i,"mouseup",v,{passive:!0,capture:o}),n&&(f(p,"dragstart",d("mouse"),{passive:!0,capture:o}),f(i,"drop",v,{passive:!0,capture:o}),f(i,"dragend",v,{passive:!0,capture:o})),t&&(f(p,"touchstart",d("touch"),{passive:!0,capture:o}),f(i,"touchend",v,{passive:!0,capture:o}),f(i,"touchcancel",v,{passive:!0,capture:o})),{pressed:s,sourceType:c}},t.useMutationObserver=g,t.useNavigatorLanguage=function(e={}){const{window:t=u}=e,n=null==t?void 0:t.navigator,o=m(()=>n&&"language"in n),a=r.ref(null==n?void 0:n.language);return f(t,"languagechange",()=>{n&&(a.value=n.language)}),{isSupported:o,language:a}},t.useNetwork=ke,t.useNow=Ne,t.useObjectUrl=function(e){const t=r.ref(),n=()=>{t.value&&URL.revokeObjectURL(t.value),t.value=void 0};return r.watch(()=>o.toValue(e),e=>{n(),e&&(t.value=URL.createObjectURL(e))},{immediate:!0}),o.tryOnScopeDispose(n),r.readonly(t)},t.useOffsetPagination=function(e){const{total:t=Number.POSITIVE_INFINITY,pageSize:n=10,page:a=1,onPageChange:i=o.noop,onPageSizeChange:l=o.noop,onPageCountChange:u=o.noop}=e,s=Ce(n,1,Number.POSITIVE_INFINITY),c=r.computed(()=>Math.max(1,Math.ceil(o.toValue(t)/o.toValue(s)))),d=Ce(a,1,c),f=r.computed(()=>1===d.value),v=r.computed(()=>d.value===c.value);r.isRef(a)&&o.syncRef(a,d,{direction:r.isReadonly(a)?"ltr":"both"}),r.isRef(n)&&o.syncRef(n,s,{direction:r.isReadonly(n)?"ltr":"both"});const p={currentPage:d,currentPageSize:s,pageCount:c,isFirstPage:f,isLastPage:v,prev:function(){d.value--},next:function(){d.value++}};return r.watch(d,()=>{i(r.reactive(p))}),r.watch(s,()=>{l(r.reactive(p))}),r.watch(c,()=>{u(r.reactive(p))}),p},t.useOnline=function(e={}){const{isOnline:t}=ke(e);return t},t.usePageLeave=function(e={}){const{window:t=u}=e,n=r.ref(!1),o=e=>{if(!t)return;const o=(e=e||t.event).relatedTarget||e.toElement;n.value=!o};return t&&(f(t,"mouseout",o,{passive:!0}),f(t.document,"mouseleave",o,{passive:!0}),f(t.document,"mouseenter",o,{passive:!0})),n},t.useParallax=function(e,t={}){const{deviceOrientationTiltAdjust:n=e=>e,deviceOrientationRollAdjust:o=e=>e,mouseTiltAdjust:a=e=>e,mouseRollAdjust:i=e=>e,window:l=u}=t,s=r.reactive(ee({window:l})),c=r.reactive(Te({window:l})),{elementX:d,elementY:f,elementWidth:v,elementHeight:p}=Ee(e,{handleOutside:!1,window:l}),h=r.computed(()=>s.isSupported&&(null!=s.alpha&&0!==s.alpha||null!=s.gamma&&0!==s.gamma)?"deviceOrientation":"mouse");return{roll:r.computed(()=>{if("deviceOrientation"===h.value){let e;switch(c.orientation){case"landscape-primary":e=s.gamma/90;break;case"landscape-secondary":e=-s.gamma/90;break;case"portrait-primary":default:e=-s.beta/90;break;case"portrait-secondary":e=s.beta/90}return o(e)}{const e=-(f.value-p.value/2)/p.value;return i(e)}}),tilt:r.computed(()=>{if("deviceOrientation"===h.value){let e;switch(c.orientation){case"landscape-primary":e=s.beta/90;break;case"landscape-secondary":e=-s.beta/90;break;case"portrait-primary":default:e=s.gamma/90;break;case"portrait-secondary":e=-s.gamma/90}return n(e)}{const e=(d.value-v.value/2)/v.value;return a(e)}}),source:h}},t.useParentElement=function(e=X()){const t=r.shallowRef(),n=()=>{const n=l(e);n&&(t.value=n.parentElement)};return o.tryOnMounted(n),r.watch(()=>o.toValue(e),n),t},t.usePerformanceObserver=function(e,t){const{window:n=u,immediate:r=!0,...a}=e,i=m(()=>n&&"PerformanceObserver"in n);let l;const s=()=>{null==l||l.disconnect()},c=()=>{i.value&&(s(),l=new PerformanceObserver(t),l.observe(a))};return o.tryOnScopeDispose(s),r&&c(),{isSupported:i,start:c,stop:s}},t.usePermission=I,t.usePointer=function(e={}){const{target:t=u}=e,n=r.ref(!1),a=r.ref(e.initialValue||{});if(Object.assign(a.value,Ae,a.value),t){const r={passive:!0};f(t,["pointerdown","pointermove","pointerup"],t=>{n.value=!0,e.pointerTypes&&!e.pointerTypes.includes(t.pointerType)||(a.value=o.objectPick(t,Me,!1))},r),f(t,"pointerleave",()=>n.value=!1,r)}return{...o.toRefs(a),isInside:n}},t.usePointerLock=function(e,t={}){const{document:n=s}=t,a=m(()=>n&&"pointerLockElement"in n),i=r.ref(),u=r.ref();let c;return a.value&&(f(n,"pointerlockchange",()=>{var e;const t=null!=(e=n.pointerLockElement)?e:i.value;c&&t===c&&(i.value=n.pointerLockElement,i.value||(c=u.value=null))}),f(n,"pointerlockerror",()=>{var e;const t=null!=(e=n.pointerLockElement)?e:i.value;if(c&&t===c){const e=n.pointerLockElement?"release":"acquire";throw new Error(`Failed to ${e} pointer lock.`)}})),{isSupported:a,element:i,triggerElement:u,lock:async function(t){var n;if(!a.value)throw new Error("Pointer Lock API is not supported by your browser.");if(u.value=t instanceof Event?t.currentTarget:null,c=t instanceof Event?null!=(n=l(e))?n:u.value:l(t),!c)throw new Error("Target element undefined.");return c.requestPointerLock(),await o.until(i).toBe(c)},unlock:async function(){return!!i.value&&(n.exitPointerLock(),await o.until(i).toBeNull(),!0)}}},t.usePointerSwipe=function(e,t={}){const n=o.toRef(e),{threshold:a=50,onSwipe:i,onSwipeEnd:l,onSwipeStart:u,disableTextSelect:s=!1}=t,c=r.reactive({x:0,y:0}),d=r.reactive({x:0,y:0}),v=(e,t)=>{d.x=e,d.y=t},p=r.computed(()=>c.x-d.x),h=r.computed(()=>c.y-d.y),{max:m,abs:g}=Math,y=r.computed(()=>m(g(p.value),g(h.value))>=a),w=r.ref(!1),b=r.ref(!1),x=r.computed(()=>y.value?g(p.value)>g(h.value)?p.value>0?"left":"right":h.value>0?"up":"down":"none"),S=e=>{var n,o,r;const a=0===e.buttons,i=1===e.buttons;return null==(r=null!=(o=null==(n=t.pointerTypes)?void 0:n.includes(e.pointerType))?o:a||i)||r},_=[f(e,"pointerdown",e=>{if(!S(e))return;b.value=!0;const t=e.target;null==t||t.setPointerCapture(e.pointerId);const{clientX:n,clientY:o}=e;((e,t)=>{c.x=e,c.y=t})(n,o),v(n,o),null==u||u(e)}),f(e,"pointermove",e=>{if(!S(e))return;if(!b.value)return;const{clientX:t,clientY:n}=e;v(t,n),!w.value&&y.value&&(w.value=!0),w.value&&(null==i||i(e))}),f(e,"pointerup",e=>{S(e)&&(w.value&&(null==l||l(e,x.value)),b.value=!1,w.value=!1)})];return o.tryOnMounted(()=>{var e,t,o,r,a,i,l,u;null==(t=null==(e=n.value)?void 0:e.style)||t.setProperty("touch-action","none"),s&&(null==(r=null==(o=n.value)?void 0:o.style)||r.setProperty("-webkit-user-select","none"),null==(i=null==(a=n.value)?void 0:a.style)||i.setProperty("-ms-user-select","none"),null==(u=null==(l=n.value)?void 0:l.style)||u.setProperty("user-select","none"))}),{isSwiping:r.readonly(w),direction:r.readonly(x),posStart:r.readonly(c),posEnd:r.readonly(d),distanceX:p,distanceY:h,stop:()=>_.forEach(e=>e())}},t.usePreferredColorScheme=function(e){const t=T("(prefers-color-scheme: light)",e),n=T("(prefers-color-scheme: dark)",e);return r.computed(()=>n.value?"dark":t.value?"light":"no-preference")},t.usePreferredContrast=function(e){const t=T("(prefers-contrast: more)",e),n=T("(prefers-contrast: less)",e),o=T("(prefers-contrast: custom)",e);return r.computed(()=>t.value?"more":n.value?"less":o.value?"custom":"no-preference")},t.usePreferredDark=Y,t.usePreferredLanguages=function(e={}){const{window:t=u}=e;if(!t)return r.ref(["en"]);const n=t.navigator,o=r.ref(n.languages);return f(t,"languagechange",()=>{o.value=n.languages}),o},t.usePreferredReducedMotion=function(e){const t=T("(prefers-reduced-motion: reduce)",e);return r.computed(()=>t.value?"reduce":"no-preference")},t.usePrevious=function(e,t){const n=r.shallowRef(t);return r.watch(o.toRef(e),(e,t)=>{n.value=t},{flush:"sync"}),r.readonly(n)},t.useRafFn=w,t.useRefHistory=Q,t.useResizeObserver=te,t.useScreenOrientation=Te,t.useScreenSafeArea=function(){const e=r.ref(""),t=r.ref(""),n=r.ref(""),a=r.ref("");if(o.isClient){const e=U(Oe),t=U(Ie),n=U(Pe),r=U(Ve);e.value="env(safe-area-inset-top, 0px)",t.value="env(safe-area-inset-right, 0px)",n.value="env(safe-area-inset-bottom, 0px)",r.value="env(safe-area-inset-left, 0px)",i(),f("resize",o.useDebounceFn(i))}function i(){e.value=De(Oe),t.value=De(Ie),n.value=De(Pe),a.value=De(Ve)}return{top:e,right:t,bottom:n,left:a,update:i}},t.useScriptTag=function(e,t=o.noop,n={}){const{immediate:a=!0,manual:i=!1,type:l="text/javascript",async:u=!0,crossOrigin:c,referrerPolicy:d,noModule:f,defer:v,document:p=s,attrs:h={}}=n,m=r.ref(null);let g=null;const y=(n=!0)=>(g||(g=(n=>new Promise((r,a)=>{const i=e=>(m.value=e,r(e),e);if(!p)return void r(!1);let s=!1,g=p.querySelector(`script[src="${o.toValue(e)}"]`);g?g.hasAttribute("data-loaded")&&i(g):(g=p.createElement("script"),g.type=l,g.async=u,g.src=o.toValue(e),v&&(g.defer=v),c&&(g.crossOrigin=c),f&&(g.noModule=f),d&&(g.referrerPolicy=d),Object.entries(h).forEach(([e,t])=>null==g?void 0:g.setAttribute(e,t)),s=!0),g.addEventListener("error",e=>a(e)),g.addEventListener("abort",e=>a(e)),g.addEventListener("load",()=>{g.setAttribute("data-loaded","true"),t(g),i(g)}),s&&(g=p.head.appendChild(g)),n||i(g)}))(n)),g),w=()=>{if(!p)return;g=null,m.value&&(m.value=null);const t=p.querySelector(`script[src="${o.toValue(e)}"]`);t&&p.head.removeChild(t)};return a&&!i&&o.tryOnMounted(y),i||o.tryOnUnmounted(w),{scriptTag:m,load:y,unload:w}},t.useScroll=he,t.useScrollLock=function(e,t=!1){const n=r.ref(t);let a=null,i="";r.watch(o.toRef(e),e=>{const t=me(o.toValue(e));if(t){const e=t;if(ze.get(e)||ze.set(e,e.style.overflow),"hidden"!==e.style.overflow&&(i=e.style.overflow),"hidden"===e.style.overflow)return n.value=!0;if(n.value)return e.style.overflow="hidden"}},{immediate:!0});const l=()=>{const t=me(o.toValue(e));t&&n.value&&(o.isIOS&&(null==a||a()),t.style.overflow=i,ze.delete(t),n.value=!1)};return o.tryOnScopeDispose(l),r.computed({get:()=>n.value,set(t){t?(()=>{const t=me(o.toValue(e));t&&!n.value&&(o.isIOS&&(a=f(t,"touchmove",e=>{Re(e)},{passive:!1})),t.style.overflow="hidden",n.value=!0)})():l()}})},t.useSessionStorage=function(e,t,n={}){const{window:o=u}=n;return j(e,t,null==o?void 0:o.sessionStorage,n)},t.useShare=function(e={},t={}){const{navigator:n=c}=t,r=n,a=m(()=>r&&"canShare"in r);return{isSupported:a,share:async(t={})=>{if(a.value){const n={...o.toValue(e),...o.toValue(t)};let a=!0;if(n.files&&r.canShare&&(a=r.canShare({files:n.files})),a)return r.share(n)}}}},t.useSorted=function(...e){var t,n,a,i;const[l]=e;let u=Fe,s={};2===e.length?"object"==typeof e[1]?(s=e[1],u=null!=(t=s.compareFn)?t:Fe):u=null!=(n=e[1])?n:Fe:e.length>2&&(u=null!=(a=e[1])?a:Fe,s=null!=(i=e[2])?i:{});const{dirty:c=!1,sortFn:d=$e}=s;return c?(r.watchEffect(()=>{const e=d(o.toValue(l),u);r.isRef(l)?l.value=e:l.splice(0,l.length,...e)}),l):r.computed(()=>d([...o.toValue(l)],u))},t.useSpeechRecognition=function(e={}){const{interimResults:t=!0,continuous:n=!0,window:a=u}=e,i=o.toRef(e.lang||"en-US"),l=r.ref(!1),s=r.ref(!1),c=r.ref(""),d=r.shallowRef(void 0),f=a&&(a.SpeechRecognition||a.webkitSpeechRecognition),v=m(()=>f);let p;return v.value&&(p=new f,p.continuous=n,p.interimResults=t,p.lang=o.toValue(i),p.onstart=()=>{s.value=!1},r.watch(i,e=>{p&&!l.value&&(p.lang=e)}),p.onresult=e=>{const t=e.results[e.resultIndex],{transcript:n}=t[0];s.value=t.isFinal,c.value=n,d.value=void 0},p.onerror=e=>{d.value=e},p.onend=()=>{l.value=!1,p.lang=o.toValue(i)},r.watch(l,()=>{l.value?p.start():p.stop()})),o.tryOnScopeDispose(()=>{l.value=!1}),{isSupported:v,isListening:l,isFinal:s,recognition:p,result:c,error:d,toggle:(e=!l.value)=>{l.value=e},start:()=>{l.value=!0},stop:()=>{l.value=!1}}},t.useSpeechSynthesis=function(e,t={}){const{pitch:n=1,rate:a=1,volume:i=1,window:l=u}=t,s=l&&l.speechSynthesis,c=m(()=>s),d=r.ref(!1),f=r.ref("init"),v=o.toRef(e||""),p=o.toRef(t.lang||"en-US"),h=r.shallowRef(void 0),g=e=>{e.lang=o.toValue(p),e.voice=o.toValue(t.voice)||null,e.pitch=o.toValue(n),e.rate=o.toValue(a),e.volume=i,e.onstart=()=>{d.value=!0,f.value="play"},e.onpause=()=>{d.value=!1,f.value="pause"},e.onresume=()=>{d.value=!0,f.value="play"},e.onend=()=>{d.value=!1,f.value="end"},e.onerror=e=>{h.value=e}},y=r.computed(()=>{d.value=!1,f.value="init";const e=new SpeechSynthesisUtterance(v.value);return g(e),e});return c.value&&(g(y.value),r.watch(p,e=>{y.value&&!d.value&&(y.value.lang=e)}),t.voice&&r.watch(t.voice,()=>{s.cancel()}),r.watch(d,()=>{d.value?s.resume():s.pause()})),o.tryOnScopeDispose(()=>{d.value=!1}),{isSupported:c,isPlaying:d,status:f,utterance:y,error:h,stop:()=>{s.cancel(),d.value=!1},toggle:(e=!d.value)=>{d.value=e},speak:()=>{s.cancel(),y&&s.speak(y.value)}}},t.useStepper=function(e,t){const n=r.ref(e),o=r.computed(()=>Array.isArray(n.value)?n.value:Object.keys(n.value)),a=r.ref(o.value.indexOf(null!=t?t:o.value[0])),i=r.computed(()=>d(a.value)),l=r.computed(()=>0===a.value),u=r.computed(()=>a.value===o.value.length-1),s=r.computed(()=>o.value[a.value+1]),c=r.computed(()=>o.value[a.value-1]);function d(e){return Array.isArray(n.value)?n.value[e]:n.value[o.value[e]]}function f(e){o.value.includes(e)&&(a.value=o.value.indexOf(e))}function v(e){return a.value>o.value.indexOf(e)}return{steps:n,stepNames:o,index:a,current:i,next:s,previous:c,isFirst:l,isLast:u,at:d,get:function(e){if(o.value.includes(e))return d(o.value.indexOf(e))},goTo:f,goToNext:function(){u.value||a.value++},goToPrevious:function(){l.value||a.value--},goBackTo:function(e){v(e)&&f(e)},isNext:function(e){return o.value.indexOf(e)===a.value+1},isPrevious:function(e){return o.value.indexOf(e)===a.value-1},isCurrent:function(e){return o.value.indexOf(e)===a.value},isBefore:function(e){return a.value<o.value.indexOf(e)},isAfter:v}},t.useStorage=j,t.useStorageAsync=function(e,t,n,a={}){var i;const{flush:l="pre",deep:s=!0,listenToStorageChanges:c=!0,writeDefaults:d=!0,mergeDefaults:v=!1,shallow:p,window:h=u,eventFilter:m,onError:g=e=>{}}=a,y=o.toValue(t),w=F(y),b=(p?r.shallowRef:r.ref)(t),x=null!=(i=a.serializer)?i:L[w];if(!n)try{n=z("getDefaultStorageAsync",()=>{var e;return null==(e=u)?void 0:e.localStorage})()}catch(e){g(e)}async function S(t){if(n&&(!t||t.key===e))try{const o=t?t.newValue:await n.getItem(e);if(null==o)b.value=y,d&&null!==y&&await n.setItem(e,await x.write(y));else if(v){const e=await x.read(o);"function"==typeof v?b.value=v(e,y):"object"!==w||Array.isArray(e)?b.value=e:b.value={...y,...e}}else b.value=await x.read(o)}catch(e){g(e)}}return S(),h&&c&&f(h,"storage",e=>Promise.resolve().then(()=>S(e))),n&&o.watchWithFilter(b,async()=>{try{null==b.value?await n.removeItem(e):await n.setItem(e,await x.write(b.value))}catch(e){g(e)}},{flush:l,deep:s,eventFilter:m}),b},t.useStyleTag=function(e,t={}){const n=r.ref(!1),{document:a=s,immediate:i=!0,manual:l=!1,id:u="vueuse_styletag_"+ ++Le}=t,c=r.ref(e);let d=()=>{};const f=()=>{if(!a)return;const e=a.getElementById(u)||a.createElement("style");e.isConnected||(e.id=u,t.media&&(e.media=t.media),a.head.appendChild(e)),n.value||(d=r.watch(c,t=>{e.textContent=t},{immediate:!0}),n.value=!0)},v=()=>{a&&n.value&&(d(),a.head.removeChild(a.getElementById(u)),n.value=!1)};return i&&!l&&o.tryOnMounted(f),l||o.tryOnScopeDispose(v),{id:u,css:c,unload:v,load:f,isLoaded:r.readonly(n)}},t.useSupported=m,t.useSwipe=function(e,t={}){const{threshold:n=50,onSwipe:a,onSwipeEnd:i,onSwipeStart:l,passive:s=!0,window:c=u}=t,d=r.reactive({x:0,y:0}),v=r.reactive({x:0,y:0}),p=r.computed(()=>d.x-v.x),h=r.computed(()=>d.y-v.y),{max:m,abs:g}=Math,y=r.computed(()=>m(g(p.value),g(h.value))>=n),w=r.ref(!1),b=r.computed(()=>y.value?g(p.value)>g(h.value)?p.value>0?"left":"right":h.value>0?"up":"down":"none"),x=e=>[e.touches[0].clientX,e.touches[0].clientY],S=(e,t)=>{v.x=e,v.y=t};let _;const E=function(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",o.noop,n),e.removeEventListener("x",o.noop),t}(null==c?void 0:c.document);_=s?E?{passive:!0}:{capture:!1}:E?{passive:!1,capture:!0}:{capture:!0};const k=[f(e,"touchstart",e=>{if(1!==e.touches.length)return;_.capture&&!_.passive&&e.preventDefault();const[t,n]=x(e);((e,t)=>{d.x=e,d.y=t})(t,n),S(t,n),null==l||l(e)},_),f(e,"touchmove",e=>{if(1!==e.touches.length)return;const[t,n]=x(e);S(t,n),!w.value&&y.value&&(w.value=!0),w.value&&(null==a||a(e))},_),f(e,["touchend","touchcancel"],e=>{w.value&&(null==i||i(e,b.value)),w.value=!1},_)];return{isPassiveEventSupported:E,isSwiping:w,direction:b,coordsStart:d,coordsEnd:v,lengthX:p,lengthY:h,stop:()=>k.forEach(e=>e())}},t.useTemplateRefsList=function(){const e=r.ref([]);return e.value.set=t=>{t&&e.value.push(t)},r.onBeforeUpdate(()=>{e.value.length=0}),e},t.useTextDirection=function(e={}){const{document:t=s,selector:n="html",observe:a=!1,initialValue:i="ltr"}=e;function l(){var e,o;return null!=(o=null==(e=null==t?void 0:t.querySelector(n))?void 0:e.getAttribute("dir"))?o:i}const u=r.ref(l());return o.tryOnMounted(()=>u.value=l()),a&&t&&g(t.querySelector(n),()=>u.value=l(),{attributes:!0}),r.computed({get:()=>u.value,set(e){var o,r;u.value=e,t&&(u.value?null==(o=t.querySelector(n))||o.setAttribute("dir",u.value):null==(r=t.querySelector(n))||r.removeAttribute("dir"))}})},t.useTextSelection=function(e={}){const{window:t=u}=e,n=r.ref(null),o=r.computed(()=>{var e,t;return null!=(t=null==(e=n.value)?void 0:e.toString())?t:""}),a=r.computed(()=>n.value?function(e){var t;const n=null!=(t=e.rangeCount)?t:0;return Array.from({length:n},(t,n)=>e.getRangeAt(n))}(n.value):[]),i=r.computed(()=>a.value.map(e=>e.getBoundingClientRect()));return t&&f(t.document,"selectionchange",function(){n.value=null,t&&(n.value=t.getSelection())}),{text:o,rects:i,ranges:a,selection:n}},t.useTextareaAutosize=function(e){var t;const n=r.ref(null==e?void 0:e.element),a=r.ref(null==e?void 0:e.input),i=null!=(t=null==e?void 0:e.styleProp)?t:"height",l=r.ref(1);function u(){var t;if(!n.value)return;let r="";n.value.style[i]="1px",l.value=null==(t=n.value)?void 0:t.scrollHeight,(null==e?void 0:e.styleTarget)?o.toValue(e.styleTarget).style[i]=`${l.value}px`:r=`${l.value}px`,n.value.style[i]=r}return r.watch([a,n],()=>r.nextTick(u),{immediate:!0}),r.watch(l,()=>{var t;return null==(t=null==e?void 0:e.onResize)?void 0:t.call(e)}),te(n,()=>u()),(null==e?void 0:e.watch)&&r.watch(e.watch,u,{immediate:!0,deep:!0}),{textarea:n,input:a,triggerResize:u}},t.useThrottledRefHistory=function(e,t={}){const{throttle:n=200,trailing:r=!0}=t,a=o.throttleFilter(n,r);return{...Q(e,{...t,eventFilter:a})}},t.useTimeAgo=function(e,t={}){const{controls:n=!1,updateInterval:a=3e4}=t,{now:i,...l}=Ne({interval:a,controls:!0}),u=r.computed(()=>Ge(new Date(o.toValue(e)),t,o.toValue(i)));return n?{timeAgo:u,...l}:u},t.useTimeoutPoll=function(e,t,n){const{start:a}=o.useTimeoutFn(l,t,{immediate:!1}),i=r.ref(!1);async function l(){i.value&&(await e(),a())}function u(){i.value||(i.value=!0,l())}function s(){i.value=!1}return(null==n?void 0:n.immediate)&&u(),o.tryOnScopeDispose(s),{isActive:i,pause:s,resume:u}},t.useTimestamp=function(e={}){const{controls:t=!1,offset:n=0,immediate:a=!0,interval:i="requestAnimationFrame",callback:l}=e,u=r.ref(o.timestamp()+n),s=()=>u.value=o.timestamp()+n,c=l?()=>{s(),l(u.value)}:s,d="requestAnimationFrame"===i?w(c,{immediate:a}):o.useIntervalFn(c,i,{immediate:a});return t?{timestamp:u,...d}:u},t.useTitle=function(e=null,t={}){var n,a,i;const{document:l=s,restoreOnUnmount:u=e=>e}=t,c=null!=(n=null==l?void 0:l.title)?n:"",d=o.toRef(null!=(a=null!=e?e:null==l?void 0:l.title)?a:null),f=e&&"function"==typeof e;function v(e){if(!("titleTemplate"in t))return e;const n=t.titleTemplate||"%s";return"function"==typeof n?n(e):o.toValue(n).replace(/%s/g,e)}return r.watch(d,(e,t)=>{e!==t&&l&&(l.title=v("string"==typeof e?e:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&l&&!f&&g(null==(i=l.head)?void 0:i.querySelector("title"),()=>{l&&l.title!==d.value&&(d.value=v(l.title))},{childList:!0}),o.tryOnBeforeUnmount(()=>{if(u){const e=u(c,d.value||"");null!=e&&l&&(l.title=e)}}),d},t.useTransition=function(e,t={}){let n=0;const a=()=>{const t=o.toValue(e);return"number"==typeof t?t:t.map(o.toValue)},i=r.ref(a());return r.watch(a,async e=>{var r,a;if(o.toValue(t.disabled))return;const l=++n;if(t.delay&&await o.promiseTimeout(o.toValue(t.delay)),l!==n)return;const u=Array.isArray(e)?e.map(o.toValue):o.toValue(e);null==(r=t.onStarted)||r.call(t),await Ke(i,i.value,u,{...t,abort:()=>{var e;return l!==n||(null==(e=t.abort)?void 0:e.call(t))}}),null==(a=t.onFinished)||a.call(t)},{deep:!0}),r.watch(()=>o.toValue(t.disabled),e=>{e&&(n++,i.value=a())}),o.tryOnScopeDispose(()=>{n++}),r.computed(()=>o.toValue(t.disabled)?a():i.value)},t.useUrlSearchParams=function(e="history",t={}){const{initialValue:n={},removeNullishValues:a=!0,removeFalsyValues:i=!1,write:l=!0,window:s=u}=t;if(!s)return r.reactive(n);const c=r.reactive({});function d(){return new URLSearchParams(function(){if("history"===e)return s.location.search||"";if("hash"===e){const e=s.location.hash||"",t=e.indexOf("?");return t>0?e.slice(t):""}return(s.location.hash||"").replace(/^#/,"")}())}function v(e){const t=new Set(Object.keys(c));for(const n of e.keys()){const o=e.getAll(n);c[n]=o.length>1?o:e.get(n)||"",t.delete(n)}Array.from(t).forEach(e=>delete c[e])}const{pause:p,resume:h}=o.pausableWatch(c,()=>{const e=new URLSearchParams("");Object.keys(c).forEach(t=>{const n=c[t];Array.isArray(n)?n.forEach(n=>e.append(t,n)):a&&null==n||i&&!n?e.delete(t):e.set(t,n)}),m(e)},{deep:!0});function m(t,n){p(),n&&v(t),s.history.replaceState(s.history.state,s.document.title,s.location.pathname+function(t){const n=t.toString();if("history"===e)return`${n?`?${n}`:""}${s.location.hash||""}`;if("hash-params"===e)return`${s.location.search||""}${n?`#${n}`:""}`;const o=s.location.hash||"#",r=o.indexOf("?");return r>0?`${o.slice(0,r)}${n?`?${n}`:""}`:`${o}${n?`?${n}`:""}`}(t)),h()}function g(){l&&m(d(),!0)}f(s,"popstate",g,!1),"history"!==e&&f(s,"hashchange",g,!1);const y=d();return y.keys().next().value?v(y):Object.assign(c,n),c},t.useUserMedia=function(e={}){var t,n;const a=r.ref(null!=(t=e.enabled)&&t),i=r.ref(null==(n=e.autoSwitch)||n),l=r.ref(e.constraints),{navigator:u=c}=e,s=m(()=>{var e;return null==(e=null==u?void 0:u.mediaDevices)?void 0:e.getUserMedia}),d=r.shallowRef();function f(e){switch(e){case"video":if(l.value)return l.value.video||!1;break;case"audio":if(l.value)return l.value.audio||!1}}async function v(){if(s.value&&!d.value)return d.value=await u.mediaDevices.getUserMedia({video:f("video"),audio:f("audio")}),d.value}function p(){var e;null==(e=d.value)||e.getTracks().forEach(e=>e.stop()),d.value=void 0}function h(){p(),a.value=!1}async function g(){return await v(),d.value&&(a.value=!0),d.value}async function y(){return p(),await g()}return r.watch(a,e=>{e?v():p()},{immediate:!0}),r.watch(l,()=>{i.value&&d.value&&y()},{immediate:!0}),o.tryOnScopeDispose(()=>{h()}),{isSupported:s,stream:d,start:g,stop:h,restart:y,constraints:l,enabled:a,autoSwitch:i}},t.useVModel=Je,t.useVModels=function(e,t,n={}){const o={};for(const r in e)o[r]=Je(e,r,t,n);return o},t.useVibrate=function(e){const{pattern:t=[],interval:n=0,navigator:r=c}=e||{},a=m(()=>void 0!==r&&"vibrate"in r),i=o.toRef(t);let l;const u=(e=i.value)=>{a.value&&r.vibrate(e)};return n>0&&(l=o.useIntervalFn(u,n,{immediate:!1,immediateCallback:!1})),{isSupported:a,pattern:t,intervalControls:l,vibrate:u,stop:()=>{a.value&&r.vibrate(0),null==l||l.pause()}}},t.useVirtualList=function(e,t){const{containerStyle:n,wrapperProps:o,scrollTo:a,calculateRange:i,currentList:l,containerRef:u}="itemHeight"in t?function(e,t){const n=Qe(t),{state:o,source:a,currentList:i,size:l,containerRef:u}=n,s={overflowY:"auto"},{itemHeight:c,overscan:d=5}=e,f=et(o,a,c),v=tt(a,c),p=nt("vertical",d,v,f,n),h=ot(c,a),m=r.computed(()=>h(o.value.start)),g=at(c,a);rt(l,t,u,p);const y=lt("vertical",p,h,u),w=r.computed(()=>({style:{width:"100%",height:g.value-m.value+"px",marginTop:`${m.value}px`}}));return{calculateRange:p,scrollTo:y,containerStyle:s,wrapperProps:w,currentList:i,containerRef:u}}(t,e):function(e,t){const n=Qe(t),{state:o,source:a,currentList:i,size:l,containerRef:u}=n,s={overflowX:"auto"},{itemWidth:c,overscan:d=5}=e,f=et(o,a,c),v=tt(a,c),p=nt("horizontal",d,v,f,n),h=ot(c,a),m=r.computed(()=>h(o.value.start)),g=at(c,a);rt(l,t,u,p);const y=lt("horizontal",p,h,u),w=r.computed(()=>({style:{height:"100%",width:g.value-m.value+"px",marginLeft:`${m.value}px`,display:"flex"}}));return{scrollTo:y,calculateRange:p,wrapperProps:w,containerStyle:s,currentList:i,containerRef:u}}(t,e);return{list:l,scrollTo:a,containerProps:{ref:u,onScroll:()=>{i()},style:n},wrapperProps:o}},t.useWakeLock=function(e={}){const{navigator:t=c,document:n=s}=e;let o;const a=m(()=>t&&"wakeLock"in t),i=r.ref(!1);return n&&f(n,"visibilitychange",async function(){a.value&&o&&(n&&"visible"===n.visibilityState&&(o=await t.wakeLock.request("screen")),i.value=!o.released)},{passive:!0}),{isSupported:a,isActive:i,request:async function(e){a.value&&(o=await t.wakeLock.request(e),i.value=!o.released)},release:async function(){a.value&&o&&(await o.release(),i.value=!o.released,o=null)}}},t.useWebNotification=function(e={}){const{window:t=u,requestPermissions:n=!0}=e,a=e,i=m(()=>{if(!t||!("Notification"in t))return!1;try{new Notification("")}catch(e){return!1}return!0}),l=r.ref(i.value&&"permission"in Notification&&"granted"===Notification.permission),s=r.ref(null),c=async()=>{if(i.value){if(!l.value&&"denied"!==Notification.permission){"granted"===await Notification.requestPermission()&&(l.value=!0)}return l.value}},{on:d,trigger:v}=o.createEventHook(),{on:p,trigger:h}=o.createEventHook(),{on:g,trigger:y}=o.createEventHook(),{on:w,trigger:b}=o.createEventHook(),x=()=>{s.value&&s.value.close(),s.value=null};if(n&&o.tryOnMounted(c),o.tryOnScopeDispose(x),i.value&&t){const e=t.document;f(e,"visibilitychange",t=>{t.preventDefault(),"visible"===e.visibilityState&&x()})}return{isSupported:i,notification:s,ensurePermissions:c,permissionGranted:l,show:async e=>{if(!i.value||!l.value)return;const t=Object.assign({},a,e);return s.value=new Notification(t.title||"",t),s.value.onclick=v,s.value.onshow=h,s.value.onerror=y,s.value.onclose=b,s.value},close:x,onClick:d,onShow:p,onError:g,onClose:w}},t.useWebSocket=function(e,t={}){const{onConnected:n,onDisconnected:a,onError:i,onMessage:l,immediate:u=!0,autoClose:s=!0,protocols:c=[]}=t,d=r.ref(null),v=r.ref("CLOSED"),p=r.ref(),h=o.toRef(e);let m,g,y,w=!1,b=0,x=[];const S=()=>{if(x.length&&p.value&&"OPEN"===v.value){for(const e of x)p.value.send(e);x=[]}},_=()=>{clearTimeout(y),y=void 0},E=(e=1e3,t)=>{o.isClient&&p.value&&(w=!0,_(),null==m||m(),p.value.close(e,t),p.value=void 0)},k=(e,t=!0)=>p.value&&"OPEN"===v.value?(S(),p.value.send(e),!0):(t&&x.push(e),!1),N=()=>{if(w||void 0===h.value)return;const e=new WebSocket(h.value,c);p.value=e,v.value="CONNECTING",e.onopen=()=>{v.value="OPEN",null==n||n(e),null==g||g(),S()},e.onclose=n=>{if(v.value="CLOSED",null==a||a(e,n),!w&&t.autoReconnect){const{retries:e=-1,delay:n=1e3,onFailed:o}=st(t.autoReconnect);b+=1,"number"==typeof e&&(e<0||b<e)||"function"==typeof e&&e()?setTimeout(N,n):null==o||o()}},e.onerror=t=>{null==i||i(e,t)},e.onmessage=n=>{if(t.heartbeat){_();const{message:e=ut}=st(t.heartbeat);if(n.data===e)return}d.value=n.data,null==l||l(e,n)}};if(t.heartbeat){const{message:e=ut,interval:n=1e3,pongTimeout:r=1e3}=st(t.heartbeat),{pause:a,resume:i}=o.useIntervalFn(()=>{k(e,!1),null==y&&(y=setTimeout(()=>{E(),w=!1},r))},n,{immediate:!1});m=a,g=i}s&&(o.isClient&&f("beforeunload",()=>E()),o.tryOnScopeDispose(E));const C=()=>{(o.isClient||o.isWorker)&&(E(),w=!1,b=0,N())};return u&&C(),r.watch(h,C),{data:d,status:v,close:E,send:k,open:C,ws:p}},t.useWebWorker=function(e,t,n){const{window:a=u}=null!=n?n:{},i=r.ref(null),l=r.shallowRef();return a&&(l.value="string"==typeof e?new Worker(e,t):"function"==typeof e?e():e,l.value.onmessage=e=>{i.value=e.data},o.tryOnScopeDispose(()=>{l.value&&l.value.terminate()})),{data:i,post:(...e)=>{l.value&&l.value.postMessage(...e)},terminate:function(){l.value&&l.value.terminate()},worker:l}},t.useWebWorkerFn=function(e,t={}){const{dependencies:n=[],localDependencies:a=[],timeout:i,window:l=u}=t,s=r.ref(),c=r.ref("PENDING"),d=r.ref({}),f=r.ref(),v=(e="PENDING")=>{s.value&&s.value._url&&l&&(s.value.terminate(),URL.revokeObjectURL(s.value._url),d.value={},s.value=void 0,l.clearTimeout(f.value),c.value=e)};return v(),o.tryOnScopeDispose(v),{workerFn:(...t)=>"RUNNING"===c.value?Promise.reject():(s.value=(()=>{const t=dt(e,n,a),o=new Worker(t);return o._url=t,o.onmessage=e=>{const{resolve:t=()=>{},reject:n=()=>{}}=d.value,[o,r]=e.data;"SUCCESS"===o?(t(r),v(o)):(n(r),v("ERROR"))},o.onerror=e=>{const{reject:t=()=>{}}=d.value;e.preventDefault(),t(e),v("ERROR")},i&&(f.value=setTimeout(()=>v("TIMEOUT_EXPIRED"),i)),o})(),((...e)=>new Promise((t,n)=>{d.value={resolve:t,reject:n},s.value&&s.value.postMessage([[...e]]),c.value="RUNNING"}))(...t)),workerStatus:c,workerTerminate:v}},t.useWindowFocus=function(e={}){const{window:t=u}=e;if(!t)return r.ref(!1);const n=r.ref(t.document.hasFocus());return f(t,"blur",()=>{n.value=!1}),f(t,"focus",()=>{n.value=!0}),n},t.useWindowScroll=function(e={}){const{window:t=u,behavior:n="auto"}=e;if(!t)return{x:r.ref(0),y:r.ref(0)};const o=r.ref(t.scrollX),a=r.ref(t.scrollY),i=r.computed({get:()=>o.value,set(e){scrollTo({left:e,behavior:n})}}),l=r.computed({get:()=>a.value,set(e){scrollTo({top:e,behavior:n})}});return f(t,"scroll",()=>{o.value=t.scrollX,a.value=t.scrollY},{capture:!1,passive:!0}),{x:i,y:l}},t.useWindowSize=function(e={}){const{window:t=u,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:l=!0}=e,s=r.ref(n),c=r.ref(a),d=()=>{t&&(l?(s.value=t.innerWidth,c.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(d(),o.tryOnMounted(d),f("resize",d,{passive:!0}),i){const e=T("(orientation: portrait)");r.watch(e,()=>d())}return{width:s,height:c}},Object.keys(o).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},9765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.B,default:()=>y});var o=n(8219),r=n(5072),a=n.n(r),i=n(7825),l=n.n(i),u=n(7659),s=n.n(u),c=n(5056),d=n.n(c),f=n(540),v=n.n(f),p=n(1113),h=n.n(p),m=n(3074),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=(0,n(6262).A)(o.A,[["__scopeId","data-v-a42568f0"]])},9820:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var o=n(4061),r=d(n(6969)),a=d(n(8574)),i=d(n(1302)),l=d(n(9765)),u=d(n(7918)),s=d(n(4239)),c=d(n(9009));function d(e){return e&&e.__esModule?e:{default:e}}t.default={container:(0,o.markRaw)(r.default),end:(0,o.markRaw)(a.default),ifNode:(0,o.markRaw)(i.default),self:(0,o.markRaw)(l.default),start:(0,o.markRaw)(u.default),system:(0,o.markRaw)(s.default),user:(0,o.markRaw)(c.default)}},9996:(e,t)=>{"use strict";t.B=!0,t.A=void 0;t.A={data:()=>({data:{},fields:[{name:"title",label:"\u8fde\u7ebf\u540d\u79f0"},{name:"type",label:"\u8fde\u7ebf\u7c7b\u578b"},{name:"color",label:"\u8282\u70b9\u989c\u8272"},{name:"border",label:"\u8fb9\u6846\u6837\u5f0f"},{name:"sourceNode",label:"\u8f93\u5165\u8282\u70b9",readonly:!0},{name:"targetNode",label:"\u8f93\u51fa\u8282\u70b9",readonly:!0}],edge:null}),created(){$.on("lineEditor",this.show)},methods:{show(e){this.edge=e,this.data=e?.data||{},this.$refs.action.show(),this.data.sourceNode=e.sourceNode.id,this.data.targetNode=e.targetNode.id},submit(){return this.edge&&Object.assign(this.edge.data,this.data),!1}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var e,t=(e=n(4711))&&e.__esModule?e:{default:e};n(6684),zen.component("flowable",t.default)})()})();